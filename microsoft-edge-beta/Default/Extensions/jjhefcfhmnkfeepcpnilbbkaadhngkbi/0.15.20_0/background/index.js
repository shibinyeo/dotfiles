(function(){"use strict";var SI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get createDocument(){return zre},get createDocuments(){return Bre},get removeDocument(){return YR},get removeDocuments(){return Ure},get updateDocument(){return qo},get initAllDocuments(){return QR},get addUserEvents(){return Hre},get initPersistentState(){return qre},get initClientData(){return Wre},get setClientStateLoaded(){return Vre},get moveRandomDocsToInbox(){return Gre},get documentLocationUpdatedEventName(){return eb},get doBulkActionOnDocs(){return qa},get newMoveAllDocsToNewStatus(){return Kre},get markAllDocumentsAsOpenOrUnopen(){return Yre},get deleteAllDocumentsInList(){return JR},get toggleAutoAdvance(){return Qre},get updateDefaultPageSetting(){return Xre},get addTagToAllDocsInList(){return Jre},get renameTags(){return ZR},get renameTag(){return Zre},get removeTagFromAllDocs(){return eie},get removeTagFromAllDocsInList(){return eN},get removeTagsFromAllDocs(){return tie},get setFocusedDocumentId(){return tN},get setFocusedHighlightId(){return nie},get setFocusedFeedId(){return rie},get setSortFeedsByKey(){return iie},get setSortFeedsByOrder(){return aie},get setFocusedTagId(){return oie},get setSortTagsByKey(){return sie},get setSortTagsByOrder(){return lie},get setFocusedViewId(){return uie},get setSortViewsByKey(){return cie},get setSortViewsByOrder(){return fie},get setMobileTableOfContents(){return die},get setMobileActiveTableOfContentsHeadingId(){return hie},get toggleTag(){return pie},get saveFilteredView(){return gie},get updateFilteredViews(){return nN},get updateFilteredView(){return mie},get updateFilteredViewsOrder(){return vie},get removeFilteredViews(){return rN},get removeFilteredView(){return yie},get mergeFilteredViews(){return wie},get useRSSFeedIdByUrl(){return bie},get toggleDocumentFeedSubscription(){return _ie},get restoreDeletedFeedSuggestions(){return Sie},get deleteFeedSuggestions(){return Eie},get subscribeToSuggestedFeeds(){return xie},get addFeed(){return iN},get removeFeeds(){return aN},get removeFeed(){return oN},get addTag(){return sN},get removeTag(){return kie},get undoDocumentAction(){return nb},get redoDocumentAction(){return lN},get undoLastDocumentAction(){return Tie},get redoLastDocumentAction(){return Aie},get setDocumentsListScrolled(){return Cie},get setIsDocMoreActionsDropdownOpen(){return Rie},get setIsEditTagsPopoverShown(){return Nie},get toggleIsDocMoreActionsDropdownOpen(){return Oie},get setFontSize(){return Iie},get setLineSpacing(){return Die},get setReaderHorizontalMargin(){return Pie},get setFont(){return fN},get toggleMobileLargeFeedView(){return Lie},get toggleAskToPasteUrls(){return $ie},get toggleHapticFeedback(){return Fie},get updateHeadphoneGesture(){return jie},get toggleOpenLinksInApp(){return Mie},get toggleDailyDigest(){return zie},get disableDailyDigestHomeNudge(){return Bie},get setPDFZoomLevel(){return Uie},get setPDFRotation(){return Hie},get setPDFInvertColors(){return qie},get setPDFSidebarContentType(){return Wie},get setMobileAutoHighlight(){return Vie},get setMobileLoggedIn(){return Gie},get setMobileSelectedFilteredViewQuery(){return Kie},get updateReadingPosition(){return dN},get updateScrollPosition(){return Yie},get setLinkActionUrl(){return Qie},get setTheme(){return Xie},get toggleDarkModeTheme(){return Jie},get fetchDocumentContent(){return pN},get watchLinksReceivedFromServer(){return tae},get loadDocumentLinks(){return Wh},get setCanUndoAction(){return rb},get markDocumentAsFirstOpened(){return nae},get markDocumentAsOpened(){return gN},get markDocumentAsUnopened(){return mN},get toggleDocumentOpened(){return rae},get bumpDocumentForUser(){return iae},get safeDelete(){return aae},get deleteDocumentForUser(){return vN},get closeDeleteDocumentDialog(){return oae},get saveSearchField(){return sae},get deleteSearchField(){return lae},get initAllTags(){return uae},get setCurrentlyReading(){return Gh},get togglePDFHtmlViewForDocument(){return cae},get openOriginalArticleOnWeb(){return fae},get saveLinkToReader(){return dae},get scrollToAnchor(){return pae},get setNewLinkLoading(){return gae},get copyTextOnWeb(){return mae},get copyDocumentTitleOnWeb(){return vae},get copyDocumentUrlOnWeb(){return yae},get copyDocumentReaderUrlOnWeb(){return wae},get setKeyboardShortcut(){return bae},get unsetKeyboardShortcut(){return _ae},get setNetworkStatus(){return yN},get setScreenWidth(){return Eae},get addRouteToNavigationStack(){return xae},get isReaderViewUrl(){return Wa},get setInboxZero(){return kae},get setEmptyStateCategory(){return Tae},get toggleZenMode(){return Aae},get cycleTypeface(){return Rae},get toggleHideLeftSidebar(){return Nae},get hideLeftSidebar(){return Oae},get toggleHideRightSidebar(){return Iae},get hideRightSidebar(){return wN},get toggleHideSidebars(){return Dae},get hideSidebars(){return Pae},get hideReaderViewSidebars(){return Lae},get hideRightReaderViewSidebar(){return $ae},get hideLeftReaderViewSidebar(){return Fae},get toggleHidePanelsOnEnteringReadingView(){return jae},get toggleHideRightPanelOnEnteringReadingView(){return Mae},get toggleHideLeftPanelOnEnteringReadingView(){return zae},get setHighlightIdToOpenAt(){return Bae},get toggleDocumentMetadataOpen(){return Uae},get toggleAppearancePanelOpen(){return Hae},get setAppearancePanelOpen(){return qae},get toggleVideoSettingsPanelOpen(){return Wae},get setVideoSettingsPanelOpen(){return Vae},get toggleEpubOriginalStyles(){return Gae},get overrideDocTitleFromState(){return ib},get overrideDocTitle(){return Kae},get overrideDocSummaryFromState(){return ab},get overrideDocSummary(){return Yae},get overrideDocProps(){return Qae},get overrideDocCoverImage(){return Xae},get overrideDocAuthorFromState(){return ob},get overrideDocAuthor(){return Jae},get setProfile(){return _N},get saveNewDocument(){return SN},get queueJob(){return Ec},get onBackgroundStateUpdates(){return EN},get filterPotentialStateUpdates(){return kN},get fetchRelatedRSSUnthrottled(){return AN},get fetchRelatedRSS(){return CN},get onRSSFeedsLoaded(){return RN},get getCurrentPersistentState(){return NN},get runForegroundStateChecksum(){return ON},get setMobileDocumentImageModalData(){return Zae},get updateCurrentDocumentIdsList(){return eoe},get updateMobileCurrentFocusedDocumentListId(){return toe},get updateFocusedMobileListState(){return noe},get updateFocusedMobileListStateFilteredView(){return roe},get updateMobileIsEmptyListState(){return ioe},get updateMobileLoggedInRootContainerNavBarHeight(){return aoe},get setIsExtensionActivatedForDocument(){return ooe},get setIsExtensionBarMinimizedForDocument(){return soe},get updateFilterDirtyState(){return loe},get updateFeedTitleFromState(){return sb},get updateFeedTitle(){return uoe},get updateFeedDescriptionFromState(){return lb},get updateFeedDescription(){return coe},get updateFeedDetails(){return foe},get setDocumentTTSWordTrackingOffset(){return doe},get stopTTS(){return ub},get setIsReading(){return hoe},get clearAllCaches(){return poe},get setWebEffectiveTheme(){return goe},get updateDailyDigestProgressIndex(){return moe},get setDailyDigestProgressDone(){return voe},get updateSwipeAction(){return yoe},get saveDocumentNote(){return woe},get updateOnboardingStep(){return boe},get updateMobileOnboardinStep(){return _oe},get resetOnboardingState(){return Soe},get saveMobileNotificationToken(){return IN},get setIntegrationConnected(){return Eoe},get removeIntegration(){return xoe},get setYTAutoScroll(){return koe},get toggleYTAutoScroll(){return Toe},get setSeekYtPlayerTo(){return Aoe},get toggleYtVideoPlaying(){return Coe},get setYtVideoPlaying(){return Roe},get setYtPlaybackRate(){return cb},get speedUpYtPlaybackRate(){return Noe},get slowDownYtPlaybackRate(){return Ooe},get setTextDirection(){return Ioe},get bumpHelpDocDatesToNow(){return Doe},get resetReadingProgress(){return Poe},get updateExportClipboardTemplate(){return Loe},get setGPTPromptLoadingStatus(){return $oe},get setMobileIsHomeTabActive(){return Foe},get setMobileStatusBarHeight(){return joe},get setMobileLastAnnotationSubpanelOpened(){return Moe},get setKeyboardLayout(){return zoe},get resetKeyboardShortcuts(){return Boe},get addShortcutToBlackList(){return DN},get removeShortcutFromBlackList(){return PN},get addCustomKeyboardShortcut(){return Uoe},get removeCustomKeyboardShortcut(){return Hoe},get resetCustomKeyboardShortcut(){return qoe},get setFilterQueryToCreate(){return Woe},get updateDocumentLinks(){return LN},get saveRedactedOpenAIApiKey(){return Voe},get removeRedactedOpenAIApiKey(){return Goe}});const EI=typeof chrome=="object"&&chrome&&typeof chrome.extension=="object",xI=typeof window=="object"?window:void 0;typeof location=="object"&&location.protocol.startsWith("http");function kI(){var e,t;return EI&&(location.pathname==="/_generated_background_page.html"||((t=(e=chrome.extension)===null||e===void 0?void 0:e.getBackgroundPage)===null||t===void 0?void 0:t.call(e))===xI)}function Lb(e,t,n,r){var i,a=!1,o=0;function s(){i&&clearTimeout(i)}typeof t!="boolean"&&(r=n,n=t,t=void 0);function l(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var d=this,p=Date.now()-o;a||(r&&!i&&v(),s(),r===void 0&&p>e?v():t!==!0&&(i=setTimeout(r?w:v,r===void 0?e-p:e)));function v(){o=Date.now(),n.apply(d,c)}function w(){i=void 0}}return l.cancel=function(){s(),a=!0},l}class Fc{constructor(t={}){this.registeredTypes=t}get(t){return this.registeredTypes[t]!==void 0?this.registeredTypes[t]:this.registeredTypes.default}register(t,n){this.registeredTypes[t]===void 0&&(this.registeredTypes[t]=n)}registerDefault(t){this.register("default",t)}}class $b extends Fc{constructor(t){super(t),this.registerDefault(n=>n.getAttribute("name")||"")}}class TI extends Fc{constructor(t){super(t),this.registerDefault(n=>n.value),this.register("checkbox",n=>n.getAttribute("value")!==null?n.checked?n.getAttribute("value"):null:n.checked),this.register("select",n=>function(r){var i,a,o,s=r.options,l=r.selectedIndex,u=r.type==="select-one",c=u?null:[],f=u?l+1:s.length;for(o=l<0?f:u?l:0;o<f;o++)if(((a=s[o]).selected||o===l)&&!a.disabled&&!(a.parentNode.disabled&&a.parentNode.tagName.toLowerCase()==="optgroup")){if(i=a.value,u)return i;c.push(i)}return c}(n))}}class AI extends Fc{constructor(t){super(t),this.registerDefault(()=>!0),this.register("radio",n=>n.checked)}}function CI(e){let t=e.match(/[^[\]]+/g),n;return e.length>1&&e.indexOf("[]")===e.length-2&&(n=t.pop(),t.push([n])),t}var Go=typeof Element!="undefined"?Element.prototype:{},Fb=Go.matches||Go.matchesSelector||Go.webkitMatchesSelector||Go.mozMatchesSelector||Go.msMatchesSelector||Go.oMatchesSelector,RI=function(e,t){if(!e||e.nodeType!==1)return!1;if(Fb)return Fb.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1};function tp(e){let t,n=e.tagName,r=n;return n.toLowerCase()==="input"&&(t=e.getAttribute("type"),r=t||"text"),r.toLowerCase()}function jb(e,t){return Array.prototype.filter.call(e.querySelectorAll("input,select,textarea"),n=>{if(n.tagName.toLowerCase()==="input"&&(n.type==="submit"||n.type==="reset"))return!1;let r=tp(n),i=t.keyExtractors.get(r)(n),a=(t.include||[]).indexOf(i)!==-1,o=(t.exclude||[]).indexOf(i)!==-1,s=!1,l=!1;if(t.ignoredTypes)for(let u of t.ignoredTypes)RI(n,u)&&(s=!0);return l=!a&&(!!t.include||o||s),!l})}function Mb(e,t,n){if(!t)return e;var r=t.shift();return e[r]||(e[r]=Array.isArray(r)?[]:{}),t.length===0&&(Array.isArray(e[r])?n!==null&&e[r].push(n):e[r]=n),t.length>0&&Mb(e[r],t,n),e}function NI(e,t={}){let n={};return t.keySplitter=t.keySplitter||CI,t.keyExtractors=new $b(t.keyExtractors||{}),t.inputReaders=new TI(t.inputReaders||{}),t.keyAssignmentValidators=new AI(t.keyAssignmentValidators||{}),Array.prototype.forEach.call(jb(e,t),r=>{let i=tp(r),a=t.keyExtractors.get(i)(r),o=t.inputReaders.get(i)(r);if(t.keyAssignmentValidators.get(i)(r,a,o)){let s=t.keySplitter(a);n=Mb(n,s,o)}}),n}class OI extends Fc{constructor(t){super(t),this.registerDefault((n,r)=>{n.value=r}),this.register("checkbox",(n,r)=>{r===null?n.indeterminate=!0:n.checked=Array.isArray(r)?r.indexOf(n.value)!==-1:r}),this.register("radio",function(n,r){r!==void 0&&(n.checked=n.value===r.toString())}),this.register("select",II)}}function II(e,t){for(var n,r,i=e.options,a=function(s){var l=[];return s!==null&&(Array.isArray(s)?l.push.apply(l,s):l.push(s)),l}(t),o=i.length;o--;)r=i[o],a.indexOf(r.value)>-1&&(r.setAttribute("selected",!0),n=!0);n||(e.selectedIndex=-1)}function DI(e,t){return e+"["+t+"]"}function zb(e,t,n={}){let r={},i=n.keyJoiner||DI;for(let a in e){if(!e.hasOwnProperty(a))continue;let o=e[a],s={};t&&(a=i(t,a)),Array.isArray(o)?(s[a+"[]"]=o,s[a]=o):typeof o=="object"?s=zb(o,a,n):s[a]=o,Object.assign(r,s)}return r}function PI(e,t,n={}){let r=zb(t,null,n);n.keyExtractors=new $b(n.keyExtractors||{}),n.inputWriters=new OI(n.inputWriters||{}),Array.prototype.forEach.call(jb(e,n),i=>{let a=tp(i),o=n.keyExtractors.get(a)(i);n.inputWriters.get(a)(i,r[o])})}var Bb=(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function o(l,u){if(!a[l]){a[l]={};for(var c=0;c<l.length;c++)a[l][l.charAt(c)]=c}return a[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return o(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),c=new Uint8Array(2*u.length),f=0,d=u.length;f<d;f++){var p=u.charCodeAt(f);c[2*f]=p>>>8,c[2*f+1]=p%256}return c},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=256*l[2*c]+l[2*c+1];var d=[];return u.forEach(function(p){d.push(n(p))}),s.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return o(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return n(u)})},_compress:function(l,u,c){if(l==null)return"";var f,d,p,v={},w={},A="",h="",g="",b=2,m=3,y=2,_=[],x=0,S=0;for(p=0;p<l.length;p+=1)if(A=l.charAt(p),Object.prototype.hasOwnProperty.call(v,A)||(v[A]=m++,w[A]=!0),h=g+A,Object.prototype.hasOwnProperty.call(v,h))g=h;else{if(Object.prototype.hasOwnProperty.call(w,g)){if(g.charCodeAt(0)<256){for(f=0;f<y;f++)x<<=1,S==u-1?(S=0,_.push(c(x)),x=0):S++;for(d=g.charCodeAt(0),f=0;f<8;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1}else{for(d=1,f=0;f<y;f++)x=x<<1|d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d=0;for(d=g.charCodeAt(0),f=0;f<16;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1}--b==0&&(b=Math.pow(2,y),y++),delete w[g]}else for(d=v[g],f=0;f<y;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1;--b==0&&(b=Math.pow(2,y),y++),v[h]=m++,g=String(A)}if(g!==""){if(Object.prototype.hasOwnProperty.call(w,g)){if(g.charCodeAt(0)<256){for(f=0;f<y;f++)x<<=1,S==u-1?(S=0,_.push(c(x)),x=0):S++;for(d=g.charCodeAt(0),f=0;f<8;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1}else{for(d=1,f=0;f<y;f++)x=x<<1|d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d=0;for(d=g.charCodeAt(0),f=0;f<16;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1}--b==0&&(b=Math.pow(2,y),y++),delete w[g]}else for(d=v[g],f=0;f<y;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1;--b==0&&(b=Math.pow(2,y),y++)}for(d=2,f=0;f<y;f++)x=x<<1|1&d,S==u-1?(S=0,_.push(c(x)),x=0):S++,d>>=1;for(;;){if(x<<=1,S==u-1){_.push(c(x));break}S++}return _.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f,d,p,v,w,A,h,g=[],b=4,m=4,y=3,_="",x=[],S={val:c(0),position:u,index:1};for(f=0;f<3;f+=1)g[f]=f;for(p=0,w=Math.pow(2,2),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;switch(p){case 0:for(p=0,w=Math.pow(2,8),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;h=n(p);break;case 1:for(p=0,w=Math.pow(2,16),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;h=n(p);break;case 2:return""}for(g[3]=h,d=h,x.push(h);;){if(S.index>l)return"";for(p=0,w=Math.pow(2,y),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;switch(h=p){case 0:for(p=0,w=Math.pow(2,8),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;g[m++]=n(p),h=m-1,b--;break;case 1:for(p=0,w=Math.pow(2,16),A=1;A!=w;)v=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),p|=(v>0?1:0)*A,A<<=1;g[m++]=n(p),h=m-1,b--;break;case 2:return x.join("")}if(b==0&&(b=Math.pow(2,y),y++),g[h])_=g[h];else{if(h!==m)return null;_=d+d.charAt(0)}x.push(_),g[m++]=d+_.charAt(0),d=_,--b==0&&(b=Math.pow(2,y),y++)}}};return s}();e!=null&&(e.exports=t)}(np={exports:{}},np.exports),np.exports),np;class Ub{constructor({defaults:t={},storageName:n="options",migrations:r=[],logging:i=!0}={}){Object.defineProperty(this,"storageName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_migrations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.storageName=n,this.defaults=t,this._handleFormInput=(a=300,o=this._handleFormInput.bind(this),s===void 0?Lb(a,o,!1):Lb(a,s,o!==!1));var a,o,s;this._handleStorageChangeOnForm=this._handleStorageChangeOnForm.bind(this),i||(this._log=()=>{}),this._migrations=this._runMigrations(r)}async getAll(){return await this._migrations,this._getAll()}async setAll(t){return await this._migrations,this._setAll(t)}async set(t){return this.setAll({...await this.getAll(),...t})}async syncForm(t){this._form=t instanceof HTMLFormElement?t:document.querySelector(t),this._form.addEventListener("input",this._handleFormInput),this._form.addEventListener("submit",this._handleFormSubmit),chrome.storage.onChanged.addListener(this._handleStorageChangeOnForm),this._updateForm(this._form,await this.getAll())}async stopSyncForm(){this._form&&(this._form.removeEventListener("input",this._handleFormInput),this._form.removeEventListener("submit",this._handleFormSubmit),chrome.storage.onChanged.removeListener(this._handleStorageChangeOnForm),delete this._form)}_log(t,...n){console[t](...n)}async _getAll(){return new Promise((t,n)=>{chrome.storage.sync.get(this.storageName,r=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t(this._decode(r[this.storageName]))})})}async _setAll(t){return this._log("log","Saving options",t),new Promise((n,r)=>{chrome.storage.sync.set({[this.storageName]:this._encode(t)},()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):n()})})}_encode(t){const n={...t};for(const[r,i]of Object.entries(n))this.defaults[r]===i&&delete n[r];return this._log("log","Without the default values",n),Bb.compressToEncodedURIComponent(JSON.stringify(n))}_decode(t){let n=t;return typeof t=="string"&&(n=JSON.parse(Bb.decompressFromEncodedURIComponent(t))),{...this.defaults,...n}}async _runMigrations(t){if(t.length===0||!kI()||!await async function(){return new Promise(i=>{var a;const o=s=>{s!=="development"?(chrome.runtime.onInstalled.addListener(()=>i(!0)),setTimeout(i,500,!1)):i(!0)};!((a=chrome.management)===null||a===void 0)&&a.getSelf?chrome.management.getSelf(({installType:s})=>o(s)):o("unknown")})}())return;const n=await this._getAll(),r=JSON.stringify(n);this._log("log","Found these stored options",{...n}),this._log("info","Will run",t.length,t.length===1?"migration":" migrations"),t.forEach(i=>i(n,this.defaults)),r!==JSON.stringify(n)&&await this._setAll(n)}async _handleFormInput({target:t}){const n=t;n.name&&(await this.set(this._parseForm(n.form)),n.form.dispatchEvent(new CustomEvent("options-sync:form-synced",{bubbles:!0})))}_handleFormSubmit(t){t.preventDefault()}_updateForm(t,n){const r=this._parseForm(t);for(const[a,o]of Object.entries(n))r[a]===o&&delete n[a];const i=Object.keys(n);i.length>0&&PI(t,n,{include:i})}_parseForm(t){const n=[];for(const r of t.querySelectorAll("[name]"))r.validity.valid&&!r.disabled&&n.push(r.name.replace(/\[.*]/,""));return NI(t,{include:n})}_handleStorageChangeOnForm(t,n){n!=="sync"||!t[this.storageName]||document.hasFocus()&&this._form.contains(document.activeElement)||this._updateForm(this._form,this._decode(t[this.storageName].newValue))}}Object.defineProperty(Ub,"migrations",{enumerable:!0,configurable:!0,writable:!0,value:{removeUnused(e,t){for(const n of Object.keys(e))n in t||delete e[n]}}}),window.optionsStorage=new Ub({defaults:{}});var or=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Hb(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}function jc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qb={exports:{}};(function(e,t){(function(n,r){r(e)})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:or,function(n){if(typeof browser=="undefined"||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",i="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",a=o=>{const s={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(s).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(M,V=void 0){super(V),this.createItem=M}get(M){return this.has(M)||this.set(M,this.createItem(M)),super.get(M)}}const u=S=>S&&typeof S=="object"&&typeof S.then=="function",c=(S,M)=>(...V)=>{o.runtime.lastError?S.reject(new Error(o.runtime.lastError.message)):M.singleCallbackArg||V.length<=1&&M.singleCallbackArg!==!1?S.resolve(V[0]):S.resolve(V)},f=S=>S==1?"argument":"arguments",d=(S,M)=>function(Z,...pe){if(pe.length<M.minArgs)throw new Error(`Expected at least ${M.minArgs} ${f(M.minArgs)} for ${S}(), got ${pe.length}`);if(pe.length>M.maxArgs)throw new Error(`Expected at most ${M.maxArgs} ${f(M.maxArgs)} for ${S}(), got ${pe.length}`);return new Promise((ge,we)=>{if(M.fallbackToNoCallback)try{Z[S](...pe,c({resolve:ge,reject:we},M))}catch(ee){console.warn(`${S} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,ee),Z[S](...pe),M.fallbackToNoCallback=!1,M.noCallback=!0,ge()}else M.noCallback?(Z[S](...pe),ge()):Z[S](...pe,c({resolve:ge,reject:we},M))})},p=(S,M,V)=>new Proxy(M,{apply(Z,pe,ge){return V.call(pe,S,...ge)}});let v=Function.call.bind(Object.prototype.hasOwnProperty);const w=(S,M={},V={})=>{let Z=Object.create(null),pe={has(we,ee){return ee in S||ee in Z},get(we,ee,Le){if(ee in Z)return Z[ee];if(!(ee in S))return;let je=S[ee];if(typeof je=="function")if(typeof M[ee]=="function")je=p(S,S[ee],M[ee]);else if(v(V,ee)){let E=d(ee,V[ee]);je=p(S,S[ee],E)}else je=je.bind(S);else if(typeof je=="object"&&je!==null&&(v(M,ee)||v(V,ee)))je=w(je,M[ee],V[ee]);else if(v(V,"*"))je=w(je,M[ee],V["*"]);else return Object.defineProperty(Z,ee,{configurable:!0,enumerable:!0,get(){return S[ee]},set(E){S[ee]=E}}),je;return Z[ee]=je,je},set(we,ee,Le,je){return ee in Z?Z[ee]=Le:S[ee]=Le,!0},defineProperty(we,ee,Le){return Reflect.defineProperty(Z,ee,Le)},deleteProperty(we,ee){return Reflect.deleteProperty(Z,ee)}},ge=Object.create(S);return new Proxy(ge,pe)},A=S=>({addListener(M,V,...Z){M.addListener(S.get(V),...Z)},hasListener(M,V){return M.hasListener(S.get(V))},removeListener(M,V){M.removeListener(S.get(V))}}),h=new l(S=>typeof S!="function"?S:function(V){const Z=w(V,{},{getContent:{minArgs:0,maxArgs:0}});S(Z)});let g=!1;const b=new l(S=>typeof S!="function"?S:function(V,Z,pe){let ge=!1,we,ee=new Promise(C=>{we=function(k){g||(console.warn(i,new Error().stack),g=!0),ge=!0,C(k)}}),Le;try{Le=S(V,Z,we)}catch(C){Le=Promise.reject(C)}const je=Le!==!0&&u(Le);if(Le!==!0&&!je&&!ge)return!1;const E=C=>{C.then(k=>{pe(k)},k=>{let L;k&&(k instanceof Error||typeof k.message=="string")?L=k.message:L="An unexpected error occurred",pe({__mozWebExtensionPolyfillReject__:!0,message:L})}).catch(k=>{console.error("Failed to send onMessage rejected reply",k)})};return E(je?Le:ee),!0}),m=({reject:S,resolve:M},V)=>{o.runtime.lastError?o.runtime.lastError.message===r?M():S(new Error(o.runtime.lastError.message)):V&&V.__mozWebExtensionPolyfillReject__?S(new Error(V.message)):M(V)},y=(S,M,V,...Z)=>{if(Z.length<M.minArgs)throw new Error(`Expected at least ${M.minArgs} ${f(M.minArgs)} for ${S}(), got ${Z.length}`);if(Z.length>M.maxArgs)throw new Error(`Expected at most ${M.maxArgs} ${f(M.maxArgs)} for ${S}(), got ${Z.length}`);return new Promise((pe,ge)=>{const we=m.bind(null,{resolve:pe,reject:ge});Z.push(we),V.sendMessage(...Z)})},_={devtools:{network:{onRequestFinished:A(h)}},runtime:{onMessage:A(b),onMessageExternal:A(b),sendMessage:y.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:y.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},x={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return s.privacy={network:{"*":x},services:{"*":x},websites:{"*":x}},w(o,_,s)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");n.exports=a(chrome)}else n.exports=browser})})(qb);var ct=qb.exports,Mc=()=>Boolean(ct.extension.getBackgroundPage);const Wb=[];Mc()&&ct.runtime.onMessage.addListener(async(e,t)=>{const{message:n,data:r}=e;console.log("onMessage",n,"start",r);let i;for(const a of Wb)if(i=await a(e,t),typeof i!="undefined")break;return console.log("onMessage",n,"end",typeof i=="string"&&i.length>23?`${i.substr(0,20)}...`:i),i});const Vb=e=>Wb.push(e);var rp={exports:{}};(function(e,t){(function(n,r){var i="0.7.35",a="",o="?",s="function",l="undefined",u="object",c="string",f="major",d="model",p="name",v="type",w="vendor",A="version",h="architecture",g="console",b="mobile",m="tablet",y="smarttv",_="wearable",x="embedded",S=350,M="Amazon",V="Apple",Z="ASUS",pe="BlackBerry",ge="Browser",we="Chrome",ee="Edge",Le="Firefox",je="Google",E="Huawei",C="LG",k="Microsoft",L="Motorola",z="Opera",K="Samsung",ae="Sharp",ie="Sony",O="Xiaomi",H="Zebra",J="Facebook",ve="Chromium OS",_e="Mac OS",Ee=function(fe,de){var Ce={};for(var De in fe)de[De]&&de[De].length%2===0?Ce[De]=de[De].concat(fe[De]):Ce[De]=fe[De];return Ce},Re=function(fe){for(var de={},Ce=0;Ce<fe.length;Ce++)de[fe[Ce].toUpperCase()]=fe[Ce];return de},Ke=function(fe,de){return typeof fe===c?lt(de).indexOf(lt(fe))!==-1:!1},lt=function(fe){return fe.toLowerCase()},ft=function(fe){return typeof fe===c?fe.replace(/[^\d\.]/g,a).split(".")[0]:r},tt=function(fe,de){if(typeof fe===c)return fe=fe.replace(/^\s\s*/,a),typeof de===l?fe:fe.substring(0,S)},it=function(fe,de){for(var Ce=0,De,Me,at,We,$e,ht;Ce<de.length&&!$e;){var X=de[Ce],me=de[Ce+1];for(De=Me=0;De<X.length&&!$e&&X[De];)if($e=X[De++].exec(fe),$e)for(at=0;at<me.length;at++)ht=$e[++Me],We=me[at],typeof We===u&&We.length>0?We.length===2?typeof We[1]==s?this[We[0]]=We[1].call(this,ht):this[We[0]]=We[1]:We.length===3?typeof We[1]===s&&!(We[1].exec&&We[1].test)?this[We[0]]=ht?We[1].call(this,ht,We[2]):r:this[We[0]]=ht?ht.replace(We[1],We[2]):r:We.length===4&&(this[We[0]]=ht?We[3].call(this,ht.replace(We[1],We[2])):r):this[We]=ht||r;Ce+=2}},yt=function(fe,de){for(var Ce in de)if(typeof de[Ce]===u&&de[Ce].length>0){for(var De=0;De<de[Ce].length;De++)if(Ke(de[Ce][De],fe))return Ce===o?r:Ce}else if(Ke(de[Ce],fe))return Ce===o?r:Ce;return fe},N={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},j={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,A],[/opios[\/ ]+([\w\.]+)/i],[A,[p,z+" Mini"]],[/\bopr\/([\w\.]+)/i],[A,[p,z]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,A],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[p,"UC"+ge]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[A,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[A,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[A,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+ge],A],[/\bfocus\/([\w\.]+)/i],[A,[p,Le+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[p,z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[p,z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[p,"MIUI "+ge]],[/fxios\/([-\w\.]+)/i],[A,[p,Le]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+ge]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+ge],A],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,A],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,J],A],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[A,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[p,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,we+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[p,"Android "+ge]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[A,yt,N]],[/(webkit|khtml)\/([\w\.]+)/i],[p,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[p,Le+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,A],[/(cobalt)\/([\w\.]+)/i],[p,[A,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,lt]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,a,lt]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,lt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[w,K],[v,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[w,K],[v,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[w,V],[v,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[w,V],[v,m]],[/(macintosh);/i],[d,[w,V]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[w,ae],[v,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[w,E],[v,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[w,E],[v,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[w,O],[v,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[w,O],[v,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[w,"OPPO"],[v,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[w,"Vivo"],[v,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[w,"Realme"],[v,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[w,L],[v,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[w,L],[v,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[w,C],[v,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[w,C],[v,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[w,"Lenovo"],[v,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[w,"Nokia"],[v,b]],[/(pixel c)\b/i],[d,[w,je],[v,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[w,je],[v,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[w,ie],[v,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[w,ie],[v,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[w,"OnePlus"],[v,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[w,M],[v,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[w,M],[v,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,w,[v,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[w,pe],[v,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[w,Z],[v,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[w,Z],[v,b]],[/(nexus 9)/i],[d,[w,"HTC"],[v,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[d,/_/g," "],[v,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[w,"Acer"],[v,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[w,"Meizu"],[v,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,d,[v,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,d,[v,m]],[/(surface duo)/i],[d,[w,k],[v,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[w,"Fairphone"],[v,b]],[/(u304aa)/i],[d,[w,"AT&T"],[v,b]],[/\bsie-(\w*)/i],[d,[w,"Siemens"],[v,b]],[/\b(rct\w+) b/i],[d,[w,"RCA"],[v,m]],[/\b(venue[\d ]{2,7}) b/i],[d,[w,"Dell"],[v,m]],[/\b(q(?:mv|ta)\w+) b/i],[d,[w,"Verizon"],[v,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[w,"Barnes & Noble"],[v,m]],[/\b(tm\d{3}\w+) b/i],[d,[w,"NuVision"],[v,m]],[/\b(k88) b/i],[d,[w,"ZTE"],[v,m]],[/\b(nx\d{3}j) b/i],[d,[w,"ZTE"],[v,b]],[/\b(gen\d{3}) b.+49h/i],[d,[w,"Swiss"],[v,b]],[/\b(zur\d{3}) b/i],[d,[w,"Swiss"],[v,m]],[/\b((zeki)?tb.*\b) b/i],[d,[w,"Zeki"],[v,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],d,[v,m]],[/\b(ns-?\w{0,9}) b/i],[d,[w,"Insignia"],[v,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[w,"NextBook"],[v,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],d,[v,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],d,[v,b]],[/\b(ph-1) /i],[d,[w,"Essential"],[v,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[w,"Envizen"],[v,m]],[/\b(trio[-\w\. ]+) b/i],[d,[w,"MachSpeed"],[v,m]],[/\btu_(1491) b/i],[d,[w,"Rotor"],[v,m]],[/(shield[\w ]+) b/i],[d,[w,"Nvidia"],[v,m]],[/(sprint) (\w+)/i],[w,d,[v,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[w,k],[v,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[w,H],[v,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[w,H],[v,b]],[/smart-tv.+(samsung)/i],[w,[v,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[w,K],[v,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,C],[v,y]],[/(apple) ?tv/i],[w,[d,V+" TV"],[v,y]],[/crkey/i],[[d,we+"cast"],[w,je],[v,y]],[/droid.+aft(\w)( bui|\))/i],[d,[w,M],[v,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[w,ae],[v,y]],[/(bravia[\w ]+)( bui|\))/i],[d,[w,ie],[v,y]],[/(mitv-\w{5}) bui/i],[d,[w,O],[v,y]],[/Hbbtv.*(technisat) (.*);/i],[w,d,[v,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,tt],[d,tt],[v,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,d,[v,g]],[/droid.+; (shield) bui/i],[d,[w,"Nvidia"],[v,g]],[/(playstation [345portablevi]+)/i],[d,[w,ie],[v,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[w,k],[v,g]],[/((pebble))app/i],[w,d,[v,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[w,V],[v,_]],[/droid.+; (glass) \d/i],[d,[w,je],[v,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[w,H],[v,_]],[/(quest( 2| pro)?)/i],[d,[w,J],[v,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[v,x]],[/(aeobc)\b/i],[d,[w,M],[v,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[v,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[v,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[p,ee+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,A],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,A],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[A,yt,j]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[A,yt,j]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,_e],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,A],[/\(bb(10);/i],[A,[p,pe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[A,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[p,Le+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[A,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[A,[p,we+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,ve],A],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,A],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,A]]},ce=function(fe,de){if(typeof fe===u&&(de=fe,fe=r),!(this instanceof ce))return new ce(fe,de).getResult();var Ce=typeof n!==l&&n.navigator?n.navigator:r,De=fe||(Ce&&Ce.userAgent?Ce.userAgent:a),Me=Ce&&Ce.userAgentData?Ce.userAgentData:r,at=de?Ee(W,de):W,We=Ce&&Ce.userAgent==De;return this.getBrowser=function(){var $e={};return $e[p]=r,$e[A]=r,it.call($e,De,at.browser),$e[f]=ft($e[A]),We&&Ce&&Ce.brave&&typeof Ce.brave.isBrave==s&&($e[p]="Brave"),$e},this.getCPU=function(){var $e={};return $e[h]=r,it.call($e,De,at.cpu),$e},this.getDevice=function(){var $e={};return $e[w]=r,$e[d]=r,$e[v]=r,it.call($e,De,at.device),We&&!$e[v]&&Me&&Me.mobile&&($e[v]=b),We&&$e[d]=="Macintosh"&&Ce&&typeof Ce.standalone!==l&&Ce.maxTouchPoints&&Ce.maxTouchPoints>2&&($e[d]="iPad",$e[v]=m),$e},this.getEngine=function(){var $e={};return $e[p]=r,$e[A]=r,it.call($e,De,at.engine),$e},this.getOS=function(){var $e={};return $e[p]=r,$e[A]=r,it.call($e,De,at.os),We&&!$e[p]&&Me&&Me.platform!="Unknown"&&($e[p]=Me.platform.replace(/chrome os/i,ve).replace(/macos/i,_e)),$e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return De},this.setUA=function($e){return De=typeof $e===c&&$e.length>S?tt($e,S):$e,this},this.setUA(De),this};ce.VERSION=i,ce.BROWSER=Re([p,A,f]),ce.CPU=Re([h]),ce.DEVICE=Re([d,w,v,g,b,y,m,_,x]),ce.ENGINE=ce.OS=Re([p,A]),e.exports&&(t=e.exports=ce),t.UAParser=ce;var G=typeof n!==l&&(n.jQuery||n.Zepto);if(G&&!G.ua){var be=new ce;G.ua=be.getResult(),G.ua.get=function(){return be.getUA()},G.ua.set=function(fe){be.setUA(fe);var de=be.getResult();for(var Ce in de)G.ua[Ce]=de[Ce]}}})(typeof window=="object"?window:or)})(rp,rp.exports);var LI=rp.exports;const aa=LI(navigator.userAgent),Gb="unknown",$I={engine:aa.engine.name||"Unknown",name:aa.browser.name||"unknown",version:aa.browser.version||"unknown"},Kb="production",Yb="289fe1c18a8d31f2239204f58162ecf89b350145",FI={model:aa.device.model||"unknown",type:aa.device.type||"unknown",vendor:aa.device.vendor||"unknown"},jI=Boolean(void 0),ip=Boolean({}.IS_TEST)||"Cypress"in window,ei=ip,Qb=Boolean({}.CF_PAGES_BRANCH),zc=Boolean({}.IS_IN_REACT_NATIVE_WEB_VIEW),Kn=navigator.product==="ReactNative"||zc,Jt=Boolean(1),Bc=!Jt&&!Kn,Uc=Kn?"mobile-app":Jt?"extension":"web-app",Xb={name:aa.os.name||"unknown",version:aa.os.version||"unknown"};var ap=()=>ei?"https://local.readwise.io:3001":Qb?window.location.origin:"https://read.readwise.io";const MI=[".readwise.io","readwise.io/reader/extension","about://","ap.www.namecheap.com","app.crowdmark.com","app.dext.com","brave://","chrome://","local.readwise.io:3001","local.readwise.io:8000/reader/extension",ap()],zI=["blog.readwise.io"];var Ko=e=>e&&(zI.some(t=>e.includes(t))||MI.every(t=>!e.includes(t))),BI=e=>new Promise(t=>{if(e){setTimeout(t,e);return}requestAnimationFrame(t)});function Jb(...e){var t;try{return ct.tabs.query(...e)}catch(n){if((t=n.message)!=null&&t.includes("No current window"))return console.warn(n),[];throw n}}async function Sl(...e){try{return Jb(...e)}catch(t){if(t.message&&(t.message.includes("Tabs cannot be queried right now")||t.message.includes("Tabs cannot be edited right now")))return await BI(100),Jb(...e);throw t}}var Ka={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(e,t){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(C){return Object.prototype.toString.call(C)==="[object Array]"},a=10,o=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",l=typeof Reflect=="object",u=typeof setImmediate=="function",c=u?setImmediate:setTimeout,f=s?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(E){var C=Object.getOwnPropertyNames(E);return C.push.apply(C,Object.getOwnPropertySymbols(E)),C}:Object.keys;function d(){this._events={},this._conf&&p.call(this,this._conf)}function p(E){E&&(this._conf=E,E.delimiter&&(this.delimiter=E.delimiter),E.maxListeners!==n&&(this._maxListeners=E.maxListeners),E.wildcard&&(this.wildcard=E.wildcard),E.newListener&&(this._newListener=E.newListener),E.removeListener&&(this._removeListener=E.removeListener),E.verboseMemoryLeak&&(this.verboseMemoryLeak=E.verboseMemoryLeak),E.ignoreErrors&&(this.ignoreErrors=E.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function v(E,C){var k="(node) warning: possible EventEmitter memory leak detected. "+E+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(k+=" Event name: "+C+"."),typeof process!="undefined"&&process.emitWarning){var L=new Error(k);L.name="MaxListenersExceededWarning",L.emitter=this,L.count=E,process.emitWarning(L)}else console.error(k),console.trace&&console.trace()}var w=function(E,C,k){var L=arguments.length;switch(L){case 0:return[];case 1:return[E];case 2:return[E,C];case 3:return[E,C,k];default:for(var z=new Array(L);L--;)z[L]=arguments[L];return z}};function A(E,C){for(var k={},L,z=E.length,K=C?value.length:0,ae=0;ae<z;ae++)L=E[ae],k[L]=ae<K?C[ae]:n;return k}function h(E,C,k){this._emitter=E,this._target=C,this._listeners={},this._listenersCount=0;var L,z;if((k.on||k.off)&&(L=k.on,z=k.off),C.addEventListener?(L=C.addEventListener,z=C.removeEventListener):C.addListener?(L=C.addListener,z=C.removeListener):C.on&&(L=C.on,z=C.off),!L&&!z)throw Error("target does not implement any known event API");if(typeof L!="function")throw TypeError("on method must be a function");if(typeof z!="function")throw TypeError("off method must be a function");this._on=L,this._off=z;var K=E._observers;K?K.push(this):E._observers=[this]}Object.assign(h.prototype,{subscribe:function(E,C,k){var L=this,z=this._target,K=this._emitter,ae=this._listeners,ie=function(){var O=w.apply(null,arguments),H={data:O,name:C,original:E};if(k){var J=k.call(z,H);J!==!1&&K.emit.apply(K,[H.name].concat(O));return}K.emit.apply(K,[C].concat(O))};if(ae[E])throw Error("Event '"+E+"' is already listening");this._listenersCount++,K._newListener&&K._removeListener&&!L._onNewListener?(this._onNewListener=function(O){O===C&&ae[E]===null&&(ae[E]=ie,L._on.call(z,E,ie))},K.on("newListener",this._onNewListener),this._onRemoveListener=function(O){O===C&&!K.hasListeners(O)&&ae[E]&&(ae[E]=null,L._off.call(z,E,ie))},ae[E]=null,K.on("removeListener",this._onRemoveListener)):(ae[E]=ie,L._on.call(z,E,ie))},unsubscribe:function(E){var C=this,k=this._listeners,L=this._emitter,z,K,ae=this._off,ie=this._target,O;if(E&&typeof E!="string")throw TypeError("event must be a string");function H(){C._onNewListener&&(L.off("newListener",C._onNewListener),L.off("removeListener",C._onRemoveListener),C._onNewListener=null,C._onRemoveListener=null);var J=S.call(L,C);L._observers.splice(J,1)}if(E){if(z=k[E],!z)return;ae.call(ie,E,z),delete k[E],--this._listenersCount||H()}else{for(K=f(k),O=K.length;O-- >0;)E=K[O],ae.call(ie,E,k[E]);this._listeners={},this._listenersCount=0,H()}}});function g(E,C,k,L){var z=Object.assign({},C);if(!E)return z;if(typeof E!="object")throw TypeError("options must be an object");var K=Object.keys(E),ae=K.length,ie,O,H;function J(_e){throw Error('Invalid "'+ie+'" option value'+(_e?". Reason: "+_e:""))}for(var ve=0;ve<ae;ve++){if(ie=K[ve],!L&&!r.call(C,ie))throw Error('Unknown "'+ie+'" option');O=E[ie],O!==n&&(H=k[ie],z[ie]=H?H(O,J):O)}return z}function b(E,C){return(typeof E!="function"||!E.hasOwnProperty("prototype"))&&C("value must be a constructor"),E}function m(E){var C="value must be type of "+E.join("|"),k=E.length,L=E[0],z=E[1];return k===1?function(K,ae){if(typeof K===L)return K;ae(C)}:k===2?function(K,ae){var ie=typeof K;if(ie===L||ie===z)return K;ae(C)}:function(K,ae){for(var ie=typeof K,O=k;O-- >0;)if(ie===E[O])return K;ae(C)}}var y=m(["function"]),_=m(["object","function"]);function x(E,C,k){var L,z,K=0,ae,ie=new E(function(O,H,J){k=g(k,{timeout:0,overload:!1},{timeout:function(Re,Ke){return Re*=1,(typeof Re!="number"||Re<0||!Number.isFinite(Re))&&Ke("timeout must be a positive number"),Re}}),L=!k.overload&&typeof E.prototype.cancel=="function"&&typeof J=="function";function ve(){z&&(z=null),K&&(clearTimeout(K),K=0)}var _e=function(Re){ve(),O(Re)},Ee=function(Re){ve(),H(Re)};L?C(_e,Ee,J):(z=[function(Re){Ee(Re||Error("canceled"))}],C(_e,Ee,function(Re){if(ae)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Re!="function")throw TypeError("onCancel callback must be a function");z.push(Re)}),ae=!0),k.timeout>0&&(K=setTimeout(function(){var Re=Error("timeout");Re.code="ETIMEDOUT",K=0,ie.cancel(Re),H(Re)},k.timeout))});return L||(ie.cancel=function(O){if(!!z){for(var H=z.length,J=1;J<H;J++)z[J](O);z[0](O),z=null}}),ie}function S(E){var C=this._observers;if(!C)return-1;for(var k=C.length,L=0;L<k;L++)if(C[L]._target===E)return L;return-1}function M(E,C,k,L,z){if(!k)return null;if(L===0){var K=typeof C;if(K==="string"){var ae,ie,O=0,H=0,J=this.delimiter,ve=J.length;if((ie=C.indexOf(J))!==-1){ae=new Array(5);do ae[O++]=C.slice(H,ie),H=ie+ve;while((ie=C.indexOf(J,H))!==-1);ae[O++]=C.slice(H),C=ae,z=O}else C=[C],z=1}else K==="object"?z=C.length:(C=[C],z=1)}var _e=null,Ee,Re,Ke,lt,ft,tt=C[L],it=C[L+1],yt,N;if(L===z)k._listeners&&(typeof k._listeners=="function"?(E&&E.push(k._listeners),_e=[k]):(E&&E.push.apply(E,k._listeners),_e=[k]));else if(tt==="*"){for(yt=f(k),ie=yt.length;ie-- >0;)Ee=yt[ie],Ee!=="_listeners"&&(N=M(E,C,k[Ee],L+1,z),N&&(_e?_e.push.apply(_e,N):_e=N));return _e}else if(tt==="**"){for(ft=L+1===z||L+2===z&&it==="*",ft&&k._listeners&&(_e=M(E,C,k,z,z)),yt=f(k),ie=yt.length;ie-- >0;)Ee=yt[ie],Ee!=="_listeners"&&(Ee==="*"||Ee==="**"?(k[Ee]._listeners&&!ft&&(N=M(E,C,k[Ee],z,z),N&&(_e?_e.push.apply(_e,N):_e=N)),N=M(E,C,k[Ee],L,z)):Ee===it?N=M(E,C,k[Ee],L+2,z):N=M(E,C,k[Ee],L,z),N&&(_e?_e.push.apply(_e,N):_e=N));return _e}else k[tt]&&(_e=M(E,C,k[tt],L+1,z));if(Re=k["*"],Re&&M(E,C,Re,L+1,z),Ke=k["**"],Ke)if(L<z)for(Ke._listeners&&M(E,C,Ke,z,z),yt=f(Ke),ie=yt.length;ie-- >0;)Ee=yt[ie],Ee!=="_listeners"&&(Ee===it?M(E,C,Ke[Ee],L+2,z):Ee===tt?M(E,C,Ke[Ee],L+1,z):(lt={},lt[Ee]=Ke[Ee],M(E,C,{"**":lt},L+1,z)));else Ke._listeners?M(E,C,Ke,z,z):Ke["*"]&&Ke["*"]._listeners&&M(E,C,Ke["*"],z,z);return _e}function V(E,C,k){var L=0,z=0,K,ae=this.delimiter,ie=ae.length,O;if(typeof E=="string")if((K=E.indexOf(ae))!==-1){O=new Array(5);do O[L++]=E.slice(z,K),z=K+ie;while((K=E.indexOf(ae,z))!==-1);O[L++]=E.slice(z)}else O=[E],L=1;else O=E,L=E.length;if(L>1){for(K=0;K+1<L;K++)if(O[K]==="**"&&O[K+1]==="**")return}var H=this.listenerTree,J;for(K=0;K<L;K++)if(J=O[K],H=H[J]||(H[J]={}),K===L-1)return H._listeners?(typeof H._listeners=="function"&&(H._listeners=[H._listeners]),k?H._listeners.unshift(C):H._listeners.push(C),!H._listeners.warned&&this._maxListeners>0&&H._listeners.length>this._maxListeners&&(H._listeners.warned=!0,v.call(this,H._listeners.length,J))):H._listeners=C,!0;return!0}function Z(E,C,k,L){for(var z=f(E),K=z.length,ae,ie,O,H=E._listeners,J;K-- >0;)ie=z[K],ae=E[ie],ie==="_listeners"?O=k:O=k?k.concat(ie):[ie],J=L||typeof ie=="symbol",H&&C.push(J?O:O.join(this.delimiter)),typeof ae=="object"&&Z.call(this,ae,C,O,J);return C}function pe(E){for(var C=f(E),k=C.length,L,z,K;k-- >0;)z=C[k],L=E[z],L&&(K=!0,z!=="_listeners"&&!pe(L)&&delete E[z]);return K}function ge(E,C,k){this.emitter=E,this.event=C,this.listener=k}ge.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function we(E,C,k){if(k===!0)z=!0;else if(k===!1)L=!0;else{if(!k||typeof k!="object")throw TypeError("options should be an object or true");var L=k.async,z=k.promisify,K=k.nextTick,ae=k.objectify}if(L||K||z){var ie=C,O=C._origin||C;if(K&&!o)throw Error("process.nextTick is not supported");z===n&&(z=C.constructor.name==="AsyncFunction"),C=function(){var H=arguments,J=this,ve=this.event;return z?K?Promise.resolve():new Promise(function(_e){c(_e)}).then(function(){return J.event=ve,ie.apply(J,H)}):(K?process.nextTick:c)(function(){J.event=ve,ie.apply(J,H)})},C._async=!0,C._origin=O}return[C,ae?new ge(this,E,C):this]}function ee(E){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,E)}ee.EventEmitter2=ee,ee.prototype.listenTo=function(E,C,k){if(typeof E!="object")throw TypeError("target musts be an object");var L=this;k=g(k,{on:n,off:n,reducers:n},{on:y,off:y,reducers:_});function z(K){if(typeof K!="object")throw TypeError("events must be an object");var ae=k.reducers,ie=S.call(L,E),O;ie===-1?O=new h(L,E,k):O=L._observers[ie];for(var H=f(K),J=H.length,ve,_e=typeof ae=="function",Ee=0;Ee<J;Ee++)ve=H[Ee],O.subscribe(ve,K[ve]||ve,_e?ae:ae&&ae[ve])}return i(C)?z(A(C)):z(typeof C=="string"?A(C.split(/\s+/)):C),this},ee.prototype.stopListeningTo=function(E,C){var k=this._observers;if(!k)return!1;var L=k.length,z,K=!1;if(E&&typeof E!="object")throw TypeError("target should be an object");for(;L-- >0;)z=k[L],(!E||z._target===E)&&(z.unsubscribe(C),K=!0);return K},ee.prototype.delimiter=".",ee.prototype.setMaxListeners=function(E){E!==n&&(this._maxListeners=E,this._conf||(this._conf={}),this._conf.maxListeners=E)},ee.prototype.getMaxListeners=function(){return this._maxListeners},ee.prototype.event="",ee.prototype.once=function(E,C,k){return this._once(E,C,!1,k)},ee.prototype.prependOnceListener=function(E,C,k){return this._once(E,C,!0,k)},ee.prototype._once=function(E,C,k,L){return this._many(E,1,C,k,L)},ee.prototype.many=function(E,C,k,L){return this._many(E,C,k,!1,L)},ee.prototype.prependMany=function(E,C,k,L){return this._many(E,C,k,!0,L)},ee.prototype._many=function(E,C,k,L,z){var K=this;if(typeof k!="function")throw new Error("many only accepts instances of Function");function ae(){return--C===0&&K.off(E,ae),k.apply(this,arguments)}return ae._origin=k,this._on(E,ae,L,z)},ee.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var E=arguments[0],C,k=this.wildcard,L,z,K,ae,ie;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(k&&(C=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(z=E.length,s){for(K=0;K<z;K++)if(typeof E[K]=="symbol"){ie=!0;break}}ie||(E=E.join(this.delimiter))}var O=arguments.length,H;if(this._all&&this._all.length)for(H=this._all.slice(),K=0,z=H.length;K<z;K++)switch(this.event=E,O){case 1:H[K].call(this,E);break;case 2:H[K].call(this,E,arguments[1]);break;case 3:H[K].call(this,E,arguments[1],arguments[2]);break;default:H[K].apply(this,arguments)}if(k)H=[],M.call(this,H,C,this.listenerTree,0,z);else if(H=this._events[E],typeof H=="function"){switch(this.event=E,O){case 1:H.call(this);break;case 2:H.call(this,arguments[1]);break;case 3:H.call(this,arguments[1],arguments[2]);break;default:for(L=new Array(O-1),ae=1;ae<O;ae++)L[ae-1]=arguments[ae];H.apply(this,L)}return!0}else H&&(H=H.slice());if(H&&H.length){if(O>3)for(L=new Array(O-1),ae=1;ae<O;ae++)L[ae-1]=arguments[ae];for(K=0,z=H.length;K<z;K++)switch(this.event=E,O){case 1:H[K].call(this);break;case 2:H[K].call(this,arguments[1]);break;case 3:H[K].call(this,arguments[1],arguments[2]);break;default:H[K].apply(this,L)}return!0}else if(!this.ignoreErrors&&!this._all&&E==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},ee.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var E=arguments[0],C=this.wildcard,k,L,z,K,ae,ie;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(C&&(k=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(K=E.length,s){for(ae=0;ae<K;ae++)if(typeof E[ae]=="symbol"){L=!0;break}}L||(E=E.join(this.delimiter))}var O=[],H=arguments.length,J;if(this._all)for(ae=0,K=this._all.length;ae<K;ae++)switch(this.event=E,H){case 1:O.push(this._all[ae].call(this,E));break;case 2:O.push(this._all[ae].call(this,E,arguments[1]));break;case 3:O.push(this._all[ae].call(this,E,arguments[1],arguments[2]));break;default:O.push(this._all[ae].apply(this,arguments))}if(C?(J=[],M.call(this,J,k,this.listenerTree,0)):J=this._events[E],typeof J=="function")switch(this.event=E,H){case 1:O.push(J.call(this));break;case 2:O.push(J.call(this,arguments[1]));break;case 3:O.push(J.call(this,arguments[1],arguments[2]));break;default:for(z=new Array(H-1),ie=1;ie<H;ie++)z[ie-1]=arguments[ie];O.push(J.apply(this,z))}else if(J&&J.length){if(J=J.slice(),H>3)for(z=new Array(H-1),ie=1;ie<H;ie++)z[ie-1]=arguments[ie];for(ae=0,K=J.length;ae<K;ae++)switch(this.event=E,H){case 1:O.push(J[ae].call(this));break;case 2:O.push(J[ae].call(this,arguments[1]));break;case 3:O.push(J[ae].call(this,arguments[1],arguments[2]));break;default:O.push(J[ae].apply(this,z))}}else if(!this.ignoreErrors&&!this._all&&E==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(O)},ee.prototype.on=function(E,C,k){return this._on(E,C,!1,k)},ee.prototype.prependListener=function(E,C,k){return this._on(E,C,!0,k)},ee.prototype.onAny=function(E){return this._onAny(E,!1)},ee.prototype.prependAny=function(E){return this._onAny(E,!0)},ee.prototype.addListener=ee.prototype.on,ee.prototype._onAny=function(E,C){if(typeof E!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),C?this._all.unshift(E):this._all.push(E),this},ee.prototype._on=function(E,C,k,L){if(typeof E=="function")return this._onAny(E,C),this;if(typeof C!="function")throw new Error("on only accepts instances of Function");this._events||d.call(this);var z=this,K;return L!==n&&(K=we.call(this,E,C,L),C=K[0],z=K[1]),this._newListener&&this.emit("newListener",E,C),this.wildcard?(V.call(this,E,C,k),z):(this._events[E]?(typeof this._events[E]=="function"&&(this._events[E]=[this._events[E]]),k?this._events[E].unshift(C):this._events[E].push(C),!this._events[E].warned&&this._maxListeners>0&&this._events[E].length>this._maxListeners&&(this._events[E].warned=!0,v.call(this,this._events[E].length,E))):this._events[E]=C,z)},ee.prototype.off=function(E,C){if(typeof C!="function")throw new Error("removeListener only takes instances of Function");var k,L=[];if(this.wildcard){var z=typeof E=="string"?E.split(this.delimiter):E.slice();if(L=M.call(this,null,z,this.listenerTree,0),!L)return this}else{if(!this._events[E])return this;k=this._events[E],L.push({_listeners:k})}for(var K=0;K<L.length;K++){var ae=L[K];if(k=ae._listeners,i(k)){for(var ie=-1,O=0,H=k.length;O<H;O++)if(k[O]===C||k[O].listener&&k[O].listener===C||k[O]._origin&&k[O]._origin===C){ie=O;break}if(ie<0)continue;return this.wildcard?ae._listeners.splice(ie,1):this._events[E].splice(ie,1),k.length===0&&(this.wildcard?delete ae._listeners:delete this._events[E]),this._removeListener&&this.emit("removeListener",E,C),this}else(k===C||k.listener&&k.listener===C||k._origin&&k._origin===C)&&(this.wildcard?delete ae._listeners:delete this._events[E],this._removeListener&&this.emit("removeListener",E,C))}return this.listenerTree&&pe(this.listenerTree),this},ee.prototype.offAny=function(E){var C=0,k=0,L;if(E&&this._all&&this._all.length>0){for(L=this._all,C=0,k=L.length;C<k;C++)if(E===L[C])return L.splice(C,1),this._removeListener&&this.emit("removeListenerAny",E),this}else{if(L=this._all,this._removeListener)for(C=0,k=L.length;C<k;C++)this.emit("removeListenerAny",L[C]);this._all=[]}return this},ee.prototype.removeListener=ee.prototype.off,ee.prototype.removeAllListeners=function(E){if(E===n)return!this._events||d.call(this),this;if(this.wildcard){var C=M.call(this,null,E,this.listenerTree,0),k,L;if(!C)return this;for(L=0;L<C.length;L++)k=C[L],k._listeners=null;this.listenerTree&&pe(this.listenerTree)}else this._events&&(this._events[E]=null);return this},ee.prototype.listeners=function(E){var C=this._events,k,L,z,K,ae;if(E===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!C)return[];for(k=f(C),K=k.length,z=[];K-- >0;)L=C[k[K]],typeof L=="function"?z.push(L):z.push.apply(z,L);return z}else{if(this.wildcard){if(ae=this.listenerTree,!ae)return[];var ie=[],O=typeof E=="string"?E.split(this.delimiter):E.slice();return M.call(this,ie,O,ae,0),ie}return C?(L=C[E],L?typeof L=="function"?[L]:L:[]):[]}},ee.prototype.eventNames=function(E){var C=this._events;return this.wildcard?Z.call(this,this.listenerTree,[],null,E):C?f(C):[]},ee.prototype.listenerCount=function(E){return this.listeners(E).length},ee.prototype.hasListeners=function(E){if(this.wildcard){var C=[],k=typeof E=="string"?E.split(this.delimiter):E.slice();return M.call(this,C,k,this.listenerTree,0),C.length>0}var L=this._events,z=this._all;return!!(z&&z.length||L&&(E===n?f(L).length:L[E]))},ee.prototype.listenersAny=function(){return this._all?this._all:[]},ee.prototype.waitFor=function(E,C){var k=this,L=typeof C;return L==="number"?C={timeout:C}:L==="function"&&(C={filter:C}),C=g(C,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:y,Promise:b}),x(C.Promise,function(z,K,ae){function ie(){var O=C.filter;if(!(O&&!O.apply(k,arguments)))if(k.off(E,ie),C.handleError){var H=arguments[0];H?K(H):z(w.apply(null,arguments).slice(1))}else z(w.apply(null,arguments))}ae(function(){k.off(E,ie)}),k._on(E,ie,!1)},{timeout:C.timeout,overload:C.overload})};function Le(E,C,k){k=g(k,{Promise,timeout:0,overload:!1},{Promise:b});var L=k.Promise;return x(L,function(z,K,ae){var ie;if(typeof E.addEventListener=="function"){ie=function(){z(w.apply(null,arguments))},ae(function(){E.removeEventListener(C,ie)}),E.addEventListener(C,ie,{once:!0});return}var O=function(){H&&E.removeListener("error",H),z(w.apply(null,arguments))},H;C!=="error"&&(H=function(J){E.removeListener(C,O),K(J)},E.once("error",H)),ae(function(){H&&E.removeListener("error",H),E.removeListener(C,O)}),E.once(C,O)},{timeout:k.timeout,overload:k.overload})}var je=ee.prototype;Object.defineProperties(ee,{defaultMaxListeners:{get:function(){return je._maxListeners},set:function(E){if(typeof E!="number"||E<0||Number.isNaN(E))throw TypeError("n must be a non-negative number");je._maxListeners=E},enumerable:!0},once:{value:Le,writable:!0,configurable:!0}}),Object.defineProperties(je,{_maxListeners:{value:a,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof n=="function"&&n.amd?n(function(){return ee}):e.exports=ee})()})(Ka);var UI=Array.isArray,Fn=UI,HI=typeof or=="object"&&or&&or.Object===Object&&or,Zb=HI,qI=Zb,WI=typeof self=="object"&&self&&self.Object===Object&&self,VI=qI||WI||Function("return this")(),ti=VI,GI=ti,KI=GI.Symbol,Yo=KI,e0=Yo,t0=Object.prototype,YI=t0.hasOwnProperty,QI=t0.toString,El=e0?e0.toStringTag:void 0;function XI(e){var t=YI.call(e,El),n=e[El];try{e[El]=void 0;var r=!0}catch{}var i=QI.call(e);return r&&(t?e[El]=n:delete e[El]),i}var JI=XI,ZI=Object.prototype,eD=ZI.toString;function tD(e){return eD.call(e)}var nD=tD,n0=Yo,rD=JI,iD=nD,aD="[object Null]",oD="[object Undefined]",r0=n0?n0.toStringTag:void 0;function sD(e){return e==null?e===void 0?oD:aD:r0&&r0 in Object(e)?rD(e):iD(e)}var Qo=sD;function lD(e){return e!=null&&typeof e=="object"}var ji=lD,uD=Qo,cD=ji,fD="[object Symbol]";function dD(e){return typeof e=="symbol"||cD(e)&&uD(e)==fD}var Hc=dD,hD=Fn,pD=Hc,gD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mD=/^\w*$/;function vD(e,t){if(hD(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||pD(e)?!0:mD.test(e)||!gD.test(e)||t!=null&&e in Object(t)}var op=vD;function yD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sr=yD,wD=Qo,bD=sr,_D="[object AsyncFunction]",SD="[object Function]",ED="[object GeneratorFunction]",xD="[object Proxy]";function kD(e){if(!bD(e))return!1;var t=wD(e);return t==SD||t==ED||t==_D||t==xD}var sp=kD,TD=ti,AD=TD["__core-js_shared__"],CD=AD,lp=CD,i0=function(){var e=/[^.]+$/.exec(lp&&lp.keys&&lp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RD(e){return!!i0&&i0 in e}var ND=RD,OD=Function.prototype,ID=OD.toString;function DD(e){if(e!=null){try{return ID.call(e)}catch{}try{return e+""}catch{}}return""}var a0=DD,PD=sp,LD=ND,$D=sr,FD=a0,jD=/[\\^$.*+?()[\]{}|]/g,MD=/^\[object .+?Constructor\]$/,zD=Function.prototype,BD=Object.prototype,UD=zD.toString,HD=BD.hasOwnProperty,qD=RegExp("^"+UD.call(HD).replace(jD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WD(e){if(!$D(e)||LD(e))return!1;var t=PD(e)?qD:MD;return t.test(FD(e))}var VD=WD;function GD(e,t){return e==null?void 0:e[t]}var KD=GD,YD=VD,QD=KD;function XD(e,t){var n=QD(e,t);return YD(n)?n:void 0}var Ya=XD,JD=Ya,ZD=JD(Object,"create"),qc=ZD,o0=qc;function eP(){this.__data__=o0?o0(null):{},this.size=0}var tP=eP;function nP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rP=nP,iP=qc,aP="__lodash_hash_undefined__",oP=Object.prototype,sP=oP.hasOwnProperty;function lP(e){var t=this.__data__;if(iP){var n=t[e];return n===aP?void 0:n}return sP.call(t,e)?t[e]:void 0}var uP=lP,cP=qc,fP=Object.prototype,dP=fP.hasOwnProperty;function hP(e){var t=this.__data__;return cP?t[e]!==void 0:dP.call(t,e)}var pP=hP,gP=qc,mP="__lodash_hash_undefined__";function vP(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gP&&t===void 0?mP:t,this}var yP=vP,wP=tP,bP=rP,_P=uP,SP=pP,EP=yP;function Xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=wP,Xo.prototype.delete=bP,Xo.prototype.get=_P,Xo.prototype.has=SP,Xo.prototype.set=EP;var xP=Xo;function kP(){this.__data__=[],this.size=0}var TP=kP;function AP(e,t){return e===t||e!==e&&t!==t}var xl=AP,CP=xl;function RP(e,t){for(var n=e.length;n--;)if(CP(e[n][0],t))return n;return-1}var Wc=RP,NP=Wc,OP=Array.prototype,IP=OP.splice;function DP(e){var t=this.__data__,n=NP(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():IP.call(t,n,1),--this.size,!0}var PP=DP,LP=Wc;function $P(e){var t=this.__data__,n=LP(t,e);return n<0?void 0:t[n][1]}var FP=$P,jP=Wc;function MP(e){return jP(this.__data__,e)>-1}var zP=MP,BP=Wc;function UP(e,t){var n=this.__data__,r=BP(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var HP=UP,qP=TP,WP=PP,VP=FP,GP=zP,KP=HP;function Jo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jo.prototype.clear=qP,Jo.prototype.delete=WP,Jo.prototype.get=VP,Jo.prototype.has=GP,Jo.prototype.set=KP;var Vc=Jo,YP=Ya,QP=ti,XP=YP(QP,"Map"),up=XP,s0=xP,JP=Vc,ZP=up;function eL(){this.size=0,this.__data__={hash:new s0,map:new(ZP||JP),string:new s0}}var tL=eL;function nL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var rL=nL,iL=rL;function aL(e,t){var n=e.__data__;return iL(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gc=aL,oL=Gc;function sL(e){var t=oL(this,e).delete(e);return this.size-=t?1:0,t}var lL=sL,uL=Gc;function cL(e){return uL(this,e).get(e)}var fL=cL,dL=Gc;function hL(e){return dL(this,e).has(e)}var pL=hL,gL=Gc;function mL(e,t){var n=gL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var vL=mL,yL=tL,wL=lL,bL=fL,_L=pL,SL=vL;function Zo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zo.prototype.clear=yL,Zo.prototype.delete=wL,Zo.prototype.get=bL,Zo.prototype.has=_L,Zo.prototype.set=SL;var cp=Zo,l0=cp,EL="Expected a function";function fp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(EL);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(fp.Cache||l0),n}fp.Cache=l0;var xL=fp,kL=xL,TL=500;function AL(e){var t=kL(e,function(r){return n.size===TL&&n.clear(),r}),n=t.cache;return t}var CL=AL,RL=CL,NL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OL=/\\(\\)?/g,IL=RL(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(NL,function(n,r,i,a){t.push(i?a.replace(OL,"$1"):r||n)}),t}),DL=IL;function PL(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Kc=PL,u0=Yo,LL=Kc,$L=Fn,FL=Hc,jL=1/0,c0=u0?u0.prototype:void 0,f0=c0?c0.toString:void 0;function d0(e){if(typeof e=="string")return e;if($L(e))return LL(e,d0)+"";if(FL(e))return f0?f0.call(e):"";var t=e+"";return t=="0"&&1/e==-jL?"-0":t}var ML=d0,zL=ML;function BL(e){return e==null?"":zL(e)}var kl=BL,UL=Fn,HL=op,qL=DL,WL=kl;function VL(e,t){return UL(e)?e:HL(e,t)?[e]:qL(WL(e))}var es=VL,GL=Hc,KL=1/0;function YL(e){if(typeof e=="string"||GL(e))return e;var t=e+"";return t=="0"&&1/e==-KL?"-0":t}var ts=YL,QL=es,XL=ts;function JL(e,t){t=QL(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[XL(t[n++])];return n&&n==r?e:void 0}var Yc=JL,ZL=Ya,e$=function(){try{var e=ZL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),h0=e$,p0=h0;function t$(e,t,n){t=="__proto__"&&p0?p0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Qc=t$,n$=Qc,r$=xl,i$=Object.prototype,a$=i$.hasOwnProperty;function o$(e,t,n){var r=e[t];(!(a$.call(e,t)&&r$(r,n))||n===void 0&&!(t in e))&&n$(e,t,n)}var Xc=o$,s$=9007199254740991,l$=/^(?:0|[1-9]\d*)$/;function u$(e,t){var n=typeof e;return t=t==null?s$:t,!!t&&(n=="number"||n!="symbol"&&l$.test(e))&&e>-1&&e%1==0&&e<t}var Tl=u$,c$=Xc,f$=es,d$=Tl,g0=sr,h$=ts;function p$(e,t,n,r){if(!g0(e))return e;t=f$(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var l=h$(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=s[l];u=r?r(c,l,s):void 0,u===void 0&&(u=g0(c)?c:d$(t[i+1])?[]:{})}c$(s,l,u),s=s[l]}return e}var g$=p$,m$=Yc,v$=g$,y$=es;function w$(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=m$(e,o);n(s,o)&&v$(a,y$(o,e),s)}return a}var b$=w$;function _$(e,t){return e!=null&&t in Object(e)}var S$=_$,E$=Qo,x$=ji,k$="[object Arguments]";function T$(e){return x$(e)&&E$(e)==k$}var A$=T$,m0=A$,C$=ji,v0=Object.prototype,R$=v0.hasOwnProperty,N$=v0.propertyIsEnumerable,O$=m0(function(){return arguments}())?m0:function(e){return C$(e)&&R$.call(e,"callee")&&!N$.call(e,"callee")},Al=O$,I$=9007199254740991;function D$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=I$}var dp=D$,P$=es,L$=Al,$$=Fn,F$=Tl,j$=dp,M$=ts;function z$(e,t,n){t=P$(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=M$(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&j$(i)&&F$(o,i)&&($$(e)||L$(e)))}var B$=z$,U$=S$,H$=B$;function q$(e,t){return e!=null&&H$(e,t,U$)}var y0=q$,W$=b$,V$=y0;function G$(e,t){return W$(e,t,function(n,r){return V$(e,r)})}var K$=G$;function Y$(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var hp=Y$,w0=Yo,Q$=Al,X$=Fn,b0=w0?w0.isConcatSpreadable:void 0;function J$(e){return X$(e)||Q$(e)||!!(b0&&e&&e[b0])}var Z$=J$,eF=hp,tF=Z$;function _0(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=tF),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?_0(s,t-1,n,r,i):eF(i,s):r||(i[i.length]=s)}return i}var nF=_0,rF=nF;function iF(e){var t=e==null?0:e.length;return t?rF(e,1):[]}var Jc=iF;function aF(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var oF=aF,sF=oF,S0=Math.max;function lF(e,t,n){return t=S0(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=S0(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),sF(e,this,s)}}var E0=lF;function uF(e){return function(){return e}}var cF=uF;function fF(e){return e}var Cl=fF,dF=cF,x0=h0,hF=Cl,pF=x0?function(e,t){return x0(e,"toString",{configurable:!0,enumerable:!1,value:dF(t),writable:!0})}:hF,gF=pF,mF=800,vF=16,yF=Date.now;function wF(e){var t=0,n=0;return function(){var r=yF(),i=vF-(r-n);if(n=r,i>0){if(++t>=mF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bF=wF,_F=gF,SF=bF,EF=SF(_F),k0=EF,xF=Jc,kF=E0,TF=k0;function AF(e){return TF(kF(e,void 0,xF),e+"")}var T0=AF,CF=K$,RF=T0,NF=RF(function(e,t){return e==null?{}:CF(e,t)}),pp=NF;class OF{constructor(){this.status="pending",this.resolve=()=>{throw this._getEarlyCallError("resolve")},this.reject=()=>{throw this._getEarlyCallError("reject")},this._promise=new Promise((t,n)=>{this.resolve=(...r)=>{if(this.status==="rejected")throw new Error("Already rejected");if(this.status==="resolved")throw new Error("Already resolved");const i=t(...r);return this.status="resolved",i},this.reject=(...r)=>{if(this.status==="rejected")throw new Error("Already rejected");if(this.status==="resolved")throw new Error("Already resolved");const i=n(...r);return this.status="rejected",i}}),this.status="pending",this.then=this._promise.then.bind(this._promise),this.catch=this._promise.catch.bind(this._promise),this[Symbol.toStringTag]="Promise"}_getEarlyCallError(t){return new Error(`${t} called before it was set`)}}class Zc{constructor({getGateName:t,localMethods:n,loggingColor:r,loggingPrefix:i,portalName:a,sendMessage:o,shouldLog:s}){this.getGateName=t,this.portalName=a,this._eventEmitter=new Ka.exports.EventEmitter2,this._localMethods=n,this._loggingColor=r,this._loggingPrefix=i,this._messagePrefix=`portal-${a}__`,this._ongoingCalls={},this._sendMessage=o,this._shouldLog=s,this.methods=this._createMethodProxy({messagePrefix:this._messagePrefix,sendMessage:o})}async emit(t,n){this._log(`\u260E\uFE0F Emitting event "${t}"`,n),await this._sendMessage({data:{argument:n,eventName:t,isEvent:!0,source:await this.getGateName()},message:`${this._messagePrefix}event__${t}`},"event")}async handleIncomingMessage(t){var n;return!((n=t.message)!=null&&n.startsWith(this._messagePrefix))||t.data.source===await this.getGateName()?!1:t.data.isEvent?(await this._handleIncomingEvent(t),!0):(t.data.isResponse?await this._handleIncomingResponse(t):await this._handleIncomingCall(t),!0)}off(...t){this._eventEmitter.off(...t)}on(...t){return this._eventEmitter.on(...t)}once(...t){return this._eventEmitter.once(...t)}_createMethodProxy({messagePrefix:t,sendMessage:n}){return new Proxy({},{get:(r,i)=>async(...a)=>{if(!n)throw new Error("sendMessage wasn't given when creating gate");const o=Math.random().toString(),s=await this.getGateName(),l={args:a,correlationId:o,initiatorGateName:s,isEvent:!1,isResponse:!1,propertyName:i,source:s};this._log(`\u260E\uFE0F Calling "${l.propertyName}"`,l),this._ongoingCalls[o]=new OF;let u,c;try{c=await n({data:l,message:`${t}${i.toString()}`},"call"),c||(c=await this._ongoingCalls[o])}catch(f){u=f}if(this._log(`\u2611\uFE0F Received result from "${i}"`,{error:u,result:c}),delete this._ongoingCalls[o],u)throw u;return c}})}async _handleIncomingEvent({data:t}){this._log(`\u{1F4DE} Received event "${t.eventName}"`),await this._eventEmitter.emitAsync(t.eventName,t.argument)}async _handleIncomingCall({data:t,message:n}){if(!this._localMethods)throw new Error("No localMethods given when creating gate");if(this._log(`\u{1F4DE} Received call to "${t.propertyName}"`),t.args.some(o=>typeof o=="function"))throw new Error("Function arguments are not allowed. More info: https://github.com/readwiseio/rekindled/blob/master/reader/reader-frontend/README.md#rules");let r,i;try{i=await this._localMethods[t.propertyName](...t.args)}catch(o){o instanceof Error?r=pp(o,["cause","columnNumber","fileName","lineNumber","message","name","stack"]):r=o}const a={correlationId:t.correlationId,error:r,initiatorGateName:t.source,isEvent:!1,isResponse:!0,result:i,source:await this.getGateName()};this._log(`\u2B05\uFE0F Returning result from "${t.propertyName}"`),await this._sendMessage({data:a,message:`${n}__RESPONSE`},"callResponse")}async _handleIncomingResponse({data:t,message:n}){if(t.correlationId in this._ongoingCalls)t.error?this._ongoingCalls[t.correlationId].reject(t.error):this._ongoingCalls[t.correlationId].resolve(t.result);else{const r="Cannot find ongoing call by the correlation ID given";if(this._log(`\u203C\uFE0F ${r}`,{...pp(this,["_ongoingCalls","portalName"]),data:t,message:n}),Jt)return;throw new Error(r)}}async _log(...t){if(!this._shouldLog)return;const n=!Kn,r=n?"%c":"",i=[`${this._loggingPrefix}${r}[${await this.getGateName()}]`];n&&i.push(`color: ${this._loggingColor}`),i.push(...t),console.log(...i)}}function IF(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function gp(){return!IF()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function DF(e,t){return e.require(t)}var PF={};function rn(){return gp()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:PF}function mp(e,t,n){var r=n||rn(),i=r.__SENTRY__=r.__SENTRY__||{},a=i[e]||(i[e]=t());return a}var A0=Object.prototype.toString;function C0(e){switch(A0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return oa(e,Error)}}function ns(e,t){return A0.call(e)===`[object ${t}]`}function R0(e){return ns(e,"ErrorEvent")}function N0(e){return ns(e,"DOMError")}function LF(e){return ns(e,"DOMException")}function rs(e){return ns(e,"String")}function O0(e){return e===null||typeof e!="object"&&typeof e!="function"}function is(e){return ns(e,"Object")}function vp(e){return typeof Event!="undefined"&&oa(e,Event)}function $F(e){return typeof Element!="undefined"&&oa(e,Element)}function FF(e){return ns(e,"RegExp")}function yp(e){return Boolean(e&&e.then&&typeof e.then=="function")}function jF(e){return is(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function MF(e){return typeof e=="number"&&e!==e}function oa(e,t){try{return e instanceof t}catch{return!1}}function wp(e,t){try{let s=e;var n=5,r=80,i=[];let l=0,u=0;var a=" > ",o=a.length;let c;for(;s&&l++<n&&(c=zF(s,t),!(c==="html"||l>1&&u+i.length*o+c.length>=r));)i.push(c),u+=c.length,s=s.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function zF(e,t){var n=e,r=[];let i,a,o,s,l;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var u=t&&t.length?t.filter(f=>n.getAttribute(f)).map(f=>[f,n.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{r.push(`[${f[0]}="${f[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&rs(i))for(a=i.split(/\s+/),l=0;l<a.length;l++)r.push(`.${a[l]}`);var c=["type","name","title","alt"];for(l=0;l<c.length;l++)o=c[l],s=n.getAttribute(o),s&&r.push(`[${o}="${s}"]`);return r.join("")}function BF(){var e=rn();try{return e.document.location.href}catch{return""}}class jn extends Error{constructor(t){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var UF=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function HF(e){return e==="http"||e==="https"}function bp(e,t=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${o}`}function qF(e){var t=UF.exec(e);if(!t)throw new jn(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",a,o="",s]=t.slice(1);let l="",u=s;var c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){var f=u.match(/^\d+/);f&&(u=f[0])}return I0({host:a,pass:i,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function I0(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function WF(e){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:t,projectId:n,protocol:r}=e;var i=["protocol","publicKey","host","projectId"];if(i.forEach(a=>{if(!e[a])throw new jn(`Invalid Sentry Dsn: ${a} missing`)}),!n.match(/^\d+$/))throw new jn(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!HF(r))throw new jn(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new jn(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function VF(e){var t=typeof e=="string"?qF(e):I0(e);return WF(t),t}var GF=rn(),KF="Sentry Logger ",ef=["debug","info","warn","error","log","assert","trace"];function D0(e){var t=rn();if(!("console"in t))return e();var n=t.console,r={};ef.forEach(i=>{var a=n[i]&&n[i].__sentry_original__;i in t.console&&a&&(r[i]=n[i],n[i]=a)});try{return e()}finally{Object.keys(r).forEach(i=>{n[i]=r[i]})}}function P0(){let e=!1;var t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?ef.forEach(n=>{t[n]=(...r)=>{e&&D0(()=>{GF.console[n](`${KF}[${n}]:`,...r)})}}):ef.forEach(n=>{t[n]=()=>{}}),t}let _t;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?_t=mp("logger",P0):_t=P0();function Rl(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.substr(0,t)}...`}function L0(e,t){if(!Array.isArray(e))return"";var n=[];for(let i=0;i<e.length;i++){var r=e[i];try{n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function _p(e,t){return rs(e)?FF(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}function Mn(e,t,n){if(t in e){var r=e[t],i=n(r);if(typeof i=="function")try{$0(i,r)}catch{}e[t]=i}}function Sp(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function $0(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Sp(e,"__sentry_original__",t)}function Ep(e){return e.__sentry_original__}function YF(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function F0(e){if(C0(e))return{message:e.message,name:e.name,stack:e.stack,...M0(e)};if(vp(e)){var t={type:e.type,target:j0(e.target),currentTarget:j0(e.currentTarget),...M0(e)};return typeof CustomEvent!="undefined"&&oa(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function j0(e){try{return $F(e)?wp(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function M0(e){if(typeof e=="object"&&e!==null){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function QF(e,t=40){var n=Object.keys(F0(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Rl(n[0],t);for(let i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length?r:Rl(r,t)}return""}function xp(e){var t=new Map;return kp(e,t)}function kp(e,t){if(is(e)){var n=t.get(e);if(n!==void 0)return n;var r={};t.set(e,r);for(var i of Object.keys(e))typeof e[i]!="undefined"&&(r[i]=kp(e[i],t));return r}if(Array.isArray(e)){var n=t.get(e);if(n!==void 0)return n;var r=[];return t.set(e,r),e.forEach(s=>{r.push(kp(s,t))}),r}return e}var XF=50;function z0(...e){var t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{var i=[];for(var a of n.split(`
`).slice(r))for(var o of t){var s=o(a);if(s){i.push(s);break}}return ZF(i)}}function JF(e){return Array.isArray(e)?z0(...e):e}function ZF(e){if(!e.length)return[];let t=e;var n=t[0].function||"",r=t[t.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),r.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,XF).map(i=>({...i,filename:i.filename||t[0].filename,function:i.function||"?"})).reverse()}var Tp="<anonymous>";function sa(e){try{return!e||typeof e!="function"?Tp:e.name||Tp}catch{return Tp}}function Ap(){if(!("fetch"in rn()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Cp(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ej(){if(!Ap())return!1;var e=rn();if(Cp(e.fetch))return!0;let t=!1;var n=e.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Cp(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function tj(){var e=rn(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}var Kt=rn(),Nl={},B0={};function nj(e){if(!B0[e])switch(B0[e]=!0,e){case"console":rj();break;case"dom":dj();break;case"xhr":sj();break;case"fetch":ij();break;case"history":lj();break;case"error":hj();break;case"unhandledrejection":pj();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("unknown instrumentation type:",e);return}}function la(e,t){Nl[e]=Nl[e]||[],Nl[e].push(t),nj(e)}function ni(e,t){if(!(!e||!Nl[e]))for(var n of Nl[e]||[])try{n(t)}catch(r){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sa(n)}
Error:`,r)}}function rj(){"console"in Kt&&ef.forEach(function(e){e in Kt.console&&Mn(Kt.console,e,function(t){return function(...n){ni("console",{args:n,level:e}),t&&t.apply(Kt.console,n)}})})}function ij(){!ej()||Mn(Kt,"fetch",function(e){return function(...t){var n={args:t,fetchData:{method:aj(t),url:oj(t)},startTimestamp:Date.now()};return ni("fetch",{...n}),e.apply(Kt,t).then(r=>(ni("fetch",{...n,endTimestamp:Date.now(),response:r}),r),r=>{throw ni("fetch",{...n,endTimestamp:Date.now(),error:r}),r})}})}function aj(e=[]){return"Request"in Kt&&oa(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function oj(e=[]){return typeof e[0]=="string"?e[0]:"Request"in Kt&&oa(e[0],Request)?e[0].url:String(e[0])}function sj(){if("XMLHttpRequest"in Kt){var e=XMLHttpRequest.prototype;Mn(e,"open",function(t){return function(...n){var r=this,i=n[1],a=r.__sentry_xhr__={method:rs(n[0])?n[0].toUpperCase():n[0],url:n[1]};rs(i)&&a.method==="POST"&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var o=function(){if(r.readyState===4){try{a.status_code=r.status}catch{}ni("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?Mn(r,"onreadystatechange",function(s){return function(...l){return o(),s.apply(r,l)}}):r.addEventListener("readystatechange",o),t.apply(r,n)}}),Mn(e,"send",function(t){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),ni("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}}let tf;function lj(){if(!tj())return;var e=Kt.onpopstate;Kt.onpopstate=function(...n){var r=Kt.location.href,i=tf;if(tf=r,ni("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){var i=r.length>2?r[2]:void 0;if(i){var a=tf,o=String(i);tf=o,ni("history",{from:a,to:o})}return n.apply(this,r)}}Mn(Kt.history,"pushState",t),Mn(Kt.history,"replaceState",t)}var uj=1e3;let nf,rf;function cj(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function fj(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function U0(e,t=!1){return n=>{if(!(!n||rf===n)&&!fj(n)){var r=n.type==="keypress"?"input":n.type;nf===void 0?(e({event:n,name:r,global:t}),rf=n):cj(rf,n)&&(e({event:n,name:r,global:t}),rf=n),clearTimeout(nf),nf=Kt.setTimeout(()=>{nf=void 0},uj)}}}function dj(){if("document"in Kt){var e=ni.bind(null,"dom"),t=U0(e,!0);Kt.document.addEventListener("click",t,!1),Kt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var r=Kt[n]&&Kt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Mn(r,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},c=u[a]=u[a]||{refCount:0};if(!c.handler){var f=U0(e);c.handler=f,i.call(this,a,f,s)}c.refCount+=1}catch{}return i.call(this,a,o,s)}}),Mn(r,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__||{},c=u[a];c&&(c.refCount-=1,c.refCount<=0&&(i.call(this,a,c.handler,s),c.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}}let Rp=null;function hj(){Rp=Kt.onerror,Kt.onerror=function(e,t,n,r,i){return ni("error",{column:r,error:i,line:n,msg:e,url:t}),Rp?Rp.apply(this,arguments):!1}}let Np=null;function pj(){Np=Kt.onunhandledrejection,Kt.onunhandledrejection=function(e){return ni("unhandledrejection",e),Np?Np.apply(this,arguments):!0}}function gj(){var e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++){var a=t[o];if(a===i)return!0}return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[n,r]}function as(){var e=rn(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=i=>{let a=i.toString(16);for(;a.length<4;)a=`0${a}`;return a};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,i=>{var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function Op(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function H0(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Qa(e){const{message:t,event_id:n}=e;if(t)return t;var r=H0(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ip(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function Ol(e,t){var n=H0(e);if(!!n){var r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){var a={...i&&i.data,...t.data};n.mechanism.data=a}}}function q0(e){if(e&&e.__sentry_captured__)return!0;try{Sp(e,"__sentry_captured__",!0)}catch{}return!1}function Xa(e,t=1/0,n=1/0){try{return Dp("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function W0(e,t=3,n=100*1024){var r=Xa(e,t);return yj(r)>n?W0(e,t-1,n):r}function Dp(e,t,n=1/0,r=1/0,i=gj()){const[a,o]=i;if(t===null||["number","boolean","string"].includes(typeof t)&&!MF(t))return t;var s=mj(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;if(n===0)return s.replace("object ","");if(a(t))return"[Circular ~]";var l=t;if(l&&typeof l.toJSON=="function")try{var u=l.toJSON();return Dp("",u,n-1,r,i)}catch{}var c=Array.isArray(t)?[]:{};let f=0;var d=F0(t);for(var p in d)if(!!Object.prototype.hasOwnProperty.call(d,p)){if(f>=r){c[p]="[MaxProperties ~]";break}var v=d[p];c[p]=Dp(p,v,n-1,r,i),f+=1}return o(t),c}function mj(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":jF(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${sa(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function vj(e){return~-encodeURI(e).split(/%..|./).length}function yj(e){return vj(JSON.stringify(e))}var Mi;(function(e){var t=0;e[e.PENDING=t]="PENDING";var n=1;e[e.RESOLVED=n]="RESOLVED";var r=2;e[e.REJECTED=r]="REJECTED"})(Mi||(Mi={}));function Ja(e){return new Yn(t=>{t(e)})}function Pp(e){return new Yn((t,n)=>{n(e)})}class Yn{__init(){this._state=Mi.PENDING}__init2(){this._handlers=[]}constructor(t){Yn.prototype.__init.call(this),Yn.prototype.__init2.call(this),Yn.prototype.__init3.call(this),Yn.prototype.__init4.call(this),Yn.prototype.__init5.call(this),Yn.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Yn((r,i)=>{this._handlers.push([!1,a=>{if(!t)r(a);else try{r(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{r(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Yn((n,r)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){r(i);return}n(i)})})}__init3(){this._resolve=t=>{this._setResult(Mi.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(Mi.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===Mi.PENDING){if(yp(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==Mi.PENDING){var t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Mi.RESOLVED&&n[1](this._value),this._state===Mi.REJECTED&&n[2](this._value),n[0]=!0)})}}}}function wj(e){var t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return Pp(new jn("Not adding Promise due to buffer limit reached."));var s=o();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s}function a(o){return new Yn((s,l)=>{let u=t.length;if(!u)return s(!0);var c=setTimeout(()=>{o&&o>0&&s(!1)},o);t.forEach(f=>{Ja(f).then(()=>{--u||(clearTimeout(c),s(!0))},l)})})}return{$:t,add:i,drain:a}}var bj=["fatal","error","warning","log","info","debug"];function _j(e){return e==="warn"?"warning":bj.includes(e)?e:"log"}var Lp={nowSeconds:()=>Date.now()/1e3};function Sj(){const{performance:e}=rn();if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}}function Ej(){try{var e=DF(module,"perf_hooks");return e.performance}catch{return}}var $p=gp()?Ej():Sj(),V0=$p===void 0?Lp:{nowSeconds:()=>($p.timeOrigin+$p.now())/1e3},af=Lp.nowSeconds.bind(Lp),G0=V0.nowSeconds.bind(V0);(()=>{const{performance:e}=rn();if(!(!e||!e.now)){var t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,s=typeof o=="number",l=s?Math.abs(o+n-r):t,u=l<t;return a||u?i<=l?e.timeOrigin:o:r}})();function of(e,t=[]){return[e,t]}function xj(e,t){const[n,r]=e;return[n,[...r,t]]}function K0(e,t){var n=e[1];n.forEach(r=>{var i=r[0].type;t(r,i)})}function Fp(e,t){var n=t||new TextEncoder;return n.encode(e)}function Y0(e,t){const[n,r]=e;let i=JSON.stringify(n);function a(s){typeof i=="string"?i=typeof s=="string"?i+s:[Fp(i,t),s]:i.push(typeof s=="string"?Fp(s,t):s)}for(var o of r){const[s,l]=o;a(`
${JSON.stringify(s)}
`),a(typeof l=="string"||l instanceof Uint8Array?l:JSON.stringify(l))}return typeof i=="string"?i:kj(i)}function kj(e){var t=e.reduce((a,o)=>a+o.length,0),n=new Uint8Array(t);let r=0;for(var i of e)n.set(i,r),r+=i.length;return n}function Tj(e,t){var n=typeof e.data=="string"?Fp(e.data,t):e.data;return[xp({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var Aj={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function Q0(e){return Aj[e]}function Cj(e,t,n){var r=[{type:"client_report"},{timestamp:n||af(),discarded_events:e}];return of(t?{dsn:t}:{},[r])}var Rj=60*1e3;function Nj(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;var r=Date.parse(`${e}`);return isNaN(r)?Rj:r-t}function Oj(e,t){return e[t]||e.all||0}function Ij(e,t,n=Date.now()){return Oj(e,t)>n}function Dj(e,{statusCode:t,headers:n},r=Date.now()){var i={...e},a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(var s of a.trim().split(",")){const[f,d]=s.split(":",2);var l=parseInt(f,10),u=(isNaN(l)?60:l)*1e3;if(!d)i.all=r+u;else for(var c of d.split(";"))i[c]=r+u}else o?i.all=r+Nj(o,r):t===429&&(i.all=r+60*1e3);return i}function Pj(e){return e[0]}function Lj(e){var t=G0(),n={sid:as(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Fj(n)};return e&&os(n,e),n}function os(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||G0(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:as()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function $j(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),os(e,n)}function Fj(e){return xp({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var X0=100;class ua{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){var n=new ua;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments]),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&os(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts={...this._contexts,[t]:n},this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){var n=t(this);return n instanceof ua?n:this}return t instanceof ua?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):is(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){var r=typeof n=="number"?Math.min(n,X0):X0;if(r<=0)return this;var i={timestamp:af(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-r),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};var r=this._span.transaction&&this._span.transaction.name;r&&(t.tags={transaction:r,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...J0(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,r,i=0){return new Yn((a,o)=>{var s=t[i];if(n===null||typeof s!="function")a(n);else{var l=s({...n},r);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&s.id&&l===null&&_t.log(`Event processor "${s.id}" dropped event`),yp(l)?l.then(u=>this._notifyEventProcessors(t,u,r,i+1).then(a)).then(null,o):this._notifyEventProcessors(t,l,r,i+1).then(a).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function J0(){return mp("globalEventProcessors",()=>[])}function jp(e){J0().push(e)}var Mp=4,jj=100;class Il{__init(){this._stack=[{}]}constructor(t,n=new ua,r=Mp){this._version=r,Il.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){var n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){var t=ua.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){var n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:as(),i=new Error("Sentry syntheticException");return this._withClient((a,o)=>{a.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},o)}),r}captureMessage(t,n,r){var i=this._lastEventId=r&&r.event_id?r.event_id:as(),a=new Error(t);return this._withClient((o,s)=>{o.captureMessage(t,n,{originalException:t,syntheticException:a,...r,event_id:i},s)}),i}captureEvent(t,n){var r=n&&n.event_id?n.event_id:as();return t.type!=="transaction"&&(this._lastEventId=r),this._withClient((i,a)=>{i.captureEvent(t,{...n,event_id:r},a)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!r||!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:o=jj}=i.getOptions&&i.getOptions()||{};if(!(o<=0)){var s=af(),l={timestamp:s,...t},u=a?D0(()=>a(l,n)):l;u!==null&&r.addBreadcrumb(u,o)}}setUser(t){var n=this.getScope();n&&n.setUser(t)}setTags(t){var n=this.getScope();n&&n.setTags(t)}setExtras(t){var n=this.getScope();n&&n.setExtras(t)}setTag(t,n){var r=this.getScope();r&&r.setTag(t,n)}setExtra(t,n){var r=this.getScope();r&&r.setExtra(t,n)}setContext(t,n){var r=this.getScope();r&&r.setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();n&&r&&t(n)}run(t){var n=Z0(this);try{t(this)}finally{Z0(n)}}getIntegration(t){var n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){return this._callExtensionMethod("startTransaction",t,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){var t=this.getStackTop(),n=t&&t.scope,r=n&&n.getSession();r&&$j(r),this._sendSessionUpdate(),n&&n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:a}=r&&r.getOptions()||{};var o=rn();const{userAgent:s}=o.navigator||{};var l=Lj({release:i,environment:a,...n&&{user:n.getUser()},...s&&{userAgent:s},...t});if(n){var u=n.getSession&&n.getSession();u&&u.status==="ok"&&os(u,{status:"exited"}),this.endSession(),n.setSession(l)}return l}shouldSendDefaultPii(){var t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop();if(!!t){var r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){var r=sf(),i=r.__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function sf(){var e=rn();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Z0(e){var t=sf(),n=ca(t);return zp(t,e),n}function _n(){var e=sf();return(!e_(e)||ca(e).isOlderThan(Mp))&&zp(e,new Il),gp()?Mj(e):ca(e)}function Mj(e){try{var t=sf().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return ca(e);if(!e_(n)||ca(n).isOlderThan(Mp)){var r=ca(e).getStackTop();zp(n,new Il(r.client,ua.clone(r.scope)))}return ca(n)}catch{return ca(e)}}function e_(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ca(e){return mp("hub",()=>new Il,e)}function zp(e,t){if(!e)return!1;var n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function ss(e,t){return _n().captureException(e,{captureContext:t})}function zj(e){_n().setUser(e)}function Bj(e){_n().withScope(e)}var Uj="7";function Hj(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function qj(e){return`${Hj(e)}${e.projectId}/envelope/`}function Wj(e,t){return YF({sentry_key:e.publicKey,sentry_version:Uj,...t&&{sentry_client:`${t.name}/${t.version}`}})}function t_(e,t={}){var n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${qj(e)}?${Wj(e,r)}`}function n_(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Vj(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Gj(e,t,n,r){var i=n_(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&{dsn:bp(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return of(a,[o])}function Kj(e,t,n,r){var i=n_(n),a=e.type||"event";const{transactionSampling:o}=e.sdkProcessingMetadata||{},{method:s,rate:l}=o||{};Vj(e,n&&n.sdk);var u=Yj(e,i,r,t);delete e.sdkProcessingMetadata;var c=[{type:a,sample_rates:[{id:s,rate:l}]},e];return of(u,[c])}function Yj(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,a=i&&Pj(i);return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:bp(r)},...e.type==="transaction"&&a&&{trace:xp({...a})}}}var r_=[];function i_(e){return e.reduce((t,n)=>(t.every(r=>n.name!==r.name)&&t.push(n),t),[])}function Qj(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],n=e.integrations;let r=[...i_(t)];Array.isArray(n)?r=[...r.filter(o=>n.every(s=>s.name!==o.name)),...i_(n)]:typeof n=="function"&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(o=>o.name),a="Debug";return i.indexOf(a)!==-1&&r.push(...r.splice(i.indexOf(a),1)),r}function Xj(e){var t={};return e.forEach(n=>{t[n.name]=n,r_.indexOf(n.name)===-1&&(n.setupOnce(jp,_n),r_.push(n.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log(`Integration installed: ${n.name}`))}),t}var a_="Not capturing exception because it's already been captured.";class ls{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(ls.prototype.__init.call(this),ls.prototype.__init2.call(this),ls.prototype.__init3.call(this),ls.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=VF(t.dsn);var n=t_(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("No DSN provided, client will not do anything.")}captureException(t,n,r){if(q0(t)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log(a_);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(a=>this._captureEvent(a,n,r)).then(a=>{i=a})),i}captureMessage(t,n,r,i){let a=r&&r.event_id;var o=O0(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(o.then(s=>this._captureEvent(s,r,i)).then(s=>{a=s})),a}captureEvent(t,n,r){if(n&&n.originalException&&q0(n.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log(a_);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(a=>{i=a})),i}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),os(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i)):Ja(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Xj(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,n={}){if(this._dsn){let i=Kj(t,this._dsn,this._options._metadata,this._options.tunnel);for(var r of n.attachments||[])i=xj(i,Tj(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(t){if(this._dsn){var n=Gj(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n){if(this._options.sendClientReports){var r=`${t}:${n}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(t,n){let r=!1,i=!1;var a=n.exception&&n.exception.values;if(a){i=!0;for(var o of a){var s=o.mechanism;if(s&&s.handled===!1){r=!0;break}}}var l=t.status==="ok",u=l&&t.errors===0||l&&r;u&&(os(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Yn(n=>{let r=0;var i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=i,t&&r>=t&&(clearInterval(a),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=this.getOptions();var o={...t,event_id:t.event_id||n.event_id||as(),timestamp:t.timestamp||af()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let s=r;n.captureContext&&(s=ua.clone(s).update(n.captureContext));let l=Ja(o);if(s){var u=[...n.attachments||[],...s.getAttachments()];u.length&&(n.attachments=u),l=s.applyToEvent(o,n)}return l.then(c=>typeof i=="number"&&i>0?this._normalizeEvent(c,i,a):c)}_normalizeEvent(t,n,r){if(!t)return null;var i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(a=>({...a,...a.data&&{data:Xa(a.data,n,r)}}))},...t.user&&{user:Xa(t.user,n,r)},...t.contexts&&{contexts:Xa(t.contexts,n,r)},...t.extra&&{extra:Xa(t.extra,n,r)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Xa(t.contexts.trace.data,n,r))),t.spans&&(i.spans=t.spans.map(a=>(a.data&&(a.data=Xa(a.data,n,r)),a))),i}_applyClientOptions(t){var n=this.getOptions();const{environment:r,release:i,dist:a,maxValueLength:o=250}=n;"environment"in t||(t.environment="environment"in n?r:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=Rl(t.message,o));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Rl(s.value,o));var l=t.request;l&&l.url&&(l.url=Rl(l.url,o))}_applyIntegrationsMetadata(t){var n=Object.keys(this._integrations);n.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...n])}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(i)})}_processEvent(t,n,r){const{beforeSend:i,sampleRate:a}=this.getOptions();if(!this._isEnabled())return Pp(new jn("SDK not enabled, will not capture event."));var o=t.type==="transaction";return!o&&typeof a=="number"&&Math.random()>a?(this.recordDroppedEvent("sample_rate","error"),Pp(new jn(`Discarding event because it's not included in the random sample (sampling rate = ${a})`))):this._prepareEvent(t,n,r).then(s=>{if(s===null)throw this.recordDroppedEvent("event_processor",t.type||"error"),new jn("An event processor returned null, will not send event.");var l=n.data&&n.data.__sentry__===!0;if(l||o||!i)return s;var u=i(s,n);return Jj(u)}).then(s=>{if(s===null)throw this.recordDroppedEvent("before_send",t.type||"error"),new jn("`beforeSend` returned `null`, will not send event.");var l=r&&r.getSession();return!o&&l&&this._updateSessionFromEvent(l,s),this.sendEvent(s,n),s}).then(null,s=>{throw s instanceof jn?s:(this.captureException(s,{data:{__sentry__:!0},originalException:s}),new jn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${s}`))})}_process(t){this._numProcessing+=1,t.then(n=>(this._numProcessing-=1,n),n=>(this._numProcessing-=1,n))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function Jj(e){var t="`beforeSend` method has to return `null` or a valid event.";if(yp(e))return e.then(n=>{if(!(is(n)||n===null))throw new jn(t);return n},n=>{throw new jn(`beforeSend rejected with ${n}`)});if(!(is(e)||e===null))throw new jn(t);return e}function Zj(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?_t.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=_n(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var eM=30;function o_(e,t,n=wj(e.bufferSize||eM)){let r={};var i=o=>n.drain(o);function a(o){var s=[];if(K0(o,(f,d)=>{var p=Q0(d);Ij(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):s.push(f)}),s.length===0)return Ja();var l=of(o[0],s),u=f=>{K0(l,(d,p)=>{e.recordDroppedEvent(f,Q0(p))})},c=()=>t({body:Y0(l,e.textEncoder)}).then(f=>{f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Dj(r,f)},f=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error("Failed while sending event:",f),u("network_error")});return n.add(c).then(f=>f,f=>{if(f instanceof jn)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error("Skipped sending event due to full buffer"),u("queue_overflow"),Ja();throw f})}return{send:a,flush:i}}var s_="7.7.0";let l_;class us{constructor(){us.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=us.id}setupOnce(){l_=Function.prototype.toString,Function.prototype.toString=function(...t){var n=Ep(this)||this;return l_.apply(n,t)}}}us.__initStatic();var tM=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Za{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Za.id}constructor(t={}){this._options=t,Za.prototype.__init.call(this)}setupOnce(t,n){var r=i=>{var a=n();if(a){var o=a.getIntegration(Za);if(o){var s=a.getClient(),l=s?s.getOptions():{},u=nM(o._options,l);return rM(i,u)?null:i}}return i};r.id=this.name,t(r)}}Za.__initStatic();function nM(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...tM],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function rM(e,t){return t.ignoreInternal&&lM(e)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Event dropped due to being internal Sentry Error.
Event: ${Qa(e)}`),!0):iM(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Qa(e)}`),!0):aM(e,t.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Qa(e)}.
Url: ${lf(e)}`),!0):oM(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Qa(e)}.
Url: ${lf(e)}`),!0)}function iM(e,t){return!t||!t.length?!1:sM(e).some(n=>t.some(r=>_p(n,r)))}function aM(e,t){if(!t||!t.length)return!1;var n=lf(e);return n?t.some(r=>_p(n,r)):!1}function oM(e,t){if(!t||!t.length)return!0;var n=lf(e);return n?t.some(r=>_p(n,r)):!0}function sM(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error(`Cannot extract message for event ${Qa(e)}`),[]}return[]}function lM(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function uM(e=[]){for(let n=e.length-1;n>=0;n--){var t=e[n];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function lf(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?uM(t):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error(`Cannot extract url for event ${Qa(e)}`),null}}var cM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",FunctionToString:us,InboundFilters:Za});function u_(e,t){var n=Up(e,t),r={type:t&&t.name,value:pM(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function fM(e,t,n,r){var i={exception:{values:[{type:vp(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${QF(t)}`}]},extra:{__serialized__:W0(t)}};if(n){var a=Up(e,n);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}function Bp(e,t){return{exception:{values:[u_(e,t)]}}}function Up(e,t){var n=t.stacktrace||t.stack||"",r=hM(t);try{return e(n,r)}catch{}return[]}var dM=/Minified React error #\d+;/i;function hM(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(dM.test(e.message))return 1}return 0}function pM(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function gM(e,t,n,r){var i=n&&n.syntheticException||void 0,a=Hp(e,t,i,r);return Ol(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),Ja(a)}function mM(e,t,n="info",r,i){var a=r&&r.syntheticException||void 0,o=qp(e,t,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Ja(o)}function Hp(e,t,n,r,i){let a;if(R0(t)&&t.error){var o=t;return Bp(e,o.error)}if(N0(t)||LF(t)){var s=t;if("stack"in t)a=Bp(e,t);else{var l=s.name||(N0(s)?"DOMError":"DOMException"),u=s.message?`${l}: ${s.message}`:l;a=qp(e,u,n,r),Ip(a,u)}return"code"in s&&(a.tags={...a.tags,"DOMException.code":`${s.code}`}),a}if(C0(t))return Bp(e,t);if(is(t)||vp(t)){var c=t;return a=fM(e,c,n,i),Ol(a,{synthetic:!0}),a}return a=qp(e,t,n,r),Ip(a,`${t}`,void 0),Ol(a,{synthetic:!0}),a}function qp(e,t,n,r){var i={message:t};if(r&&n){var a=Up(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}var c_="Breadcrumbs";class cs{static __initStatic(){this.id=c_}__init(){this.name=cs.id}constructor(t){cs.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&la("console",yM),this.options.dom&&la("dom",vM(this.options.dom)),this.options.xhr&&la("xhr",wM),this.options.fetch&&la("fetch",bM),this.options.history&&la("history",_M)}}cs.__initStatic();function vM(e){function t(n){let r,i=typeof e=="object"?e.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{r=n.event.target?wp(n.event.target,i):wp(n.event,i)}catch{r="<unknown>"}r.length!==0&&_n().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return t}function yM(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:_j(e.level),message:L0(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${L0(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;_n().addBreadcrumb(t,{input:e.args,level:e.level})}function wM(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:i}=e.xhr.__sentry_xhr__||{};_n().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:i});return}}function bM(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?_n().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):_n().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response}))}function _M(e){var t=rn();let n=e.from,r=e.to;var i=Op(t.location.href);let a=Op(n);var o=Op(r);a.path||(a=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),_n().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var ri=rn();let uf;function f_(){if(uf)return uf;if(Cp(ri.fetch))return uf=ri.fetch.bind(ri);var e=ri.document;let t=ri.fetch;if(e&&typeof e.createElement=="function")try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return uf=t.bind(ri)}function SM(e,t){var n=Object.prototype.toString.call(ri&&ri.navigator)==="[object Navigator]",r=n&&typeof ri.navigator.sendBeacon=="function";if(r){var i=ri.navigator.sendBeacon.bind(ri.navigator);i(e,t)}else if(Ap()){var a=f_();a(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,o=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error(o)})}}var Wp=rn();class EM extends ls{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:s_}],version:s_},super(t),t.sendClientReports&&Wp.document&&Wp.document.addEventListener("visibilitychange",()=>{Wp.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return gM(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return mM(this._options.stackParser,t,n,r,this._options.attachStacktrace)}sendEvent(t,n){var r=this.getIntegrationById(c_);r&&r.options&&r.options.sentry&&_n().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Qa(t)},{event:t}),super.sendEvent(t,n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){var t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log("Sending outcomes:",t);var n=t_(this._dsn,this._options),r=Cj(t,this._options.tunnel&&bp(this._dsn));try{SM(n,Y0(r))}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.error(i)}}}function xM(e,t=f_()){function n(r){var i={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,...e.fetchOptions};return t(e.url,i).then(a=>({statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}return o_(e,n)}var kM=4;function TM(e){function t(n){return new Yn((r,i)=>{var a=new XMLHttpRequest;a.onerror=i,a.onreadystatechange=()=>{a.readyState===kM&&r({statusCode:a.status,headers:{"x-sentry-rate-limits":a.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":a.getResponseHeader("Retry-After")}})},a.open("POST",e.url);for(var o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&a.setRequestHeader(o,e.headers[o]);a.send(n.body)})}return o_(e,t)}var cf="?",AM=30,CM=40,RM=50;function Vp(e,t,n,r){var i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var NM=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,OM=/\((\S*)(?::(\d+))(?::(\d+))\)/,IM=e=>{var t=NM.exec(e);if(t){var n=t[2]&&t[2].indexOf("eval")===0;if(n){var r=OM.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}const[i,a]=d_(t[1]||cf,t[2]);return Vp(a,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},DM=[AM,IM],PM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$M=e=>{var t=PM.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1;if(n){var r=LM.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let i=t[3],a=t[1]||cf;return[a,i]=d_(a,i),Vp(i,a,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},FM=[RM,$M],jM=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,MM=e=>{var t=jM.exec(e);return t?Vp(t[2],t[1]||cf,+t[3],t[4]?+t[4]:void 0):void 0},zM=[CM,MM],BM=[DM,FM,zM],UM=z0(...BM),d_=(e,t)=>{var n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:cf,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};let Gp=0;function h_(){return Gp>0}function HM(){Gp+=1,setTimeout(()=>{Gp-=1})}function eo(e,t={},n){if(typeof e!="function")return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(Ep(e))return e}catch{return e}var i=function(){var s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var l=s.map(u=>eo(u,t));return e.apply(this,l)}catch(u){throw HM(),Bj(c=>{c.addEventProcessor(f=>(t.mechanism&&(Ip(f,void 0,void 0),Ol(f,t.mechanism)),f.extra={...f.extra,arguments:s},f)),ss(u)}),u}};try{for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}catch{}$0(i,e),Sp(e,"__sentry_wrapped__",i);try{var o=Object.getOwnPropertyDescriptor(i,"name");o.configurable&&Object.defineProperty(i,"name",{get(){return e.name}})}catch{}return i}class zi{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=zi.id}__init2(){this._installFunc={onerror:qM,onunhandledrejection:WM}}constructor(t){zi.prototype.__init.call(this),zi.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(KM(n),r(),this._installFunc[n]=void 0)}}}zi.__initStatic();function qM(){la("error",e=>{const[t,n,r]=m_();if(!t.getIntegration(zi))return;const{msg:i,url:a,line:o,column:s,error:l}=e;if(!(h_()||l&&l.__sentry_own_request__)){var u=l===void 0&&rs(i)?GM(i,a,o,s):p_(Hp(n,l||i,void 0,r,!1),a,o,s);u.level="error",g_(t,l,u,"onerror")}})}function WM(){la("unhandledrejection",e=>{const[t,n,r]=m_();if(!t.getIntegration(zi))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(h_()||i&&i.__sentry_own_request__)return!0;var a=O0(i)?VM(i):Hp(n,i,void 0,r,!0);a.level="error",g_(t,i,a,"onunhandledrejection")})}function VM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function GM(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=R0(e)?e.message:e,o="Error";var s=a.match(i);s&&(o=s[1],a=s[2]);var l={exception:{values:[{type:o,value:a}]}};return p_(l,t,n,r)}function p_(e,t,n,r){var i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,c=isNaN(parseInt(n,10))?void 0:n,f=rs(t)&&t.length>0?t:BF();return l.length===0&&l.push({colno:u,filename:f,function:"?",in_app:!0,lineno:c}),e}function KM(e){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.log(`Global Handler attached: ${e}`)}function g_(e,t,n,r){Ol(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function m_(){var e=_n(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}var YM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class fs{static __initStatic(){this.id="TryCatch"}__init(){this.name=fs.id}constructor(t){fs.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){var t=rn();this._options.setTimeout&&Mn(t,"setTimeout",v_),this._options.setInterval&&Mn(t,"setInterval",v_),this._options.requestAnimationFrame&&Mn(t,"requestAnimationFrame",QM),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Mn(XMLHttpRequest.prototype,"send",XM);var n=this._options.eventTarget;if(n){var r=Array.isArray(n)?n:YM;r.forEach(JM)}}}fs.__initStatic();function v_(e){return function(...t){var n=t[0];return t[0]=eo(n,{mechanism:{data:{function:sa(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function QM(e){return function(t){return e.apply(this,[eo(t,{mechanism:{data:{function:"requestAnimationFrame",handler:sa(e)},handled:!0,type:"instrument"}})])}}function XM(e){return function(...t){var n=this,r=["onload","onerror","onprogress","onreadystatechange"];return r.forEach(i=>{i in n&&typeof n[i]=="function"&&Mn(n,i,function(a){var o={mechanism:{data:{function:i,handler:sa(a)},handled:!0,type:"instrument"}},s=Ep(a);return s&&(o.mechanism.data.handler=sa(s)),eo(a,o)})}),e.apply(this,t)}}function JM(e){var t=rn(),n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Mn(n,"addEventListener",function(r){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=eo(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:sa(a),target:e},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[i,eo(a,{mechanism:{data:{function:"addEventListener",handler:sa(a),target:e},handled:!0,type:"instrument"}}),o])}}),Mn(n,"removeEventListener",function(r){return function(i,a,o){var s=a;try{var l=s&&s.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,s,o)}}))}var ZM="cause",e2=5;class to{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=to.id}constructor(t={}){to.prototype.__init.call(this),this._key=t.key||ZM,this._limit=t.limit||e2}setupOnce(){var t=_n().getClient();!t||jp((n,r)=>{var i=_n().getIntegration(to);return i?t2(t.getOptions().stackParser,i._key,i._limit,n,r):n})}}to.__initStatic();function t2(e,t,n,r,i){if(!r.exception||!r.exception.values||!i||!oa(i.originalException,Error))return r;var a=y_(e,n,i.originalException,t);return r.exception.values=[...a,...r.exception.values],r}function y_(e,t,n,r,i=[]){if(!oa(n[r],Error)||i.length+1>=t)return i;var a=u_(e,n[r]);return y_(e,t,n[r],r,[a,...i])}var no=rn();class ro{constructor(){ro.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ro.id}setupOnce(){jp(t=>{if(_n().getIntegration(ro)){if(!no.navigator&&!no.location&&!no.document)return t;var n=t.request&&t.request.url||no.location&&no.location.href;const{referrer:a}=no.document||{},{userAgent:o}=no.navigator||{};var r={...t.request&&t.request.headers,...a&&{Referer:a},...o&&{"User-Agent":o}},i={...n&&{url:n},headers:r};return{...t,request:i}}return t})}}ro.__initStatic();class io{constructor(){io.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=io.id}setupOnce(t,n){var r=i=>{var a=n().getIntegration(io);if(a){try{if(n2(i,a._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return a._previousEvent=i}return a._previousEvent=i}return i};r.id=this.name,t(r)}}io.__initStatic();function n2(e,t){return t?!!(r2(e,t)||i2(e,t)):!1}function r2(e,t){var n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!b_(e,t)||!w_(e,t))}function i2(e,t){var n=__(t),r=__(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!b_(e,t)||!w_(e,t))}function w_(e,t){let n=S_(e),r=S_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){var i=r[o],a=n[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function b_(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function __(e){return e.exception&&e.exception.values&&e.exception.values[0]}function S_(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var a2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",GlobalHandlers:zi,TryCatch:fs,Breadcrumbs:cs,LinkedErrors:to,HttpContext:ro,Dedupe:io}),o2=[new Za,new us,new fs,new cs,new zi,new to,new io,new ro];function s2(e={}){if(e.defaultIntegrations===void 0&&(e.defaultIntegrations=o2),e.release===void 0){var t=rn();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);var n={...e,stackParser:JF(e.stackParser||UM),integrations:Qj(e),transport:e.transport||(Ap()?xM:TM)};Zj(EM,n),e.autoSessionTracking&&u2()}function l2(e){return eo(e)()}function E_(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function u2(){var e=rn(),t=e.document;if(typeof t=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=_n();!n.captureSession||(E_(n),la("history",({from:r,to:i})=>{r===void 0||r===i||E_(_n())}))}let x_={};var Kp=rn();Kp.Sentry&&Kp.Sentry.Integrations&&(x_=Kp.Sentry.Integrations);var c2={...x_,...cM,...a2},k_={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=typeof Symbol=="function"&&Symbol.for,Yp=Sn?Symbol.for("react.element"):60103,Qp=Sn?Symbol.for("react.portal"):60106,ff=Sn?Symbol.for("react.fragment"):60107,df=Sn?Symbol.for("react.strict_mode"):60108,hf=Sn?Symbol.for("react.profiler"):60114,pf=Sn?Symbol.for("react.provider"):60109,gf=Sn?Symbol.for("react.context"):60110,Xp=Sn?Symbol.for("react.async_mode"):60111,mf=Sn?Symbol.for("react.concurrent_mode"):60111,vf=Sn?Symbol.for("react.forward_ref"):60112,yf=Sn?Symbol.for("react.suspense"):60113,f2=Sn?Symbol.for("react.suspense_list"):60120,wf=Sn?Symbol.for("react.memo"):60115,bf=Sn?Symbol.for("react.lazy"):60116,d2=Sn?Symbol.for("react.block"):60121,h2=Sn?Symbol.for("react.fundamental"):60117,p2=Sn?Symbol.for("react.responder"):60118,g2=Sn?Symbol.for("react.scope"):60119;function Sr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yp:switch(e=e.type,e){case Xp:case mf:case ff:case hf:case df:case yf:return e;default:switch(e=e&&e.$$typeof,e){case gf:case vf:case bf:case wf:case pf:return e;default:return t}}case Qp:return t}}}function T_(e){return Sr(e)===mf}jt.AsyncMode=Xp,jt.ConcurrentMode=mf,jt.ContextConsumer=gf,jt.ContextProvider=pf,jt.Element=Yp,jt.ForwardRef=vf,jt.Fragment=ff,jt.Lazy=bf,jt.Memo=wf,jt.Portal=Qp,jt.Profiler=hf,jt.StrictMode=df,jt.Suspense=yf,jt.isAsyncMode=function(e){return T_(e)||Sr(e)===Xp},jt.isConcurrentMode=T_,jt.isContextConsumer=function(e){return Sr(e)===gf},jt.isContextProvider=function(e){return Sr(e)===pf},jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yp},jt.isForwardRef=function(e){return Sr(e)===vf},jt.isFragment=function(e){return Sr(e)===ff},jt.isLazy=function(e){return Sr(e)===bf},jt.isMemo=function(e){return Sr(e)===wf},jt.isPortal=function(e){return Sr(e)===Qp},jt.isProfiler=function(e){return Sr(e)===hf},jt.isStrictMode=function(e){return Sr(e)===df},jt.isSuspense=function(e){return Sr(e)===yf},jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ff||e===mf||e===hf||e===df||e===yf||e===f2||typeof e=="object"&&e!==null&&(e.$$typeof===bf||e.$$typeof===wf||e.$$typeof===pf||e.$$typeof===gf||e.$$typeof===vf||e.$$typeof===h2||e.$$typeof===p2||e.$$typeof===g2||e.$$typeof===d2)},jt.typeOf=Sr,k_.exports=jt;var A_=k_.exports,m2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},v2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C_={};C_[A_.ForwardRef]=m2,C_[A_.Memo]=v2;var st={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),y2=Symbol.for("react.portal"),w2=Symbol.for("react.fragment"),b2=Symbol.for("react.strict_mode"),_2=Symbol.for("react.profiler"),S2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),x2=Symbol.for("react.forward_ref"),k2=Symbol.for("react.suspense"),T2=Symbol.for("react.memo"),A2=Symbol.for("react.lazy"),R_=Symbol.iterator;function C2(e){return e===null||typeof e!="object"?null:(e=R_&&e[R_]||e["@@iterator"],typeof e=="function"?e:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O_=Object.assign,I_={};function ds(e,t,n){this.props=e,this.context=t,this.refs=I_,this.updater=n||N_}ds.prototype.isReactComponent={},ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D_(){}D_.prototype=ds.prototype;function Jp(e,t,n){this.props=e,this.context=t,this.refs=I_,this.updater=n||N_}var Zp=Jp.prototype=new D_;Zp.constructor=Jp,O_(Zp,ds.prototype),Zp.isPureReactComponent=!0;var P_=Array.isArray,L_=Object.prototype.hasOwnProperty,eg={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function F_(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)L_.call(t,r)&&!$_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Dl,type:e,key:a,ref:o,props:i,_owner:eg.current}}function R2(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function N2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var j_=/\/+/g;function ng(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N2(""+e.key):t.toString(36)}function _f(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dl:case y2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ng(o,0):r,P_(i)?(n="",e!=null&&(n=e.replace(j_,"$&/")+"/"),_f(i,t,n,"",function(u){return u})):i!=null&&(tg(i)&&(i=R2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(j_,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",P_(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+ng(a,s);o+=_f(a,t,n,l,i)}else if(l=C2(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+ng(a,s++),o+=_f(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sf(e,t,n){if(e==null)return e;var r=[],i=0;return _f(e,r,"","",function(a){return t.call(n,a,i++)}),r}function O2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qn={current:null},Ef={transition:null},I2={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:eg};kt.Children={map:Sf,forEach:function(e,t,n){Sf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sf(e,function(){t++}),t},toArray:function(e){return Sf(e,function(t){return t})||[]},only:function(e){if(!tg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},kt.Component=ds,kt.Fragment=w2,kt.Profiler=_2,kt.PureComponent=Jp,kt.StrictMode=b2,kt.Suspense=k2,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2,kt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O_({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=eg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)L_.call(t,l)&&!$_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Dl,type:e.type,key:i,ref:a,props:r,_owner:o}},kt.createContext=function(e){return e={$$typeof:E2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S2,_context:e},e.Consumer=e},kt.createElement=F_,kt.createFactory=function(e){var t=F_.bind(null,e);return t.type=e,t},kt.createRef=function(){return{current:null}},kt.forwardRef=function(e){return{$$typeof:x2,render:e}},kt.isValidElement=tg,kt.lazy=function(e){return{$$typeof:A2,_payload:{_status:-1,_result:e},_init:O2}},kt.memo=function(e,t){return{$$typeof:T2,type:e,compare:t===void 0?null:t}},kt.startTransition=function(e){var t=Ef.transition;Ef.transition={};try{e()}finally{Ef.transition=t}},kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.useCallback=function(e,t){return Qn.current.useCallback(e,t)},kt.useContext=function(e){return Qn.current.useContext(e)},kt.useDebugValue=function(){},kt.useDeferredValue=function(e){return Qn.current.useDeferredValue(e)},kt.useEffect=function(e,t){return Qn.current.useEffect(e,t)},kt.useId=function(){return Qn.current.useId()},kt.useImperativeHandle=function(e,t,n){return Qn.current.useImperativeHandle(e,t,n)},kt.useInsertionEffect=function(e,t){return Qn.current.useInsertionEffect(e,t)},kt.useLayoutEffect=function(e,t){return Qn.current.useLayoutEffect(e,t)},kt.useMemo=function(e,t){return Qn.current.useMemo(e,t)},kt.useReducer=function(e,t,n){return Qn.current.useReducer(e,t,n)},kt.useRef=function(e){return Qn.current.useRef(e)},kt.useState=function(e){return Qn.current.useState(e)},kt.useSyncExternalStore=function(e,t,n){return Qn.current.useSyncExternalStore(e,t,n)},kt.useTransition=function(){return Qn.current.useTransition()},kt.version="18.2.0",st.exports=kt;var Ge=st.exports,He=(e=>(e.Article="article",e.Email="email",e.RSS="rss",e.Highlight="highlight",e.Note="note",e.PDF="pdf",e.EPUB="epub",e.Tweet="tweet",e.Video="video",e))(He||{}),Bi=(e=>(e.Failed="failed",e.Loaded="loaded",e.Loading="loading",e.Unloaded="unloaded",e))(Bi||{}),Ui=(e=>(e.Failed="fail",e.Pending="pending",e.ServerTaskNotStartedYet="task_not_started",e.Success="success",e))(Ui||{}),xf=(e=>(e.Archived="archived",e.Reading="reading",e.Unread="unread",e))(xf||{}),Pl=(e=>(e.New="unseen",e.Seen="seen",e))(Pl||{}),rt=(e=>(e.Archive="archive",e.Feed="feed",e.Later="later",e.New="new",e.Shortlist="shortlist",e))(rt||{}),Bt=(e=>(e.XS="XS",e.S="S",e.M="M",e.L="L",e.XL="XL",e))(Bt||{}),lr=(e=>(e.Default="default",e.Dark="dark",e.Light="light",e.System="system",e.Sepia="Sepia",e))(lr||{}),wt=(e=>(e.Roboto="Roboto",e.AvenirNext="Avenir Next",e.HelveticaNeue="Helvetica Neue",e.Georgia="Georgia",e.Charter="Charter",e.NewYork="New York",e.SanFrancisco="San Francisco",e.Palatino="Palatino",e.SansSerif="Trebuchet MS",e.Times="Times New Roman",e.Inter="Inter",e.Literata="Literata",e.IBMPlexSans="IBM Plex Sans",e.Piazzolla="Piazzolla",e.SourceSans="Source Sans",e.SourceSerif="Source Serif",e.OpenDyslexic="OpenDyslexic",e.RobotoMono="Roboto Mono",e.AtkinsonHyperlegible="Atkinson Hyperlegible",e))(wt||{});const M_=["content","contentParsingStatus","contentRequestLoadingStatus","tts","ttsParsingStatus","links"],D2=["contentParsingStatus","contentRequestLoadingStatus"];var ii=(e=>(e.Name="name",e.Description="description",e.Query="query",e.Documents="documents",e.HighlightsCount="HighlightsCount",e.Views="views",e.LastUpdated="lastUpdated",e.SelectAll="selectAll",e.Frequency="frequency",e.Manual="manual",e))(ii||{}),$t=(e=>(e.Author="author",e.Category="category",e.LastOpenedAt="lastOpenedAt",e.LastStatusUpdate="last_status_update",e.Published="published_date",e.SavedAt="saved_at",e.WordCount="word_count",e.ReadingProgress="reading_progress",e.Title="title",e.Random="random",e))($t||{}),dn=(e=>(e.Desc="desc",e.Asc="asc",e))(dn||{}),ao=(e=>(e.DocumentLocation="triage_status",e.Seen="seen",e))(ao||{}),z_=(e=>(e.Jenny="en-US-JennyNeural",e.JennyMultilingual="en-US-JennyMultilingualNeural",e.Guy="en-US-GuyNeural",e.Amber="en-US-AmberNeural",e.Ana="en-US-AnaNeural",e.Aria="en-US-AriaNeural",e.Ashley="en-US-AshleyNeural",e.Brandon="en-US-BrandonNeural",e.Christopher="en-US-ChristopherNeural",e.Cora="en-US-CoraNeural",e.Elizabeth="en-US-ElizabethNeural",e.Eric="en-US-EricNeural",e.Jacob="en-US-JacobNeural",e.Michelle="en-US-MichelleNeural",e.Monica="en-US-MonicaNeural",e.Sara="en-US-SaraNeural",e))(z_||{}),B_=(e=>(e.Queued="queued",e.Started="started",e.Success="success",e.Failure="failure",e))(B_||{}),Ll=(e=>(e.ParseNewDocument="parse-new-document",e.RssImport="rss-import",e.MigrateTwitterThreads="migrate-twitter-threads",e.GenerateFirstDailyDigest="generate-first-daily-digest",e.GenerateEmailForAppInstall="generate-email-for-app-install",e.SetUpNewSpace="set-up-new-space",e.FullPocketImport="full-pocket-import",e))(Ll||{}),$l=(e=>(e.Welcome="/welcome",e.Extension="/welcome/extension",e.MobileApp="/welcome/mobile",e.Ready="/welcome/ready",e.New="/new",e))($l||{});const U_=["/welcome","/welcome/extension","/welcome/mobile","/welcome/ready","/new"],H_=["/welcome","/welcome/extension","/welcome/ready","/new"];var Dn=(e=>(e.AllActions="AllActions",e.MoveToArchive="MoveToArchive",e.MoveToInbox="MoveToInbox",e.MoveToLater="MoveToLater",e.MoveToShortlist="MoveToShortlist",e.ToggleShortlistTag="ToggleShortlist",e.ToggleSeen="ToggleSeen",e.MarkAboveAsSeen="MarkAboveAsSeen",e.MarkBelowAsUnseen="MarkBelowAsUnseen",e.NoteAndTags="NoteAndTags",e.DeleteDocument="DeleteDocument",e.DeleteAbove="DeleteAbove",e.DeleteBelow="DeleteBelow",e))(Dn||{});const rg=1,kf=[.25,.5,.75,rg,1.25,1.5,1.75,2];var ig=(e=>(e.LeftToRight="ltr",e.RightToLeft="rtl",e))(ig||{}),Xn=(e=>(e.AllCommands="AllCommands",e.BrowseFilteredView="BrowseFilteredView",e.BugReport="BugReport",e.BulkActions="BulkActions",e.BulkActionsTagsAbove="BulkActionsTagsAbove",e.BulkActionsTagsAll="BulkActionsTagsAll",e.BulkActionsTagsBelow="BulkActionsTagsBelow",e.CreateFilteredView="CreateFilteredView",e.DeleteFeeds="DeleteFeeds",e.DocumentActions="DocumentActions",e.DocumentGptPrompt="DocumentGptPrompt",e.DocumentInboxActions="DocumentInboxActions",e.EditFeed="EditFeed",e.EditTag="EditTag",e.EditView="EditView",e.FeatureRequest="FeatureRequest",e.Feedback="Feedback",e.Feeds="Feeds",e.FilterAllDocuments="FilterAllDocuments",e.FontSettings="FontSettings",e.HighlightGptPrompt="HighlightGptPrompt",e.InputGptPrompt="InputGptPrompt",e.LinkActions="LinkActions",e.ManualGptPrompt="ManualGptPrompt",e.None="None",e.Normal="Normal",e.ParseError="ParseError",e.ReferFriend="ReferFriend",e.RemoveFilteredView="RemoveFilteredView",e.SaveDocFromUrl="SaveDocFromUrl",e.SaveFilteredView="SaveFilteredView",e.Search="Search",e.SelectSplitBy="SelectSplitBy",e.Shortcuts="Shortcuts",e.SortList="SortList",e.StyleSettings="StyleSettings",e.Tags="Tags",e.Theme="Theme",e.Triage="Triage",e.TriageFromInbox="TriageFromInbox",e.TtsSpeechRates="TtsSpeechRates",e.TtsVoices="TtsVoices",e.AddFeed="AddFeed",e.ConfigureHome="ConfigureHome",e.CreateViewFromFeed="CreateViewFromFeed",e.CreateViewFromTag="CreateViewFromTag",e.DocNote="DocNote",e.EditQuery="EditQuery",e.EditUnsavedQuery="EditUnsavedQuery",e.FeedActions="FeedActions",e.FeedsActions="FeedsActions",e.FilterQuery="FilterQuery",e.Ghostreader="Ghostreader",e.HomeActions="HomeActions",e.NotebookHighlightActions="NotebookHighlightActions",e.Login="Login",e.SaveView="SaveView",e.ShareDocument="ShareDocument",e.Signup="Signup",e.SortFeeds="SortFeeds",e.SortTags="SortTags",e.SortViews="SortViews",e.SwipeActions="SwipeActions",e.TagActions="TagActions",e.ViewActions="ViewActions",e.ImageActions="ImageActions",e.ChangeEmail="ChangeEmail",e.ResetPassword="ResetPassword",e.HighlightNote="HighlightNote",e.HighlightTags="HighlightTags",e))(Xn||{}),ag=(e=>(e.Highlight="highlight",e.JumpForward="jump_forward",e.JumpBackward="jump_backward",e))(ag||{}),Tf=(e=>(e.FocusedArticle="FocusedArticle",e.AllDocuments="AllDocuments",e.AllDocumentsInList="AllDocumentsInList",e.AboveFocusedDoc="AboveFocusedDoc",e.BelowFocusedDoc="BelowFocusedDoc",e.Reader="Reader",e.Rss="Rss",e.EditFeed="EditFeed",e.EditFilteredView="EditFilteredView",e))(Tf||{}),Er=(e=>(e.AllDocs="AllDocs",e.AboveFocusedDoc="AboveFocusedDoc",e.BelowFocusedDoc="BelowFocusedDoc",e))(Er||{}),ai=e=>new Promise(t=>{if(e||Jt){setTimeout(t,e);return}requestAnimationFrame(()=>t())});function Hi(e){if(!(!ei&&!Qb))try{e()}catch(t){console.error(t)}}var Fe={assert:(...e)=>Hi(()=>console.assert(...e)),debug:(...e)=>Hi(()=>console.debug(...e)),error:(...e)=>Hi(()=>console.error(...e)),group:(...e)=>Hi(()=>console.group(...e)),info:(...e)=>Hi(()=>console.info(...e)),log:(...e)=>Hi(()=>console.log(...e)),time:(...e)=>Hi(()=>console.time(...e)),timeEnd:(...e)=>Hi(()=>console.timeEnd(...e)),warn:(...e)=>Hi(()=>console.warn(...e))};function ur(e){return(typeof e=="undefined"?ei:e)?"https://local.readwise.io:8000".replace(/\/+$/g,""):"https://readwise.io"}const Fl=(async()=>{const e=await ct.storage.local.get(null),t=Object.keys(e).filter(n=>n.startsWith("document-"));if(!t.length){Fe.log("[storage]","[prepare]","nothing to do, exiting...");return}Fe.log("[storage]","[prepare]","deleting old items in storage...",{documentKeys:t}),await ct.storage.local.remove(t),Fe.log("[storage]","[prepare]","...done")})(),P2=async()=>(await Fl,Fe.log("[storage]","clear"),ct.storage.local.clear()),L2=async e=>(await Fl,Fe.log("[storage]","get",{keys:e}),ct.storage.local.get(e)),q_=e=>(t,n)=>{n==="local"&&e(t)};var En={clear:P2,get:L2,onChanged:{addListener:async e=>{await Fl,ct.storage.onChanged.addListener(q_(e))},removeListener:e=>{ct.storage.onChanged.removeListener(q_(e))}},remove:async e=>(await Fl,Fe.log("[storage]","remove",{keys:e}),ct.storage.local.remove(e)),set:async e=>(await Fl,Fe.log("[storage]","set",{items:e}),ct.storage.local.set(e))};class $2 extends Error{constructor(t,n){super(t),this.response=n}}async function F2(...e){var n;if(ei&&Jt){const r=((n=e[1])==null?void 0:n.headers)||{};if(!("MOBILESESSION"in r)&&!("Authorization"in r)){const i=new Error("rwfetch: MOBILESESSION/Authorization header missing");throw Fe.error(i,{args:e}),i}}const t=await fetch(...e);if(t.status>=400){const r=typeof e[0]=="string"?e[0]:e[0].url;throw new $2(`Request failed (${t.status}): ${r}`,t)}return t}async function oo(e,t){const{authKey:n}=await En.get("authKey");if(!n){const i=new Error("rwfetch: no authKey in storage");throw console.error(i,{url:e,options:t}),i}const r={...(t==null?void 0:t.headers)||{}};return n&&(n.startsWith("SessionToken ")?r.Authorization=n:r.Authorization=`Token ${n}`),F2(e,{...t||{},headers:r})}const j2=e=>e!=null,M2=e=>{if(e&&sr(e)){const t=e;return Boolean(t.category&&t.id)}return!1},z2=e=>[He.Highlight,He.Note].includes(e.category),W_=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet,He.Video].includes(e.category),qi=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet,He.Video].includes(e.category),og=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet,He.Video].includes(e.category),B2=e=>Boolean(e&&[He.Article,He.Email,He.RSS,He.Tweet,He.Video,He.PDF].includes(e.category)),Af=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet,He.Video].includes(e.category),so=e=>[He.Article,He.Email,He.PDF,He.RSS,He.Tweet,He.Video].includes(e.category),U2=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet].includes(e.category),H2=e=>[He.Article,He.Email,He.PDF,He.RSS,He.EPUB,He.Tweet,He.Video].includes(e.category),V_=e=>[He.Article,He.Email,He.RSS,He.PDF,He.EPUB,He.Tweet,He.Video].includes(e.category),fa=e=>(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE,q2=e=>e.includes("youtube.com")||e.includes("youtu.be"),W2=e=>qi(e)&&e.triage_status!==rt.Feed;var G_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof jc=="function"&&jc;if(!c&&f)return f(u,!0);if(s)return s(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(v){var w=r[u][1][v];return o(w||v)},p,p.exports,n,r,i,a)}return i[u].exports}for(var s=typeof jc=="function"&&jc,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(n,r,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var l=0,u=new o(v),c=a.document.createTextNode("");u.observe(c,{characterData:!0}),s=function(){c.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel!="undefined"){var f=new a.MessageChannel;f.port1.onmessage=v,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var A=a.document.createElement("script");A.onreadystatechange=function(){v(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},a.document.documentElement.appendChild(A)}:s=function(){setTimeout(v,0)};var d,p=[];function v(){d=!0;for(var A,h,g=p.length;g;){for(h=p,p=[],A=-1;++A<g;)h[A]();g=p.length}d=!1}r.exports=w;function w(A){p.push(A)===1&&!d&&s()}}).call(this,typeof or!="undefined"?or:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var a=n(1);function o(){}var s={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=f;function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==o&&w(this,y)}f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,_){if(typeof y!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var x=new this.constructor(o);if(this.state!==c){var S=this.state===u?y:_;p(x,S,this.outcome)}else this.queue.push(new d(x,y,_));return x};function d(y,_,x){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},d.prototype.otherCallFulfilled=function(y){p(this.promise,this.onFulfilled,y)},d.prototype.callRejected=function(y){s.reject(this.promise,y)},d.prototype.otherCallRejected=function(y){p(this.promise,this.onRejected,y)};function p(y,_,x){a(function(){var S;try{S=_(x)}catch(M){return s.reject(y,M)}S===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,S)})}s.resolve=function(y,_){var x=A(v,_);if(x.status==="error")return s.reject(y,x.value);var S=x.value;if(S)w(y,S);else{y.state=u,y.outcome=_;for(var M=-1,V=y.queue.length;++M<V;)y.queue[M].callFulfilled(_)}return y},s.reject=function(y,_){y.state=l,y.outcome=_;for(var x=-1,S=y.queue.length;++x<S;)y.queue[x].callRejected(_);return y};function v(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function w(y,_){var x=!1;function S(pe){x||(x=!0,s.reject(y,pe))}function M(pe){x||(x=!0,s.resolve(y,pe))}function V(){_(M,S)}var Z=A(V);Z.status==="error"&&S(Z.value)}function A(y,_){var x={};try{x.value=y(_),x.status="success"}catch(S){x.status="error",x.value=S}return x}f.resolve=h;function h(y){return y instanceof this?y:s.resolve(new this(o),y)}f.reject=g;function g(y){var _=new this(o);return s.reject(_,y)}f.all=b;function b(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,S=!1;if(!x)return this.resolve([]);for(var M=new Array(x),V=0,Z=-1,pe=new this(o);++Z<x;)ge(y[Z],Z);return pe;function ge(we,ee){_.resolve(we).then(Le,function(je){S||(S=!0,s.reject(pe,je))});function Le(je){M[ee]=je,++V===x&&!S&&(S=!0,s.resolve(pe,M))}}}f.race=m;function m(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,S=!1;if(!x)return this.resolve([]);for(var M=-1,V=new this(o);++M<x;)Z(y[M]);return V;function Z(pe){_.resolve(pe).then(function(ge){S||(S=!0,s.resolve(V,ge))},function(ge){S||(S=!0,s.reject(V,ge))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof or!="undefined"?or:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function o(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var l=s();function u(){try{if(!l||!l.open)return!1;var T=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),P=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||P)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function c(T,P){T=T||[],P=P||{};try{return new Blob(T,P)}catch(Q){if(Q.name!=="TypeError")throw Q;for(var R=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,B=new R,Y=0;Y<T.length;Y+=1)B.append(T[Y]);return B.getBlob(P.type)}}typeof Promise=="undefined"&&n(3);var f=Promise;function d(T,P){P&&T.then(function(R){P(null,R)},function(R){P(R)})}function p(T,P,R){typeof P=="function"&&T.then(P),typeof R=="function"&&T.catch(R)}function v(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",h=void 0,g={},b=Object.prototype.toString,m="readonly",y="readwrite";function _(T){for(var P=T.length,R=new ArrayBuffer(P),B=new Uint8Array(R),Y=0;Y<P;Y++)B[Y]=T.charCodeAt(Y);return R}function x(T){return new f(function(P){var R=T.transaction(A,y),B=c([""]);R.objectStore(A).put(B,"key"),R.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),P(!1)},R.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),Q=navigator.userAgent.match(/Edge\//);P(Q||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function S(T){return typeof h=="boolean"?f.resolve(h):x(T).then(function(P){return h=P,h})}function M(T){var P=g[T.name],R={};R.promise=new f(function(B,Y){R.resolve=B,R.reject=Y}),P.deferredOperations.push(R),P.dbReady?P.dbReady=P.dbReady.then(function(){return R.promise}):P.dbReady=R.promise}function V(T){var P=g[T.name],R=P.deferredOperations.pop();if(R)return R.resolve(),R.promise}function Z(T,P){var R=g[T.name],B=R.deferredOperations.pop();if(B)return B.reject(P),B.promise}function pe(T,P){return new f(function(R,B){if(g[T.name]=g[T.name]||z(),T.db)if(P)M(T),T.db.close();else return R(T.db);var Y=[T.name];P&&Y.push(T.version);var Q=l.open.apply(l,Y);P&&(Q.onupgradeneeded=function(ye){var Ie=Q.result;try{Ie.createObjectStore(T.storeName),ye.oldVersion<=1&&Ie.createObjectStore(A)}catch(Ne){if(Ne.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+ye.oldVersion+" to version "+ye.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw Ne}}),Q.onerror=function(ye){ye.preventDefault(),B(Q.error)},Q.onsuccess=function(){var ye=Q.result;ye.onversionchange=function(Ie){Ie.target.close()},R(ye),V(T)}})}function ge(T){return pe(T,!1)}function we(T){return pe(T,!0)}function ee(T,P){if(!T.db)return!0;var R=!T.db.objectStoreNames.contains(T.storeName),B=T.version<T.db.version,Y=T.version>T.db.version;if(B&&(T.version!==P&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),Y||R){if(R){var Q=T.db.version+1;Q>T.version&&(T.version=Q)}return!0}return!1}function Le(T){return new f(function(P,R){var B=new FileReader;B.onerror=R,B.onloadend=function(Y){var Q=btoa(Y.target.result||"");P({__local_forage_encoded_blob:!0,data:Q,type:T.type})},B.readAsBinaryString(T)})}function je(T){var P=_(atob(T.data));return c([P],{type:T.type})}function E(T){return T&&T.__local_forage_encoded_blob}function C(T){var P=this,R=P._initReady().then(function(){var B=g[P._dbInfo.name];if(B&&B.dbReady)return B.dbReady});return p(R,T,T),R}function k(T){M(T);for(var P=g[T.name],R=P.forages,B=0;B<R.length;B++){var Y=R[B];Y._dbInfo&&Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return T.db=null,ge(T).then(function(Q){return T.db=Q,ee(T)?we(T):Q}).then(function(Q){T.db=P.db=Q;for(var ye=0;ye<R.length;ye++)!R[ye]._dbInfo||(R[ye]._dbInfo.db=Q)}).catch(function(Q){throw Z(T,Q),Q})}function L(T,P,R,B){B===void 0&&(B=1);try{var Y=T.db.transaction(T.storeName,P);R(null,Y)}catch(Q){if(B>0&&(!T.db||Q.name==="InvalidStateError"||Q.name==="NotFoundError"))return f.resolve().then(function(){if(!T.db||Q.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),we(T)}).then(function(){return k(T).then(function(){L(T,P,R,B-1)})}).catch(R);R(Q)}}function z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function K(T){var P=this,R={db:null};if(T)for(var B in T)R[B]=T[B];var Y=g[R.name];Y||(Y=z(),g[R.name]=Y),Y.forages.push(P),P._initReady||(P._initReady=P.ready,P.ready=C);var Q=[];function ye(){return f.resolve()}for(var Ie=0;Ie<Y.forages.length;Ie++){var Ne=Y.forages[Ie];Ne!==P&&Q.push(Ne._initReady().catch(ye))}var Ue=Y.forages.slice(0);return f.all(Q).then(function(){return R.db=Y.db,ge(R)}).then(function(qe){return R.db=qe,ee(R,P._defaultConfig.version)?we(R):qe}).then(function(qe){R.db=Y.db=qe,P._dbInfo=R;for(var Ye=0;Ye<Ue.length;Ye++){var gt=Ue[Ye];gt!==P&&(gt._dbInfo.db=R.db,gt._dbInfo.version=R.version)}})}function ae(T,P){var R=this;T=v(T);var B=new f(function(Y,Q){R.ready().then(function(){L(R._dbInfo,m,function(ye,Ie){if(ye)return Q(ye);try{var Ne=Ie.objectStore(R._dbInfo.storeName),Ue=Ne.get(T);Ue.onsuccess=function(){var qe=Ue.result;qe===void 0&&(qe=null),E(qe)&&(qe=je(qe)),Y(qe)},Ue.onerror=function(){Q(Ue.error)}}catch(qe){Q(qe)}})}).catch(Q)});return d(B,P),B}function ie(T,P){var R=this,B=new f(function(Y,Q){R.ready().then(function(){L(R._dbInfo,m,function(ye,Ie){if(ye)return Q(ye);try{var Ne=Ie.objectStore(R._dbInfo.storeName),Ue=Ne.openCursor(),qe=1;Ue.onsuccess=function(){var Ye=Ue.result;if(Ye){var gt=Ye.value;E(gt)&&(gt=je(gt));var Pt=T(gt,Ye.key,qe++);Pt!==void 0?Y(Pt):Ye.continue()}else Y()},Ue.onerror=function(){Q(Ue.error)}}catch(Ye){Q(Ye)}})}).catch(Q)});return d(B,P),B}function O(T,P,R){var B=this;T=v(T);var Y=new f(function(Q,ye){var Ie;B.ready().then(function(){return Ie=B._dbInfo,b.call(P)==="[object Blob]"?S(Ie.db).then(function(Ne){return Ne?P:Le(P)}):P}).then(function(Ne){L(B._dbInfo,y,function(Ue,qe){if(Ue)return ye(Ue);try{var Ye=qe.objectStore(B._dbInfo.storeName);Ne===null&&(Ne=void 0);var gt=Ye.put(Ne,T);qe.oncomplete=function(){Ne===void 0&&(Ne=null),Q(Ne)},qe.onabort=qe.onerror=function(){var Pt=gt.error?gt.error:gt.transaction.error;ye(Pt)}}catch(Pt){ye(Pt)}})}).catch(ye)});return d(Y,R),Y}function H(T,P){var R=this;T=v(T);var B=new f(function(Y,Q){R.ready().then(function(){L(R._dbInfo,y,function(ye,Ie){if(ye)return Q(ye);try{var Ne=Ie.objectStore(R._dbInfo.storeName),Ue=Ne.delete(T);Ie.oncomplete=function(){Y()},Ie.onerror=function(){Q(Ue.error)},Ie.onabort=function(){var qe=Ue.error?Ue.error:Ue.transaction.error;Q(qe)}}catch(qe){Q(qe)}})}).catch(Q)});return d(B,P),B}function J(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){L(P._dbInfo,y,function(Q,ye){if(Q)return Y(Q);try{var Ie=ye.objectStore(P._dbInfo.storeName),Ne=Ie.clear();ye.oncomplete=function(){B()},ye.onabort=ye.onerror=function(){var Ue=Ne.error?Ne.error:Ne.transaction.error;Y(Ue)}}catch(Ue){Y(Ue)}})}).catch(Y)});return d(R,T),R}function ve(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){L(P._dbInfo,m,function(Q,ye){if(Q)return Y(Q);try{var Ie=ye.objectStore(P._dbInfo.storeName),Ne=Ie.count();Ne.onsuccess=function(){B(Ne.result)},Ne.onerror=function(){Y(Ne.error)}}catch(Ue){Y(Ue)}})}).catch(Y)});return d(R,T),R}function _e(T,P){var R=this,B=new f(function(Y,Q){if(T<0){Y(null);return}R.ready().then(function(){L(R._dbInfo,m,function(ye,Ie){if(ye)return Q(ye);try{var Ne=Ie.objectStore(R._dbInfo.storeName),Ue=!1,qe=Ne.openKeyCursor();qe.onsuccess=function(){var Ye=qe.result;if(!Ye){Y(null);return}T===0||Ue?Y(Ye.key):(Ue=!0,Ye.advance(T))},qe.onerror=function(){Q(qe.error)}}catch(Ye){Q(Ye)}})}).catch(Q)});return d(B,P),B}function Ee(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){L(P._dbInfo,m,function(Q,ye){if(Q)return Y(Q);try{var Ie=ye.objectStore(P._dbInfo.storeName),Ne=Ie.openKeyCursor(),Ue=[];Ne.onsuccess=function(){var qe=Ne.result;if(!qe){B(Ue);return}Ue.push(qe.key),qe.continue()},Ne.onerror=function(){Y(Ne.error)}}catch(qe){Y(qe)}})}).catch(Y)});return d(R,T),R}function Re(T,P){P=w.apply(this,arguments);var R=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||R.name,T.storeName=T.storeName||R.storeName);var B=this,Y;if(!T.name)Y=f.reject("Invalid arguments");else{var Q=T.name===R.name&&B._dbInfo.db,ye=Q?f.resolve(B._dbInfo.db):ge(T).then(function(Ie){var Ne=g[T.name],Ue=Ne.forages;Ne.db=Ie;for(var qe=0;qe<Ue.length;qe++)Ue[qe]._dbInfo.db=Ie;return Ie});T.storeName?Y=ye.then(function(Ie){if(!!Ie.objectStoreNames.contains(T.storeName)){var Ne=Ie.version+1;M(T);var Ue=g[T.name],qe=Ue.forages;Ie.close();for(var Ye=0;Ye<qe.length;Ye++){var gt=qe[Ye];gt._dbInfo.db=null,gt._dbInfo.version=Ne}var Pt=new f(function(Lt,mn){var fn=l.open(T.name,Ne);fn.onerror=function(Zr){var $c=fn.result;$c.close(),mn(Zr)},fn.onupgradeneeded=function(){var Zr=fn.result;Zr.deleteObjectStore(T.storeName)},fn.onsuccess=function(){var Zr=fn.result;Zr.close(),Lt(Zr)}});return Pt.then(function(Lt){Ue.db=Lt;for(var mn=0;mn<qe.length;mn++){var fn=qe[mn];fn._dbInfo.db=Lt,V(fn._dbInfo)}}).catch(function(Lt){throw(Z(T,Lt)||f.resolve()).catch(function(){}),Lt})}}):Y=ye.then(function(Ie){M(T);var Ne=g[T.name],Ue=Ne.forages;Ie.close();for(var qe=0;qe<Ue.length;qe++){var Ye=Ue[qe];Ye._dbInfo.db=null}var gt=new f(function(Pt,Lt){var mn=l.deleteDatabase(T.name);mn.onerror=function(){var fn=mn.result;fn&&fn.close(),Lt(mn.error)},mn.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},mn.onsuccess=function(){var fn=mn.result;fn&&fn.close(),Pt(fn)}});return gt.then(function(Pt){Ne.db=Pt;for(var Lt=0;Lt<Ue.length;Lt++){var mn=Ue[Lt];V(mn._dbInfo)}}).catch(function(Pt){throw(Z(T,Pt)||f.resolve()).catch(function(){}),Pt})})}return d(Y,P),Y}var Ke={_driver:"asyncStorage",_initStorage:K,_support:u(),iterate:ie,getItem:ae,setItem:O,removeItem:H,clear:J,length:ve,key:_e,keys:Ee,dropInstance:Re};function lt(){return typeof openDatabase=="function"}var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt="~~local_forage_type~",it=/^~~local_forage_type~([^~]+)~/,yt="__lfsc__:",N=yt.length,j="arbf",W="blob",ce="si08",G="ui08",be="uic8",fe="si16",de="si32",Ce="ur16",De="ui32",Me="fl32",at="fl64",We=N+j.length,$e=Object.prototype.toString;function ht(T){var P=T.length*.75,R=T.length,B,Y=0,Q,ye,Ie,Ne;T[T.length-1]==="="&&(P--,T[T.length-2]==="="&&P--);var Ue=new ArrayBuffer(P),qe=new Uint8Array(Ue);for(B=0;B<R;B+=4)Q=ft.indexOf(T[B]),ye=ft.indexOf(T[B+1]),Ie=ft.indexOf(T[B+2]),Ne=ft.indexOf(T[B+3]),qe[Y++]=Q<<2|ye>>4,qe[Y++]=(ye&15)<<4|Ie>>2,qe[Y++]=(Ie&3)<<6|Ne&63;return Ue}function X(T){var P=new Uint8Array(T),R="",B;for(B=0;B<P.length;B+=3)R+=ft[P[B]>>2],R+=ft[(P[B]&3)<<4|P[B+1]>>4],R+=ft[(P[B+1]&15)<<2|P[B+2]>>6],R+=ft[P[B+2]&63];return P.length%3===2?R=R.substring(0,R.length-1)+"=":P.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function me(T,P){var R="";if(T&&(R=$e.call(T)),T&&(R==="[object ArrayBuffer]"||T.buffer&&$e.call(T.buffer)==="[object ArrayBuffer]")){var B,Y=yt;T instanceof ArrayBuffer?(B=T,Y+=j):(B=T.buffer,R==="[object Int8Array]"?Y+=ce:R==="[object Uint8Array]"?Y+=G:R==="[object Uint8ClampedArray]"?Y+=be:R==="[object Int16Array]"?Y+=fe:R==="[object Uint16Array]"?Y+=Ce:R==="[object Int32Array]"?Y+=de:R==="[object Uint32Array]"?Y+=De:R==="[object Float32Array]"?Y+=Me:R==="[object Float64Array]"?Y+=at:P(new Error("Failed to get type for BinaryArray"))),P(Y+X(B))}else if(R==="[object Blob]"){var Q=new FileReader;Q.onload=function(){var ye=tt+T.type+"~"+X(this.result);P(yt+W+ye)},Q.readAsArrayBuffer(T)}else try{P(JSON.stringify(T))}catch(ye){console.error("Couldn't convert value into a JSON string: ",T),P(null,ye)}}function Be(T){if(T.substring(0,N)!==yt)return JSON.parse(T);var P=T.substring(We),R=T.substring(N,We),B;if(R===W&&it.test(P)){var Y=P.match(it);B=Y[1],P=P.substring(Y[0].length)}var Q=ht(P);switch(R){case j:return Q;case W:return c([Q],{type:B});case ce:return new Int8Array(Q);case G:return new Uint8Array(Q);case be:return new Uint8ClampedArray(Q);case fe:return new Int16Array(Q);case Ce:return new Uint16Array(Q);case de:return new Int32Array(Q);case De:return new Uint32Array(Q);case Me:return new Float32Array(Q);case at:return new Float64Array(Q);default:throw new Error("Unkown type: "+R)}}var Qe={serialize:me,deserialize:Be,stringToBuffer:ht,bufferToString:X};function Je(T,P,R,B){T.executeSql("CREATE TABLE IF NOT EXISTS "+P.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,B)}function Rt(T){var P=this,R={db:null};if(T)for(var B in T)R[B]=typeof T[B]!="string"?T[B].toString():T[B];var Y=new f(function(Q,ye){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(Ie){return ye(Ie)}R.db.transaction(function(Ie){Je(Ie,R,function(){P._dbInfo=R,Q()},function(Ne,Ue){ye(Ue)})},ye)});return R.serializer=Qe,Y}function bt(T,P,R,B,Y,Q){T.executeSql(R,B,Y,function(ye,Ie){Ie.code===Ie.SYNTAX_ERR?ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[P.storeName],function(Ne,Ue){Ue.rows.length?Q(Ne,Ie):Je(Ne,P,function(){Ne.executeSql(R,B,Y,Q)},Q)},Q):Q(ye,Ie)},Q)}function Tt(T,P){var R=this;T=v(T);var B=new f(function(Y,Q){R.ready().then(function(){var ye=R._dbInfo;ye.db.transaction(function(Ie){bt(Ie,ye,"SELECT * FROM "+ye.storeName+" WHERE key = ? LIMIT 1",[T],function(Ne,Ue){var qe=Ue.rows.length?Ue.rows.item(0).value:null;qe&&(qe=ye.serializer.deserialize(qe)),Y(qe)},function(Ne,Ue){Q(Ue)})})}).catch(Q)});return d(B,P),B}function sn(T,P){var R=this,B=new f(function(Y,Q){R.ready().then(function(){var ye=R._dbInfo;ye.db.transaction(function(Ie){bt(Ie,ye,"SELECT * FROM "+ye.storeName,[],function(Ne,Ue){for(var qe=Ue.rows,Ye=qe.length,gt=0;gt<Ye;gt++){var Pt=qe.item(gt),Lt=Pt.value;if(Lt&&(Lt=ye.serializer.deserialize(Lt)),Lt=T(Lt,Pt.key,gt+1),Lt!==void 0){Y(Lt);return}}Y()},function(Ne,Ue){Q(Ue)})})}).catch(Q)});return d(B,P),B}function At(T,P,R,B){var Y=this;T=v(T);var Q=new f(function(ye,Ie){Y.ready().then(function(){P===void 0&&(P=null);var Ne=P,Ue=Y._dbInfo;Ue.serializer.serialize(P,function(qe,Ye){Ye?Ie(Ye):Ue.db.transaction(function(gt){bt(gt,Ue,"INSERT OR REPLACE INTO "+Ue.storeName+" (key, value) VALUES (?, ?)",[T,qe],function(){ye(Ne)},function(Pt,Lt){Ie(Lt)})},function(gt){if(gt.code===gt.QUOTA_ERR){if(B>0){ye(At.apply(Y,[T,Ne,R,B-1]));return}Ie(gt)}})})}).catch(Ie)});return d(Q,R),Q}function ln(T,P,R){return At.apply(this,[T,P,R,1])}function ue(T,P){var R=this;T=v(T);var B=new f(function(Y,Q){R.ready().then(function(){var ye=R._dbInfo;ye.db.transaction(function(Ie){bt(Ie,ye,"DELETE FROM "+ye.storeName+" WHERE key = ?",[T],function(){Y()},function(Ne,Ue){Q(Ue)})})}).catch(Q)});return d(B,P),B}function xe(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){var Q=P._dbInfo;Q.db.transaction(function(ye){bt(ye,Q,"DELETE FROM "+Q.storeName,[],function(){B()},function(Ie,Ne){Y(Ne)})})}).catch(Y)});return d(R,T),R}function dt(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){var Q=P._dbInfo;Q.db.transaction(function(ye){bt(ye,Q,"SELECT COUNT(key) as c FROM "+Q.storeName,[],function(Ie,Ne){var Ue=Ne.rows.item(0).c;B(Ue)},function(Ie,Ne){Y(Ne)})})}).catch(Y)});return d(R,T),R}function ot(T,P){var R=this,B=new f(function(Y,Q){R.ready().then(function(){var ye=R._dbInfo;ye.db.transaction(function(Ie){bt(Ie,ye,"SELECT key FROM "+ye.storeName+" WHERE id = ? LIMIT 1",[T+1],function(Ne,Ue){var qe=Ue.rows.length?Ue.rows.item(0).key:null;Y(qe)},function(Ne,Ue){Q(Ue)})})}).catch(Q)});return d(B,P),B}function Et(T){var P=this,R=new f(function(B,Y){P.ready().then(function(){var Q=P._dbInfo;Q.db.transaction(function(ye){bt(ye,Q,"SELECT key FROM "+Q.storeName,[],function(Ie,Ne){for(var Ue=[],qe=0;qe<Ne.rows.length;qe++)Ue.push(Ne.rows.item(qe).key);B(Ue)},function(Ie,Ne){Y(Ne)})})}).catch(Y)});return d(R,T),R}function $(T){return new f(function(P,R){T.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,Q){for(var ye=[],Ie=0;Ie<Q.rows.length;Ie++)ye.push(Q.rows.item(Ie).name);P({db:T,storeNames:ye})},function(Y,Q){R(Q)})},function(B){R(B)})})}function U(T,P){P=w.apply(this,arguments);var R=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||R.name,T.storeName=T.storeName||R.storeName);var B=this,Y;return T.name?Y=new f(function(Q){var ye;T.name===R.name?ye=B._dbInfo.db:ye=openDatabase(T.name,"","",0),T.storeName?Q({db:ye,storeNames:[T.storeName]}):Q($(ye))}).then(function(Q){return new f(function(ye,Ie){Q.db.transaction(function(Ne){function Ue(Pt){return new f(function(Lt,mn){Ne.executeSql("DROP TABLE IF EXISTS "+Pt,[],function(){Lt()},function(fn,Zr){mn(Zr)})})}for(var qe=[],Ye=0,gt=Q.storeNames.length;Ye<gt;Ye++)qe.push(Ue(Q.storeNames[Ye]));f.all(qe).then(function(){ye()}).catch(function(Pt){Ie(Pt)})},function(Ne){Ie(Ne)})})}):Y=f.reject("Invalid arguments"),d(Y,P),Y}var q={_driver:"webSQLStorage",_initStorage:Rt,_support:lt(),iterate:sn,getItem:Tt,setItem:ln,removeItem:ue,clear:xe,length:dt,key:ot,keys:Et,dropInstance:U};function te(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function se(T,P){var R=T.name+"/";return T.storeName!==P.storeName&&(R+=T.storeName+"/"),R}function le(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function Oe(){return!le()||localStorage.length>0}function Pe(T){var P=this,R={};if(T)for(var B in T)R[B]=T[B];return R.keyPrefix=se(T,P._defaultConfig),Oe()?(P._dbInfo=R,R.serializer=Qe,f.resolve()):f.reject()}function ke(T){var P=this,R=P.ready().then(function(){for(var B=P._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var Q=localStorage.key(Y);Q.indexOf(B)===0&&localStorage.removeItem(Q)}});return d(R,T),R}function F(T,P){var R=this;T=v(T);var B=R.ready().then(function(){var Y=R._dbInfo,Q=localStorage.getItem(Y.keyPrefix+T);return Q&&(Q=Y.serializer.deserialize(Q)),Q});return d(B,P),B}function he(T,P){var R=this,B=R.ready().then(function(){for(var Y=R._dbInfo,Q=Y.keyPrefix,ye=Q.length,Ie=localStorage.length,Ne=1,Ue=0;Ue<Ie;Ue++){var qe=localStorage.key(Ue);if(qe.indexOf(Q)===0){var Ye=localStorage.getItem(qe);if(Ye&&(Ye=Y.serializer.deserialize(Ye)),Ye=T(Ye,qe.substring(ye),Ne++),Ye!==void 0)return Ye}}});return d(B,P),B}function Se(T,P){var R=this,B=R.ready().then(function(){var Y=R._dbInfo,Q;try{Q=localStorage.key(T)}catch{Q=null}return Q&&(Q=Q.substring(Y.keyPrefix.length)),Q});return d(B,P),B}function nt(T){var P=this,R=P.ready().then(function(){for(var B=P._dbInfo,Y=localStorage.length,Q=[],ye=0;ye<Y;ye++){var Ie=localStorage.key(ye);Ie.indexOf(B.keyPrefix)===0&&Q.push(Ie.substring(B.keyPrefix.length))}return Q});return d(R,T),R}function mt(T){var P=this,R=P.keys().then(function(B){return B.length});return d(R,T),R}function Nt(T,P){var R=this;T=v(T);var B=R.ready().then(function(){var Y=R._dbInfo;localStorage.removeItem(Y.keyPrefix+T)});return d(B,P),B}function It(T,P,R){var B=this;T=v(T);var Y=B.ready().then(function(){P===void 0&&(P=null);var Q=P;return new f(function(ye,Ie){var Ne=B._dbInfo;Ne.serializer.serialize(P,function(Ue,qe){if(qe)Ie(qe);else try{localStorage.setItem(Ne.keyPrefix+T,Ue),ye(Q)}catch(Ye){(Ye.name==="QuotaExceededError"||Ye.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Ye),Ie(Ye)}})})});return d(Y,R),Y}function Xt(T,P){if(P=w.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var R=this.config();T.name=T.name||R.name,T.storeName=T.storeName||R.storeName}var B=this,Y;return T.name?Y=new f(function(Q){T.storeName?Q(se(T,B._defaultConfig)):Q(T.name+"/")}).then(function(Q){for(var ye=localStorage.length-1;ye>=0;ye--){var Ie=localStorage.key(ye);Ie.indexOf(Q)===0&&localStorage.removeItem(Ie)}}):Y=f.reject("Invalid arguments"),d(Y,P),Y}var On={_driver:"localStorageWrapper",_initStorage:Pe,_support:te(),iterate:he,getItem:F,setItem:It,removeItem:Nt,clear:ke,length:mt,key:Se,keys:nt,dropInstance:Xt},D=function(P,R){return P===R||typeof P=="number"&&typeof R=="number"&&isNaN(P)&&isNaN(R)},ne=function(P,R){for(var B=P.length,Y=0;Y<B;){if(D(P[Y],R))return!0;Y++}return!1},Te=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Ze={},pt={},Dt={INDEXEDDB:Ke,WEBSQL:q,LOCALSTORAGE:On},In=[Dt.INDEXEDDB._driver,Dt.WEBSQL._driver,Dt.LOCALSTORAGE._driver],bn=["dropInstance"],nn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bn),I={description:"",driver:In.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function oe(T,P){T[P]=function(){var R=arguments;return T.ready().then(function(){return T[P].apply(T,R)})}}function Ae(){for(var T=1;T<arguments.length;T++){var P=arguments[T];if(P)for(var R in P)P.hasOwnProperty(R)&&(Te(P[R])?arguments[0][R]=P[R].slice():arguments[0][R]=P[R])}return arguments[0]}var Ve=function(){function T(P){o(this,T);for(var R in Dt)if(Dt.hasOwnProperty(R)){var B=Dt[R],Y=B._driver;this[R]=Y,Ze[Y]||this.defineDriver(B)}this._defaultConfig=Ae({},I),this._config=Ae({},this._defaultConfig,P),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(R){if((typeof R=="undefined"?"undefined":a(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var B in R){if(B==="storeName"&&(R[B]=R[B].replace(/\W/g,"_")),B==="version"&&typeof R[B]!="number")return new Error("Database version must be a number.");this._config[B]=R[B]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},T.prototype.defineDriver=function(R,B,Y){var Q=new f(function(ye,Ie){try{var Ne=R._driver,Ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){Ie(Ue);return}for(var qe=nn.concat("_initStorage"),Ye=0,gt=qe.length;Ye<gt;Ye++){var Pt=qe[Ye],Lt=!ne(bn,Pt);if((Lt||R[Pt])&&typeof R[Pt]!="function"){Ie(Ue);return}}var mn=function(){for(var $c=function(eue){return function(){var tue=new Error("Method "+eue+" is not implemented by the current driver"),_I=f.reject(tue);return d(_I,arguments[arguments.length-1]),_I}},Db=0,Zle=bn.length;Db<Zle;Db++){var Pb=bn[Db];R[Pb]||(R[Pb]=$c(Pb))}};mn();var fn=function($c){Ze[Ne]&&console.info("Redefining LocalForage driver: "+Ne),Ze[Ne]=R,pt[Ne]=$c,ye()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(fn,Ie):fn(!!R._support):fn(!0)}catch(Zr){Ie(Zr)}});return p(Q,B,Y),Q},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(R,B,Y){var Q=Ze[R]?f.resolve(Ze[R]):f.reject(new Error("Driver not found."));return p(Q,B,Y),Q},T.prototype.getSerializer=function(R){var B=f.resolve(Qe);return p(B,R),B},T.prototype.ready=function(R){var B=this,Y=B._driverSet.then(function(){return B._ready===null&&(B._ready=B._initDriver()),B._ready});return p(Y,R,R),Y},T.prototype.setDriver=function(R,B,Y){var Q=this;Te(R)||(R=[R]);var ye=this._getSupportedDrivers(R);function Ie(){Q._config.driver=Q.driver()}function Ne(Ye){return Q._extend(Ye),Ie(),Q._ready=Q._initStorage(Q._config),Q._ready}function Ue(Ye){return function(){var gt=0;function Pt(){for(;gt<Ye.length;){var Lt=Ye[gt];return gt++,Q._dbInfo=null,Q._ready=null,Q.getDriver(Lt).then(Ne).catch(Pt)}Ie();var mn=new Error("No available storage method found.");return Q._driverSet=f.reject(mn),Q._driverSet}return Pt()}}var qe=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=qe.then(function(){var Ye=ye[0];return Q._dbInfo=null,Q._ready=null,Q.getDriver(Ye).then(function(gt){Q._driver=gt._driver,Ie(),Q._wrapLibraryMethodsWithReady(),Q._initDriver=Ue(ye)})}).catch(function(){Ie();var Ye=new Error("No available storage method found.");return Q._driverSet=f.reject(Ye),Q._driverSet}),p(this._driverSet,B,Y),this._driverSet},T.prototype.supports=function(R){return!!pt[R]},T.prototype._extend=function(R){Ae(this,R)},T.prototype._getSupportedDrivers=function(R){for(var B=[],Y=0,Q=R.length;Y<Q;Y++){var ye=R[Y];this.supports(ye)&&B.push(ye)}return B},T.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,B=nn.length;R<B;R++)oe(this,nn[R])},T.prototype.createInstance=function(R){return new T(R)},T}(),ut=new Ve;r.exports=ut},{3:3}]},{},[4])(4)})})(G_);var $r=G_.exports;function jl(e){return jl.result?jl.result:!e||typeof e.getSerializer!="function"?Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!")):(jl.result=e.getSerializer(),jl.result)}function K_(e,t){return t&&e.then(function(n){t(null,n)},function(n){t(n)}),e}function V2(e,t){var n=this,r=n.getItem(e).then(function(i){return{key:e,value:i}});return K_(r,t),r}function Y_(e){var t=this,n=new Promise(function(r,i){for(var a=[],o=0,s=e.length;o<s;o++)a.push(V2.call(t,e[o]));Promise.all(a).then(function(l){for(var u={},c=0,f=l.length;c<f;c++){var d=l[c];u[d.key]=d.value}r(u)}).catch(i)});return n}function G2(){var e=this,t={};return e.iterate(function(n,r){t[r]=n}).then(function(){return t})}function K2(){if(typeof IDBKeyRange!="undefined")return IDBKeyRange;if(typeof webkitIDBKeyRange!="undefined")return webkitIDBKeyRange;if(typeof mozIDBKeyRange!="undefined")return mozIDBKeyRange}var Y2=K2();function Q_(e){if(e=e.slice(),e.length===0)return{};var t=this;function n(i,a){return i<a?-1:i>a?1:0}var r=new Promise(function(i,a){t.ready().then(function(){var o=t._dbInfo,s=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),l=e.sort(n),u=Y2.bound(e[0],e[e.length-1],!1,!1),c=s.openCursor(u),f={},d=0;c.onsuccess=function(){var p=c.result;if(!p){i(f);return}for(var v=p.key;v>l[d];)if(d++,d===l.length){i(f);return}if(v===l[d]){var w=p.value;w===void 0&&(w=null),f[v]=w,p.continue()}else p.continue(l[d])},c.onerror=function(){a(c.error)}}).catch(a)});return r}function X_(e){var t=this,n=new Promise(function(r,i){t.ready().then(function(){return jl(t)}).then(function(a){var o=t._dbInfo;o.db.transaction(function(s){for(var l=new Array(e.length),u=0,c=e.length;u<c;u++)l[u]="?";s.executeSql("SELECT * FROM "+o.storeName+" WHERE (key IN ("+l.join(",")+"))",e,function(f,d){for(var p={},v=d.rows,w=0,A=v.length;w<A;w++){var h=v.item(w),g=h.value;g&&(g=a.deserialize(g)),p[h.key]=g}r(p)},function(f,d){i(d)})})}).catch(i)});return n}function Q2(e,t){var n=this,r;if(!arguments.length||e===null)r=G2.apply(n);else{var i=n.driver();i===n.INDEXEDDB?r=Q_.apply(n,arguments):i===n.WEBSQL?r=X_.apply(n,arguments):r=Y_.apply(n,arguments)}return K_(r,t),r}function J_(e){var t=Object.getPrototypeOf(e);t&&(t.getItems=Q2,t.getItems.indexedDB=function(){return Q_.apply(this,arguments)},t.getItems.websql=function(){return X_.apply(this,arguments)},t.getItems.generic=function(){return Y_.apply(this,arguments)})}J_($r);function sg(e,t){return t&&e.then(function(n){t(null,n)},function(n){t(n)}),e}function Z_(e,t){for(var n=this,r=[],i=0,a=e.length;i<a;i++){var o=e[i];r.push(n.removeItem(o))}var s=Promise.all(r);return sg(s,t),s}function eS(e,t){var n=this,r=n.ready().then(function(){return new Promise(function(i,a){var o=n._dbInfo,s=o.db.transaction(o.storeName,"readwrite"),l=s.objectStore(o.storeName),u;s.oncomplete=function(){i()},s.onabort=s.onerror=function(){u||a(s.error||"Unknown error")};function c(w){var A=w.target||this;u||(u=A.error||A.transaction.error,a(u))}for(var f=0,d=e.length;f<d;f++){var p=e[f];typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p));var v=l.delete(p);v.onerror=c}})});return sg(r,t),r}function X2(e,t,n){return new Promise(function(r,i){e.executeSql(t,n,function(){r()},function(a,o){i(o)})})}function tS(e,t){var n=this,r=n.ready().then(function(){return new Promise(function(i,a){var o=n._dbInfo;o.db.transaction(function(s){for(var l=o.storeName,u=[],c=0,f=e.length;c<f;c++){var d=e[c];typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),u.push(X2(s,"DELETE FROM "+l+" WHERE key = ?",[d]))}Promise.all(u).then(i,a)},function(s){a(s)})})});return sg(r,t),r}function J2(){var e=this,t=e.driver();return t===e.INDEXEDDB?eS.apply(e,arguments):t===e.WEBSQL?tS.apply(e,arguments):Z_.apply(e,arguments)}function nS(e){var t=Object.getPrototypeOf(e);t&&(t.removeItems=J2,t.removeItems.indexedDB=function(){return eS.apply(this,arguments)},t.removeItems.websql=function(){return tS.apply(this,arguments)},t.removeItems.generic=function(){return Z_.apply(this,arguments)})}if(nS($r),J_($r),nS($r),$r.supports($r.INDEXEDDB)){$r.config({driver:$r.INDEXEDDB});let e=!1;$r.ready().then(()=>{e=!0;const r=$r.driver();if(r!==$r.INDEXEDDB)throw new Error(`localforage is not using IndexedDB (driver: ${r})`)}).catch(r=>{throw e=!0,r});const n=10;setTimeout(()=>{if(!e)throw new Error(`localforage ready promise has not settled after ${n} seconds`)},n*1e3)}else throw new Error("Browser does not support IndexedDB (according to localforage)");const xr=$r;class Ml extends Error{constructor(t,n=""){super(`${t.status} for ${t.url}${n&&` Reason: ${n}`}`),this.name="HttpError",this.response=t,this.reason=n}async getReasonFromJson(){try{const t=await this.response.json();this.reason=t.reason,this.reason&&(this.message+=` Reason: ${this.reason}`)}catch{}}}var Z2=(e,t)=>new Promise(n=>{const r=()=>{for(const i of t)e.removeEventListener(i,r);n()};for(const i of t)e.addEventListener(i,r,{once:!0})});function ez(){return Z2(document.body,["click","keydown","mousemove","scroll"])}function tz(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var rS=tz;function nz(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var rz=nz,iz=rz,az=iz(),iS=az;function oz(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var sz=oz,lo={exports:{}};function lz(){return!1}var uz=lz;(function(e,t){var n=ti,r=uz,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(lo,lo.exports);var cz=Qo,fz=dp,dz=ji,hz="[object Arguments]",pz="[object Array]",gz="[object Boolean]",mz="[object Date]",vz="[object Error]",yz="[object Function]",wz="[object Map]",bz="[object Number]",_z="[object Object]",Sz="[object RegExp]",Ez="[object Set]",xz="[object String]",kz="[object WeakMap]",Tz="[object ArrayBuffer]",Az="[object DataView]",Cz="[object Float32Array]",Rz="[object Float64Array]",Nz="[object Int8Array]",Oz="[object Int16Array]",Iz="[object Int32Array]",Dz="[object Uint8Array]",Pz="[object Uint8ClampedArray]",Lz="[object Uint16Array]",$z="[object Uint32Array]",qt={};qt[Cz]=qt[Rz]=qt[Nz]=qt[Oz]=qt[Iz]=qt[Dz]=qt[Pz]=qt[Lz]=qt[$z]=!0,qt[hz]=qt[pz]=qt[Tz]=qt[gz]=qt[Az]=qt[mz]=qt[vz]=qt[yz]=qt[wz]=qt[bz]=qt[_z]=qt[Sz]=qt[Ez]=qt[xz]=qt[kz]=!1;function Fz(e){return dz(e)&&fz(e.length)&&!!qt[cz(e)]}var jz=Fz;function Mz(e){return function(t){return e(t)}}var lg=Mz,zl={exports:{}};(function(e,t){var n=Zb,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(zl,zl.exports);var zz=jz,Bz=lg,aS=zl.exports,oS=aS&&aS.isTypedArray,Uz=oS?Bz(oS):zz,Cf=Uz,Hz=sz,qz=Al,Wz=Fn,Vz=lo.exports,Gz=Tl,Kz=Cf,Yz=Object.prototype,Qz=Yz.hasOwnProperty;function Xz(e,t){var n=Wz(e),r=!n&&qz(e),i=!n&&!r&&Vz(e),a=!n&&!r&&!i&&Kz(e),o=n||r||i||a,s=o?Hz(e.length,String):[],l=s.length;for(var u in e)(t||Qz.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Gz(u,l)))&&s.push(u);return s}var sS=Xz,Jz=Object.prototype;function Zz(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Jz;return e===n}var Bl=Zz;function eB(e,t){return function(n){return e(t(n))}}var lS=eB,tB=lS,nB=tB(Object.keys,Object),rB=nB,iB=Bl,aB=rB,oB=Object.prototype,sB=oB.hasOwnProperty;function lB(e){if(!iB(e))return aB(e);var t=[];for(var n in Object(e))sB.call(e,n)&&n!="constructor"&&t.push(n);return t}var uS=lB,uB=sp,cB=dp;function fB(e){return e!=null&&cB(e.length)&&!uB(e)}var da=fB,dB=sS,hB=uS,pB=da;function gB(e){return pB(e)?dB(e):hB(e)}var uo=gB,mB=iS,vB=uo;function yB(e,t){return e&&mB(e,t,vB)}var wB=yB,bB=da;function _B(e,t){return function(n,r){if(n==null)return n;if(!bB(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var SB=_B,EB=wB,xB=SB,kB=xB(EB),ug=kB,TB=ug;function AB(e,t){var n=[];return TB(e,function(r,i,a){t(r,i,a)&&n.push(r)}),n}var CB=AB,RB=Vc;function NB(){this.__data__=new RB,this.size=0}var OB=NB;function IB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var DB=IB;function PB(e){return this.__data__.get(e)}var LB=PB;function $B(e){return this.__data__.has(e)}var FB=$B,jB=Vc,MB=up,zB=cp,BB=200;function UB(e,t){var n=this.__data__;if(n instanceof jB){var r=n.__data__;if(!MB||r.length<BB-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zB(r)}return n.set(e,t),this.size=n.size,this}var HB=UB,qB=Vc,WB=OB,VB=DB,GB=LB,KB=FB,YB=HB;function hs(e){var t=this.__data__=new qB(e);this.size=t.size}hs.prototype.clear=WB,hs.prototype.delete=VB,hs.prototype.get=GB,hs.prototype.has=KB,hs.prototype.set=YB;var Rf=hs,QB="__lodash_hash_undefined__";function XB(e){return this.__data__.set(e,QB),this}var JB=XB;function ZB(e){return this.__data__.has(e)}var eU=ZB,tU=cp,nU=JB,rU=eU;function Nf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new tU;++t<n;)this.add(e[t])}Nf.prototype.add=Nf.prototype.push=nU,Nf.prototype.has=rU;var cS=Nf;function iU(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var aU=iU;function oU(e,t){return e.has(t)}var fS=oU,sU=cS,lU=aU,uU=fS,cU=1,fU=2;function dU(e,t,n,r,i,a){var o=n&cU,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=n&fU?new sU:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var v=e[f],w=t[f];if(r)var A=o?r(w,v,f,t,e,a):r(v,w,f,e,t,a);if(A!==void 0){if(A)continue;d=!1;break}if(p){if(!lU(t,function(h,g){if(!uU(p,g)&&(v===h||i(v,h,n,r,a)))return p.push(g)})){d=!1;break}}else if(!(v===w||i(v,w,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var dS=dU,hU=ti,pU=hU.Uint8Array,hS=pU;function gU(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var mU=gU;function vU(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var cg=vU,pS=Yo,gS=hS,yU=xl,wU=dS,bU=mU,_U=cg,SU=1,EU=2,xU="[object Boolean]",kU="[object Date]",TU="[object Error]",AU="[object Map]",CU="[object Number]",RU="[object RegExp]",NU="[object Set]",OU="[object String]",IU="[object Symbol]",DU="[object ArrayBuffer]",PU="[object DataView]",mS=pS?pS.prototype:void 0,fg=mS?mS.valueOf:void 0;function LU(e,t,n,r,i,a,o){switch(n){case PU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case DU:return!(e.byteLength!=t.byteLength||!a(new gS(e),new gS(t)));case xU:case kU:case CU:return yU(+e,+t);case TU:return e.name==t.name&&e.message==t.message;case RU:case OU:return e==t+"";case AU:var s=bU;case NU:var l=r&SU;if(s||(s=_U),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=EU,o.set(e,t);var c=wU(s(e),s(t),r,i,a,o);return o.delete(e),c;case IU:if(fg)return fg.call(e)==fg.call(t)}return!1}var $U=LU,FU=hp,jU=Fn;function MU(e,t,n){var r=t(e);return jU(e)?r:FU(r,n(e))}var vS=MU;function zU(){return[]}var yS=zU,BU=rS,UU=yS,HU=Object.prototype,qU=HU.propertyIsEnumerable,wS=Object.getOwnPropertySymbols,WU=wS?function(e){return e==null?[]:(e=Object(e),BU(wS(e),function(t){return qU.call(e,t)}))}:UU,dg=WU,VU=vS,GU=dg,KU=uo;function YU(e){return VU(e,KU,GU)}var bS=YU,_S=bS,QU=1,XU=Object.prototype,JU=XU.hasOwnProperty;function ZU(e,t,n,r,i,a){var o=n&QU,s=_S(e),l=s.length,u=_S(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:JU.call(t,d)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var w=!0;a.set(e,t),a.set(t,e);for(var A=o;++f<l;){d=s[f];var h=e[d],g=t[d];if(r)var b=o?r(g,h,d,t,e,a):r(h,g,d,e,t,a);if(!(b===void 0?h===g||i(h,g,n,r,a):b)){w=!1;break}A||(A=d=="constructor")}if(w&&!A){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof y=="function"&&y instanceof y)&&(w=!1)}return a.delete(e),a.delete(t),w}var e3=ZU,t3=Ya,n3=ti,r3=t3(n3,"DataView"),i3=r3,a3=Ya,o3=ti,s3=a3(o3,"Promise"),l3=s3,u3=Ya,c3=ti,f3=u3(c3,"Set"),SS=f3,d3=Ya,h3=ti,p3=d3(h3,"WeakMap"),g3=p3,hg=i3,pg=up,gg=l3,mg=SS,vg=g3,ES=Qo,ps=a0,xS="[object Map]",m3="[object Object]",kS="[object Promise]",TS="[object Set]",AS="[object WeakMap]",CS="[object DataView]",v3=ps(hg),y3=ps(pg),w3=ps(gg),b3=ps(mg),_3=ps(vg),co=ES;(hg&&co(new hg(new ArrayBuffer(1)))!=CS||pg&&co(new pg)!=xS||gg&&co(gg.resolve())!=kS||mg&&co(new mg)!=TS||vg&&co(new vg)!=AS)&&(co=function(e){var t=ES(e),n=t==m3?e.constructor:void 0,r=n?ps(n):"";if(r)switch(r){case v3:return CS;case y3:return xS;case w3:return kS;case b3:return TS;case _3:return AS}return t});var Ul=co,yg=Rf,S3=dS,E3=$U,x3=e3,RS=Ul,NS=Fn,OS=lo.exports,k3=Cf,T3=1,IS="[object Arguments]",DS="[object Array]",Of="[object Object]",A3=Object.prototype,PS=A3.hasOwnProperty;function C3(e,t,n,r,i,a){var o=NS(e),s=NS(t),l=o?DS:RS(e),u=s?DS:RS(t);l=l==IS?Of:l,u=u==IS?Of:u;var c=l==Of,f=u==Of,d=l==u;if(d&&OS(e)){if(!OS(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new yg),o||k3(e)?S3(e,t,n,r,i,a):E3(e,t,l,n,r,i,a);if(!(n&T3)){var p=c&&PS.call(e,"__wrapped__"),v=f&&PS.call(t,"__wrapped__");if(p||v){var w=p?e.value():e,A=v?t.value():t;return a||(a=new yg),i(w,A,n,r,a)}}return d?(a||(a=new yg),x3(e,t,n,r,i,a)):!1}var R3=C3,N3=R3,LS=ji;function $S(e,t,n,r,i){return e===t?!0:e==null||t==null||!LS(e)&&!LS(t)?e!==e&&t!==t:N3(e,t,n,r,$S,i)}var wg=$S,O3=Rf,I3=wg,D3=1,P3=2;function L3(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new O3;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?I3(c,u,D3|P3,r,f):d))return!1}}return!0}var $3=L3,F3=sr;function j3(e){return e===e&&!F3(e)}var FS=j3,M3=FS,z3=uo;function B3(e){for(var t=z3(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,M3(i)]}return t}var U3=B3;function H3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var jS=H3,q3=$3,W3=U3,V3=jS;function G3(e){var t=W3(e);return t.length==1&&t[0][2]?V3(t[0][0],t[0][1]):function(n){return n===e||q3(n,e,t)}}var K3=G3,Y3=Yc;function Q3(e,t,n){var r=e==null?void 0:Y3(e,t);return r===void 0?n:r}var Hl=Q3,X3=wg,J3=Hl,Z3=y0,eH=op,tH=FS,nH=jS,rH=ts,iH=1,aH=2;function oH(e,t){return eH(e)&&tH(t)?nH(rH(e),t):function(n){var r=J3(n,e);return r===void 0&&r===t?Z3(n,e):X3(t,r,iH|aH)}}var sH=oH;function lH(e){return function(t){return t==null?void 0:t[e]}}var uH=lH,cH=Yc;function fH(e){return function(t){return cH(t,e)}}var dH=fH,hH=uH,pH=dH,gH=op,mH=ts;function vH(e){return gH(e)?hH(mH(e)):pH(e)}var yH=vH,wH=K3,bH=sH,_H=Cl,SH=Fn,EH=yH;function xH(e){return typeof e=="function"?e:e==null?_H:typeof e=="object"?SH(e)?bH(e[0],e[1]):wH(e):EH(e)}var ql=xH,kH=rS,TH=CB,AH=ql,CH=Fn;function RH(e,t){var n=CH(e)?kH:TH;return n(e,AH(t))}var bg=RH,NH=ug,OH=da;function IH(e,t){var n=-1,r=OH(e)?Array(e.length):[];return NH(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var DH=IH,PH=Kc,LH=ql,$H=DH,FH=Fn;function jH(e,t){var n=FH(e)?PH:$H;return n(e,LH(t))}var MH=jH;function zH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var BH=zH,UH=Xc,HH=Qc;function qH(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?HH(n,s,l):UH(n,s,l)}return n}var fo=qH,WH=fo,VH=uo;function GH(e,t){return e&&WH(t,VH(t),e)}var KH=GH;function YH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var QH=YH,XH=sr,JH=Bl,ZH=QH,e4=Object.prototype,t4=e4.hasOwnProperty;function n4(e){if(!XH(e))return ZH(e);var t=JH(e),n=[];for(var r in e)r=="constructor"&&(t||!t4.call(e,r))||n.push(r);return n}var r4=n4,i4=sS,a4=r4,o4=da;function s4(e){return o4(e)?i4(e,!0):a4(e)}var Wl=s4,l4=fo,u4=Wl;function c4(e,t){return e&&l4(t,u4(t),e)}var f4=c4,If={exports:{}};(function(e,t){var n=ti,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l})(If,If.exports);function d4(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _g=d4,h4=fo,p4=dg;function g4(e,t){return h4(e,p4(e),t)}var m4=g4,v4=lS,y4=v4(Object.getPrototypeOf,Object),Sg=y4,w4=hp,b4=Sg,_4=dg,S4=yS,E4=Object.getOwnPropertySymbols,x4=E4?function(e){for(var t=[];e;)w4(t,_4(e)),e=b4(e);return t}:S4,MS=x4,k4=fo,T4=MS;function A4(e,t){return k4(e,T4(e),t)}var C4=A4,R4=vS,N4=MS,O4=Wl;function I4(e){return R4(e,O4,N4)}var zS=I4,D4=Object.prototype,P4=D4.hasOwnProperty;function L4(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&P4.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var $4=L4,BS=hS;function F4(e){var t=new e.constructor(e.byteLength);return new BS(t).set(new BS(e)),t}var Eg=F4,j4=Eg;function M4(e,t){var n=t?j4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var z4=M4,B4=/\w*$/;function U4(e){var t=new e.constructor(e.source,B4.exec(e));return t.lastIndex=e.lastIndex,t}var H4=U4,US=Yo,HS=US?US.prototype:void 0,qS=HS?HS.valueOf:void 0;function q4(e){return qS?Object(qS.call(e)):{}}var W4=q4,V4=Eg;function G4(e,t){var n=t?V4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var WS=G4,K4=Eg,Y4=z4,Q4=H4,X4=W4,J4=WS,Z4="[object Boolean]",e5="[object Date]",t5="[object Map]",n5="[object Number]",r5="[object RegExp]",i5="[object Set]",a5="[object String]",o5="[object Symbol]",s5="[object ArrayBuffer]",l5="[object DataView]",u5="[object Float32Array]",c5="[object Float64Array]",f5="[object Int8Array]",d5="[object Int16Array]",h5="[object Int32Array]",p5="[object Uint8Array]",g5="[object Uint8ClampedArray]",m5="[object Uint16Array]",v5="[object Uint32Array]";function y5(e,t,n){var r=e.constructor;switch(t){case s5:return K4(e);case Z4:case e5:return new r(+e);case l5:return Y4(e,n);case u5:case c5:case f5:case d5:case h5:case p5:case g5:case m5:case v5:return J4(e,n);case t5:return new r;case n5:case a5:return new r(e);case r5:return Q4(e);case i5:return new r;case o5:return X4(e)}}var w5=y5,b5=sr,VS=Object.create,_5=function(){function e(){}return function(t){if(!b5(t))return{};if(VS)return VS(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),S5=_5,E5=S5,x5=Sg,k5=Bl;function T5(e){return typeof e.constructor=="function"&&!k5(e)?E5(x5(e)):{}}var GS=T5,A5=Ul,C5=ji,R5="[object Map]";function N5(e){return C5(e)&&A5(e)==R5}var O5=N5,I5=O5,D5=lg,KS=zl.exports,YS=KS&&KS.isMap,P5=YS?D5(YS):I5,L5=P5,$5=Ul,F5=ji,j5="[object Set]";function M5(e){return F5(e)&&$5(e)==j5}var z5=M5,B5=z5,U5=lg,QS=zl.exports,XS=QS&&QS.isSet,H5=XS?U5(XS):B5,q5=H5,W5=Rf,V5=BH,G5=Xc,K5=KH,Y5=f4,Q5=If.exports,X5=_g,J5=m4,Z5=C4,eq=bS,tq=zS,nq=Ul,rq=$4,iq=w5,aq=GS,oq=Fn,sq=lo.exports,lq=L5,uq=sr,cq=q5,fq=uo,dq=Wl,hq=1,pq=2,gq=4,JS="[object Arguments]",mq="[object Array]",vq="[object Boolean]",yq="[object Date]",wq="[object Error]",ZS="[object Function]",bq="[object GeneratorFunction]",_q="[object Map]",Sq="[object Number]",e1="[object Object]",Eq="[object RegExp]",xq="[object Set]",kq="[object String]",Tq="[object Symbol]",Aq="[object WeakMap]",Cq="[object ArrayBuffer]",Rq="[object DataView]",Nq="[object Float32Array]",Oq="[object Float64Array]",Iq="[object Int8Array]",Dq="[object Int16Array]",Pq="[object Int32Array]",Lq="[object Uint8Array]",$q="[object Uint8ClampedArray]",Fq="[object Uint16Array]",jq="[object Uint32Array]",Ut={};Ut[JS]=Ut[mq]=Ut[Cq]=Ut[Rq]=Ut[vq]=Ut[yq]=Ut[Nq]=Ut[Oq]=Ut[Iq]=Ut[Dq]=Ut[Pq]=Ut[_q]=Ut[Sq]=Ut[e1]=Ut[Eq]=Ut[xq]=Ut[kq]=Ut[Tq]=Ut[Lq]=Ut[$q]=Ut[Fq]=Ut[jq]=!0,Ut[wq]=Ut[ZS]=Ut[Aq]=!1;function Df(e,t,n,r,i,a){var o,s=t&hq,l=t&pq,u=t&gq;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!uq(e))return e;var c=oq(e);if(c){if(o=rq(e),!s)return X5(e,o)}else{var f=nq(e),d=f==ZS||f==bq;if(sq(e))return Q5(e,s);if(f==e1||f==JS||d&&!i){if(o=l||d?{}:aq(e),!s)return l?Z5(e,Y5(o,e)):J5(e,K5(o,e))}else{if(!Ut[f])return i?e:{};o=iq(e,f,s)}}a||(a=new W5);var p=a.get(e);if(p)return p;a.set(e,o),cq(e)?e.forEach(function(A){o.add(Df(A,t,n,A,e,a))}):lq(e)&&e.forEach(function(A,h){o.set(h,Df(A,t,n,h,e,a))});var v=u?l?tq:eq:l?dq:fq,w=c?void 0:v(e);return V5(w||e,function(A,h){w&&(h=A,A=e[h]),G5(o,h,Df(A,t,n,h,e,a))}),o}var Mq=Df;function zq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Bq=zq;function Uq(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var Pf=Uq,Hq=Yc,qq=Pf;function Wq(e,t){return t.length<2?e:Hq(e,qq(t,0,-1))}var Vq=Wq,Gq=es,Kq=Bq,Yq=Vq,Qq=ts;function Xq(e,t){return t=Gq(t,e),e=Yq(e,t),e==null||delete e[Qq(Kq(t))]}var t1=Xq,Jq=Qo,Zq=Sg,e6=ji,t6="[object Object]",n6=Function.prototype,r6=Object.prototype,n1=n6.toString,i6=r6.hasOwnProperty,a6=n1.call(Object);function o6(e){if(!e6(e)||Jq(e)!=t6)return!1;var t=Zq(e);if(t===null)return!0;var n=i6.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&n1.call(n)==a6}var r1=o6,s6=r1;function l6(e){return s6(e)?void 0:e}var u6=l6,c6=Kc,f6=Mq,d6=t1,h6=es,p6=fo,g6=u6,m6=T0,v6=zS,y6=1,w6=2,b6=4,_6=m6(function(e,t){var n={};if(e==null)return n;var r=!1;t=c6(t,function(a){return a=h6(a,e),r||(r=a.length>1),a}),p6(e,v6(e),n),r&&(n=f6(n,y6|w6|b6,g6));for(var i=t.length;i--;)d6(n,t[i]);return n}),Vl=_6;/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var S6=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E6=Object.prototype.hasOwnProperty;function xg(e,t){return E6.call(e,t)}function kg(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)xg(e,i)&&r.push(i);return r}function xn(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Tg(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function ho(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i1(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ag(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Ag(e[t]))return!0}else if(typeof e=="object"){for(var r=kg(e),i=r.length,a=0;a<i;a++)if(Ag(e[r[a]]))return!0}}return!1}function a1(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i!="undefined"&&n.push(r+": "+i)}return n.join(`
`)}var o1=function(e){S6(t,e);function t(n,r,i,a,o){var s=this.constructor,l=e.call(this,a1(n,{name:r,index:i,operation:a,tree:o}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=o,Object.setPrototypeOf(l,s.prototype),l.message=a1(n,{name:r,index:i,operation:a,tree:o}),l}return t}(Error),un=o1,x6=xn,gs={add:function(e,t,n){return e&&(e[t]=this.value),{newDocument:n}},remove:function(e,t,n){if(!e)return{newDocument:n,removed:void 0};var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){if(!e)return{newDocument:n,removed:void 0};var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Lf(n,this.path);r&&(r=xn(r));var i=po(n,{op:"remove",path:this.from}).removed;return po(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Lf(n,this.from);return po(n,{op:"add",path:this.path,value:xn(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Gl(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},k6={add:function(e,t,n){return Tg(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:gs.move,copy:gs.copy,test:gs.test,_get:gs._get};function Lf(e,t){if(t=="")return e;var n={op:"_get",path:t};return po(e,n),n.value}function po(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):$f(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=Lf(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Gl(e,t.value),o.test===!1)throw new un("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new un("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{r||(e=xn(e));var s=t.path||"",l=s.split("/"),u=e,c=1,f=l.length,d=void 0,p=void 0,v=void 0;for(typeof n=="function"?v=n:v=$f;;){if(p=l[c],p&&p.indexOf("~")!=-1&&(p=i1(p)),i&&(p=="__proto__"||p=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[p]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&v(t,0,e,d)),c++,Array.isArray(u)){if(p==="-")p=u.length;else{if(n&&!Tg(p))throw new un("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);Tg(p)&&(p=~~p)}if(c>=f){if((t.op==="remove"||t.op==="replace")&&t.testValue!==void 0){var w=u.indexOf(t.testValue);w!==-1&&(p=w)}(t.op==="add"||t.op==="replace")&&p>u.length&&(p=u.length);var o=k6[t.op].call(t,u,p,e);if(o.test===!1)throw new un("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(c>=f){var o=gs[t.op].call(t,u,p,e);if(o.test===!1)throw new un("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(u=u[p],n&&c<f&&(!u||typeof u!="object"))throw new un("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function go(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new un("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xn(e));for(var a=new Array(t.length),o=0,s=t.length;o<s;o++)a[o]=po(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function T6(e,t,n){var r=po(e,t);if(r.test===!1)throw new un("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function $f(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new un("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(gs[e.op]){if(typeof e.path!="string")throw new un("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new un('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new un("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new un("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Ag(e.value))throw new un("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new un("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new un("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=s1([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new un("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new un("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function s1(e,t,n){try{if(!Array.isArray(e))throw new un("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)go(xn(t),xn(e),n||!0);else{n=n||$f;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof un)return i;throw i}}function Gl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,o;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!Gl(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!Gl(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var A6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",JsonPatchError:un,deepClone:x6,getValueByPointer:Lf,applyOperation:po,applyPatch:go,applyReducer:T6,validator:$f,validate:s1,_areEquals:Gl});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Cg=new WeakMap,C6=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),R6=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function N6(e){return Cg.get(e)}function O6(e,t){return e.observers.get(t)}function I6(e,t){e.observers.delete(t.callback)}function D6(e,t){t.unobserve()}function P6(e,t){var n=[],r,i=N6(e);if(!i)i=new C6(e),Cg.set(e,i);else{var a=O6(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=xn(e),t){r.callback=t,r.next=null;var o=function(){Rg(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window!="undefined"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){Rg(r),clearTimeout(r.next),I6(i,r),typeof window!="undefined"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new R6(t,r)),r}function Rg(e,t){t===void 0&&(t=!1);var n=Cg.get(e.object);Og(n.value,e.object,e.patches,"",t),e.patches.length&&go(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Ng(e,t,n,r){Array.isArray(e)&&Array.isArray(t)&&(n[n.length-1].testValue=xn(r))}function Og(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=kg(t),o=kg(e),s=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(xg(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?Og(c,f,n,r+"/"+ho(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+ho(u),value:xn(c)}),n.push({op:"replace",path:r+"/"+ho(u),value:xn(f)}),Ng(e,t,n,c))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+ho(u),value:xn(c)}),n.push({op:"remove",path:r+"/"+ho(u)}),s=!0,Ng(e,t,n,c)):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),Ng(e,t,n,c))}if(!(!s&&a.length==o.length))for(var l=0;l<a.length;l++){var u=a[l];!xg(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+ho(u),value:xn(t[u])})}}}function ms(e,t,n){n===void 0&&(n=!1);var r=[];return Og(e,t,r,"",n),r}var L6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",unobserve:D6,observe:P6,generate:Rg,compare:ms});Object.assign({},A6,L6,{JsonPatchError:o1,deepClone:xn,escapePathComponent:ho,unescapePathComponent:i1});function Ff(e){var t=new Error(e);return t.source="ulid",t}var Ig="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Kl=Ig.length,l1=Math.pow(2,48)-1,$6=10,F6=16;function j6(e){var t=Math.floor(e()*Kl);return t===Kl&&(t=Kl-1),Ig.charAt(t)}function M6(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>l1)throw Ff("cannot encode time greater than "+l1);if(e<0)throw Ff("time must be positive");if(Number.isInteger(e)===!1)throw Ff("time must be an integer");for(var n=void 0,r="";t>0;t--)n=e%Kl,r=Ig.charAt(n)+r,e=(e-n)/Kl;return r}function z6(e,t){for(var n="";e>0;e--)n=j6(t)+n;return n}function B6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=arguments[1];t||(t=typeof window!="undefined"?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw Ff("secure crypto unusable, insecure Math.random not allowed")}function U6(e){return e||(e=B6()),function(n){return isNaN(n)&&(n=Date.now()),M6(n,$6)+z6(F6,e)}}var Si=U6(),Dg={};const u1="[a-fA-F\\d:]",ha=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${u1})|(?<=${u1})(?=\\s|$))`:"",oi="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",hn="[a-fA-F\\d]{1,4}",jf=`
(?:
(?:${hn}:){7}(?:${hn}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${hn}:){6}(?:${oi}|:${hn}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${hn}:){5}(?::${oi}|(?::${hn}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${hn}:){4}(?:(?::${hn}){0,1}:${oi}|(?::${hn}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${hn}:){3}(?:(?::${hn}){0,2}:${oi}|(?::${hn}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${hn}:){2}(?:(?::${hn}){0,3}:${oi}|(?::${hn}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${hn}:){1}(?:(?::${hn}){0,4}:${oi}|(?::${hn}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${hn}){0,5}:${oi}|(?::${hn}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),H6=new RegExp(`(?:^${oi}$)|(?:^${jf}$)`),q6=new RegExp(`^${oi}$`),W6=new RegExp(`^${jf}$`),Pg=e=>e&&e.exact?H6:new RegExp(`(?:${ha(e)}${oi}${ha(e)})|(?:${ha(e)}${jf}${ha(e)})`,"g");Pg.v4=e=>e&&e.exact?q6:new RegExp(`${ha(e)}${oi}${ha(e)}`,"g"),Pg.v6=e=>e&&e.exact?W6:new RegExp(`${ha(e)}${jf}${ha(e)}`,"g");var V6=Pg;const Lg=V6,vs=e=>Lg({exact:!0}).test(e);vs.v4=e=>Lg.v4({exact:!0}).test(e),vs.v6=e=>Lg.v6({exact:!0}).test(e),vs.version=e=>vs(e)?vs.v4(e)?4:6:void 0;var G6=vs;const K6=G6;class c1 extends Error{constructor(){super("Request was cancelled"),this.name="CancelError"}get isCanceled(){return!0}}const f1={timeout:5e3},Y6={v4:["https://ipv4.icanhazip.com/","https://api.ipify.org/"],v6:["https://ipv6.icanhazip.com/","https://api6.ipify.org/"]},Q6=(e,t,n)=>{const r=new XMLHttpRequest;let i;const a=new Promise((o,s)=>{i=s,r.addEventListener("error",s,{once:!0}),r.addEventListener("timeout",s,{once:!0}),r.addEventListener("load",()=>{const l=r.responseText.trim();if(!l||!K6[n](l)){s();return}o(l)},{once:!0}),r.open("GET",e),r.timeout=t.timeout,r.send()});return a.cancel=()=>{r.abort(),i(new c1)},a},d1=(e,t)=>{let n;const r=async function(){const i=[].concat.apply(Y6[e],t.fallbackUrls||[]);for(const a of i)try{return n=Q6(a,t,e),await n}catch(o){if(o instanceof c1)throw o}throw new Error("Couldn't find your IP")}();return r.cancel=()=>{n.cancel()},r};Dg.v4=e=>d1("v4",{...f1,...e}),Dg.v6=e=>d1("v6",{...f1,...e});const X6=Dg;var J6=async e=>{if(e={timeout:5e3,ipVersion:4,...e},navigator&&!navigator.onLine)return!1;const t=e.ipVersion===4?"v4":"v6";try{return await X6[t](e),!0}catch{return!1}},Z6=Cl,eW=E0,tW=k0;function nW(e,t){return tW(eW(e,t,Z6),e+"")}var rW=nW,iW=xl,aW=da,oW=Tl,sW=sr;function lW(e,t,n){if(!sW(n))return!1;var r=typeof t;return(r=="number"?aW(n)&&oW(t,n.length):r=="string"&&t in n)?iW(n[t],e):!1}var $g=lW,uW=rW,cW=$g;function fW(e){return uW(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&cW(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var h1=fW,dW=Xc,hW=fo,pW=h1,gW=da,mW=Bl,vW=uo,yW=Object.prototype,wW=yW.hasOwnProperty,bW=pW(function(e,t){if(mW(t)||gW(t)){hW(t,vW(t),e);return}for(var n in t)wW.call(t,n)&&dW(e,n,t[n])}),_W=bW,SW=ti,EW=function(){return SW.Date.now()},xW=EW,kW=/\s/;function TW(e){for(var t=e.length;t--&&kW.test(e.charAt(t)););return t}var AW=TW,CW=AW,RW=/^\s+/;function NW(e){return e&&e.slice(0,CW(e)+1).replace(RW,"")}var OW=NW,IW=OW,p1=sr,DW=Hc,g1=0/0,PW=/^[-+]0x[0-9a-f]+$/i,LW=/^0b[01]+$/i,$W=/^0o[0-7]+$/i,FW=parseInt;function jW(e){if(typeof e=="number")return e;if(DW(e))return g1;if(p1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=p1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=IW(e);var n=LW.test(e);return n||$W.test(e)?FW(e.slice(2),n?2:8):PW.test(e)?g1:+e}var m1=jW,MW=sr,Fg=xW,v1=m1,zW="Expected a function",BW=Math.max,UW=Math.min;function HW(e,t,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(zW);t=v1(t)||0,MW(n)&&(c=!!n.leading,f="maxWait"in n,a=f?BW(v1(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d);function p(_){var x=r,S=i;return r=i=void 0,u=_,o=e.apply(S,x),o}function v(_){return u=_,s=setTimeout(h,t),c?p(_):o}function w(_){var x=_-l,S=_-u,M=t-x;return f?UW(M,a-S):M}function A(_){var x=_-l,S=_-u;return l===void 0||x>=t||x<0||f&&S>=a}function h(){var _=Fg();if(A(_))return g(_);s=setTimeout(h,w(_))}function g(_){return s=void 0,d&&r?p(_):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function m(){return s===void 0?o:g(Fg())}function y(){var _=Fg(),x=A(_);if(r=arguments,i=this,l=_,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(h,t),p(l)}return s===void 0&&(s=setTimeout(h,t)),o}return y.cancel=b,y.flush=m,y}var Mf=HW,qW=m1,y1=1/0,WW=17976931348623157e292;function VW(e){if(!e)return e===0?e:0;if(e=qW(e),e===y1||e===-y1){var t=e<0?-1:1;return t*WW}return e===e?e:0}var GW=VW,KW=GW;function YW(e){var t=KW(e),n=t%1;return t===t?n?t-n:t:0}var zf=YW,QW=Pf,XW=zf;function JW(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:XW(t),QW(e,t<0?0:t,r)):[]}var ZW=JW,e8=wg;function t8(e,t){return e8(e,t)}var ys=t8,n8=Qc,r8=xl;function i8(e,t,n){(n!==void 0&&!r8(e[t],n)||n===void 0&&!(t in e))&&n8(e,t,n)}var w1=i8,a8=da,o8=ji;function s8(e){return o8(e)&&a8(e)}var l8=s8;function u8(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var b1=u8,c8=fo,f8=Wl;function d8(e){return c8(e,f8(e))}var h8=d8,_1=w1,p8=If.exports,g8=WS,m8=_g,v8=GS,S1=Al,E1=Fn,y8=l8,w8=lo.exports,b8=sp,_8=sr,S8=r1,E8=Cf,x1=b1,x8=h8;function k8(e,t,n,r,i,a,o){var s=x1(e,n),l=x1(t,n),u=o.get(l);if(u){_1(e,n,u);return}var c=a?a(s,l,n+"",e,t,o):void 0,f=c===void 0;if(f){var d=E1(l),p=!d&&w8(l),v=!d&&!p&&E8(l);c=l,d||p||v?E1(s)?c=s:y8(s)?c=m8(s):p?(f=!1,c=p8(l,!0)):v?(f=!1,c=g8(l,!0)):c=[]:S8(l)||S1(l)?(c=s,S1(s)?c=x8(s):(!_8(s)||b8(s))&&(c=v8(l))):f=!1}f&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),_1(e,n,c)}var T8=k8,A8=Rf,C8=w1,R8=iS,N8=T8,O8=sr,I8=Wl,D8=b1;function k1(e,t,n,r,i){e!==t&&R8(t,function(a,o){if(i||(i=new A8),O8(a))N8(e,t,o,n,k1,r,i);else{var s=r?r(D8(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),C8(e,o,s)}},I8)}var P8=k1,L8=P8,$8=h1,F8=$8(function(e,t,n){L8(e,t,n)}),T1=F8,j8=t1,M8=Tl,z8=Array.prototype,B8=z8.splice;function U8(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;M8(i)?B8.call(e,i,1):j8(e,i)}}return e}var H8=U8,q8=ql,W8=H8;function V8(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;for(t=q8(t);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return W8(e,i),n}var A1=V8;function G8(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var C1=G8,K8=Math.floor,Y8=Math.random;function Q8(e,t){return e+K8(Y8()*(t-e+1))}var X8=Q8,J8=X8;function Z8(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var a=J8(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var R1=Z8,e9=C1,t9=_g,n9=R1;function r9(e,t){return n9(t9(e),e9(t,0,e.length))}var i9=r9,a9=Kc;function o9(e,t){return a9(t,function(n){return e[n]})}var s9=o9,l9=s9,u9=uo;function c9(e){return e==null?[]:l9(e,u9(e))}var f9=c9,d9=C1,h9=R1,p9=f9;function g9(e,t){var n=p9(e);return h9(n,d9(t,0,n.length))}var m9=g9,v9=i9,y9=m9,w9=Fn,b9=$g,_9=zf;function S9(e,t,n){(n?b9(e,t,n):t===void 0)?t=1:t=_9(t);var r=w9(e)?v9:y9;return r(e,t)}var E9=S9,x9=Mf,k9=sr,T9="Expected a function";function A9(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(T9);return k9(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),x9(e,t,{leading:r,maxWait:t,trailing:i})}var jg=A9;function C9(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var R9=C9;function N9(e){return e!==e}var O9=N9;function I9(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var D9=I9,P9=R9,L9=O9,$9=D9;function F9(e,t,n){return t===t?$9(e,t,n):P9(e,L9,n)}var j9=F9,M9=j9;function z9(e,t){var n=e==null?0:e.length;return!!n&&M9(e,t,0)>-1}var B9=z9;function U9(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var H9=U9;function q9(){}var W9=q9,Mg=SS,V9=W9,G9=cg,K9=1/0,Y9=Mg&&1/G9(new Mg([,-0]))[1]==K9?function(e){return new Mg(e)}:V9,Q9=Y9,X9=cS,J9=B9,Z9=H9,eV=fS,tV=Q9,nV=cg,rV=200;function iV(e,t,n){var r=-1,i=J9,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Z9;else if(a>=rV){var u=t?null:tV(e);if(u)return nV(u);o=!1,i=eV,l=new X9}else l=t?[]:s;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var N1=iV,aV=N1;function oV(e){return e&&e.length?aV(e):[]}var O1=oV,sV=ql,lV=N1;function uV(e,t){return e&&e.length?lV(e,sV(t)):[]}var I1=uV;const cV="js_contentFocusIndicator_focusedTarget",fV="https://blog.readwise.io/p/bf87944f-b0fe-4f08-a461-f75ab8aded6a/",dV="https://blog.readwise.io/p/f8c0f71c-fe5f-4025-af57-f9f65c53fed7/";`${ur()}`,`${ur()}`;var si=(e=>(e.Offline="offline",e.Online="online",e))(si||{});const hV=281474976710656,pV=Mf((e,t)=>{Fe.log(`${e===t?"SUCCESS":"FAILURE"} Cached State Documents checksum: ${e} (${t} expected)`)},1);var D1=(e,t)=>{if(!e)return!0;let n=0;return Object.values(e).forEach(r=>{if(!r.updated){Fe.log("Could not compute checksum since some docs have undefined updated field.");return}n=(n+r.updated)%hV}),pV(n,t),n===t},gV=(e,t)=>e.filter(n=>{const r=n.path.split("/");if(r.length<4||r[1]!=="documents")return!0;const i=r[2];return Boolean(t==null?void 0:t[i])}),zg=(e,t)=>{try{go(e,t)}catch(n){if(n&&n.name==="TypeError"&&n.message&&n.message.includes("undefined")){const r=gV(t,e.documents);go(e,r)}else throw n}},Bg=e=>e[0].toUpperCase()+e.substr(1),Bf=e=>{[He.Highlight,He.Note].includes(e.category)?D2.forEach(t=>{delete e[t]}):M_.forEach(t=>{delete e[t]})},P1=(e,t)=>{let n;return t?(n=xn(Vl(e,"documents")),n.documents={},t.forEach(r=>{var i;((i=e.documents)==null?void 0:i[r])&&n.documents&&(n.documents[r]=xn(e.documents[r]))})):n=xn(e),Object.keys(n.documents).forEach(r=>{var i;(i=n==null?void 0:n.documents)!=null&&i[r]&&Bf(n.documents[r])}),n},Uf={exports:{}},ws={},Ug={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof or=="object"&&or;(a.global===a||a.window===a||a.self===a)&&(n=a);var o,s=2147483647,l=36,u=1,c=26,f=38,d=700,p=72,v=128,w="-",A=/^xn--/,h=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=l-u,y=Math.floor,_=String.fromCharCode,x;function S(k){throw RangeError(b[k])}function M(k,L){for(var z=k.length,K=[];z--;)K[z]=L(k[z]);return K}function V(k,L){var z=k.split("@"),K="";z.length>1&&(K=z[0]+"@",k=z[1]),k=k.replace(g,".");var ae=k.split("."),ie=M(ae,L).join(".");return K+ie}function Z(k){for(var L=[],z=0,K=k.length,ae,ie;z<K;)ae=k.charCodeAt(z++),ae>=55296&&ae<=56319&&z<K?(ie=k.charCodeAt(z++),(ie&64512)==56320?L.push(((ae&1023)<<10)+(ie&1023)+65536):(L.push(ae),z--)):L.push(ae);return L}function pe(k){return M(k,function(L){var z="";return L>65535&&(L-=65536,z+=_(L>>>10&1023|55296),L=56320|L&1023),z+=_(L),z}).join("")}function ge(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:l}function we(k,L){return k+22+75*(k<26)-((L!=0)<<5)}function ee(k,L,z){var K=0;for(k=z?y(k/d):k>>1,k+=y(k/L);k>m*c>>1;K+=l)k=y(k/m);return y(K+(m+1)*k/(k+f))}function Le(k){var L=[],z=k.length,K,ae=0,ie=v,O=p,H,J,ve,_e,Ee,Re,Ke,lt,ft;for(H=k.lastIndexOf(w),H<0&&(H=0),J=0;J<H;++J)k.charCodeAt(J)>=128&&S("not-basic"),L.push(k.charCodeAt(J));for(ve=H>0?H+1:0;ve<z;){for(_e=ae,Ee=1,Re=l;ve>=z&&S("invalid-input"),Ke=ge(k.charCodeAt(ve++)),(Ke>=l||Ke>y((s-ae)/Ee))&&S("overflow"),ae+=Ke*Ee,lt=Re<=O?u:Re>=O+c?c:Re-O,!(Ke<lt);Re+=l)ft=l-lt,Ee>y(s/ft)&&S("overflow"),Ee*=ft;K=L.length+1,O=ee(ae-_e,K,_e==0),y(ae/K)>s-ie&&S("overflow"),ie+=y(ae/K),ae%=K,L.splice(ae++,0,ie)}return pe(L)}function je(k){var L,z,K,ae,ie,O,H,J,ve,_e,Ee,Re=[],Ke,lt,ft,tt;for(k=Z(k),Ke=k.length,L=v,z=0,ie=p,O=0;O<Ke;++O)Ee=k[O],Ee<128&&Re.push(_(Ee));for(K=ae=Re.length,ae&&Re.push(w);K<Ke;){for(H=s,O=0;O<Ke;++O)Ee=k[O],Ee>=L&&Ee<H&&(H=Ee);for(lt=K+1,H-L>y((s-z)/lt)&&S("overflow"),z+=(H-L)*lt,L=H,O=0;O<Ke;++O)if(Ee=k[O],Ee<L&&++z>s&&S("overflow"),Ee==L){for(J=z,ve=l;_e=ve<=ie?u:ve>=ie+c?c:ve-ie,!(J<_e);ve+=l)tt=J-_e,ft=l-_e,Re.push(_(we(_e+tt%ft,0))),J=y(tt/ft);Re.push(_(we(J,0))),ie=ee(z,lt,K==ae),z=0,++K}++z,++L}return Re.join("")}function E(k){return V(k,function(L){return A.test(L)?Le(L.slice(4).toLowerCase()):L})}function C(k){return V(k,function(L){return h.test(L)?"xn--"+je(L):L})}if(o={version:"1.3.2",ucs2:{decode:Z,encode:pe},decode:Le,encode:je,toASCII:C,toUnicode:E},r&&i)if(e.exports==r)i.exports=o;else for(x in o)o.hasOwnProperty(x)&&(r[x]=o[x]);else n.punycode=o})(or)})(Ug,Ug.exports);var mV={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Yl={};function vV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var yV=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var a=/\+/g;e=e.split(t);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var u=e[l].replace(a,"%20"),c=u.indexOf(n),f,d,p,v;c>=0?(f=u.substr(0,c),d=u.substr(c+1)):(f=u,d=""),p=decodeURIComponent(f),v=decodeURIComponent(d),vV(i,p)?Array.isArray(i[p])?i[p].push(v):i[p]=[i[p],v]:i[p]=v}return i},Ql=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},wV=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var a=encodeURIComponent(Ql(i))+n;return Array.isArray(e[i])?e[i].map(function(o){return a+encodeURIComponent(Ql(o))}).join(t):a+encodeURIComponent(Ql(e[i]))}).join(t):r?encodeURIComponent(Ql(r))+n+encodeURIComponent(Ql(e)):""};Yl.decode=Yl.parse=yV,Yl.encode=Yl.stringify=wV;var bV=Ug.exports,Ei=mV;ws.parse=Xl,ws.resolve=NV,ws.resolveObject=OV,ws.format=RV,ws.Url=Fr;function Fr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _V=/^([a-z0-9.+-]+:)/i,SV=/:[0-9]*$/,EV=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xV=["<",">",'"',"`"," ","\r",`
`,"	"],kV=["{","}","|","\\","^","`"].concat(xV),Hg=["'"].concat(kV),L1=["%","/","?",";","#"].concat(Hg),$1=["/","?","#"],TV=255,F1=/^[+a-z0-9A-Z_-]{0,63}$/,AV=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,CV={javascript:!0,"javascript:":!0},qg={javascript:!0,"javascript:":!0},bs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Wg=Yl;function Xl(e,t,n){if(e&&Ei.isObject(e)&&e instanceof Fr)return e;var r=new Fr;return r.parse(e,t,n),r}Fr.prototype.parse=function(e,t,n){if(!Ei.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var l=EV.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=Wg.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=_V.exec(s);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";f&&!(u&&qg[u])&&(s=s.substr(2),this.slashes=!0)}if(!qg[u]&&(f||u&&!bs[u])){for(var d=-1,p=0;p<$1.length;p++){var v=s.indexOf($1[p]);v!==-1&&(d===-1||v<d)&&(d=v)}var w,A;d===-1?A=s.lastIndexOf("@"):A=s.lastIndexOf("@",d),A!==-1&&(w=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(w)),d=-1;for(var p=0;p<L1.length;p++){var v=s.indexOf(L1[p]);v!==-1&&(d===-1||v<d)&&(d=v)}d===-1&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h)for(var g=this.hostname.split(/\./),p=0,b=g.length;p<b;p++){var m=g[p];if(!!m&&!m.match(F1)){for(var y="",_=0,x=m.length;_<x;_++)m.charCodeAt(_)>127?y+="x":y+=m[_];if(!y.match(F1)){var S=g.slice(0,p),M=g.slice(p+1),V=m.match(AV);V&&(S.push(V[1]),M.unshift(V[2])),M.length&&(s="/"+M.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>TV?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=bV.toASCII(this.hostname));var Z=this.port?":"+this.port:"",pe=this.hostname||"";this.host=pe+Z,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!CV[c])for(var p=0,b=Hg.length;p<b;p++){var ge=Hg[p];if(s.indexOf(ge)!==-1){var we=encodeURIComponent(ge);we===ge&&(we=escape(ge)),s=s.split(ge).join(we)}}var ee=s.indexOf("#");ee!==-1&&(this.hash=s.substr(ee),s=s.slice(0,ee));var Le=s.indexOf("?");if(Le!==-1?(this.search=s.substr(Le),this.query=s.substr(Le+1),t&&(this.query=Wg.parse(this.query)),s=s.slice(0,Le)):t&&(this.search="",this.query={}),s&&(this.pathname=s),bs[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",je=this.search||"";this.path=Z+je}return this.href=this.format(),this};function RV(e){return Ei.isString(e)&&(e=Xl(e)),e instanceof Fr?e.format():Fr.prototype.format.call(e)}Fr.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ei.isObject(this.query)&&Object.keys(this.query).length&&(a=Wg.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||bs[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+n+o+r};function NV(e,t){return Xl(e,!1,!0).resolve(t)}Fr.prototype.resolve=function(e){return this.resolveObject(Xl(e,!1,!0)).format()};function OV(e,t){return e?Xl(e,!1,!0).resolveObject(t):t}Fr.prototype.resolveObject=function(e){if(Ei.isString(e)){var t=new Fr;t.parse(e,!1,!0),e=t}for(var n=new Fr,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];l!=="protocol"&&(n[l]=e[l])}return bs[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!bs[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!qg[e.protocol]){for(var b=(e.pathname||"").split("/");b.length&&!(e.host=b.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),n.pathname=b.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",w=e.host||e.pathname&&e.pathname.charAt(0)==="/",A=w||v||n.host&&e.pathname,h=A,g=n.pathname&&n.pathname.split("/")||[],b=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!bs[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(g[0]===""?g[0]=n.host:g.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(b[0]===""?b[0]=e.host:b.unshift(e.host)),e.host=null),A=A&&(b[0]===""||g[0]==="")),w)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,g=b;else if(b.length)g||(g=[]),g.pop(),g=g.concat(b),n.search=e.search,n.query=e.query;else if(!Ei.isNullOrUndefined(e.search)){if(m){n.hostname=n.host=g.shift();var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return n.search=e.search,n.query=e.query,(!Ei.isNull(n.pathname)||!Ei.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=g.slice(-1)[0],x=(n.host||e.host||g.length>1)&&(_==="."||_==="..")||_==="",S=0,M=g.length;M>=0;M--)_=g[M],_==="."?g.splice(M,1):_===".."?(g.splice(M,1),S++):S&&(g.splice(M,1),S--);if(!A&&!h)for(;S--;S)g.unshift("..");A&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),x&&g.join("/").substr(-1)!=="/"&&g.push("");var V=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(m){n.hostname=n.host=V?"":g.length?g.shift():"";var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return A=A||n.host&&g.length,A&&!V&&g.unshift(""),g.length?n.pathname=g.join("/"):(n.pathname=null,n.path=null),(!Ei.isNull(n.pathname)||!Ei.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Fr.prototype.parseHost=function(){var e=this.host,t=SV.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const IV=typeof URL=="undefined"?ws.URL:URL,DV="text/plain",PV="us-ascii",j1=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),LV=(e,{stripHash:t})=>{const n=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!n)throw new Error(`Invalid URL: ${e}`);const r=n[1].split(";"),i=n[2],a=t?"":n[3];let o=!1;r[r.length-1]==="base64"&&(r.pop(),o=!0);const s=(r.shift()||"").toLowerCase(),u=[...r.map(c=>{let[f,d=""]=c.split("=").map(p=>p.trim());return f==="charset"&&(d=d.toLowerCase(),d===PV)?"":`${f}${d?`=${d}`:""}`}).filter(Boolean)];return o&&u.push("base64"),(u.length!==0||s&&s!==DV)&&u.unshift(s),`data:${u.join(";")},${o?i.trim():i}${a?`#${a}`:""}`},M1=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return LV(e,t);const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const i=new IV(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash&&(i.hash=""),i.pathname&&(i.pathname=i.pathname.replace(/((?!:).|^)\/{2,}/g,(a,o)=>/^(?!\/)/g.test(o)?`${o}/`:"/")),i.pathname&&(i.pathname=decodeURI(i.pathname)),t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/");const o=a[a.length-1];j1(o,t.removeDirectoryIndex)&&(a=a.slice(0,a.length-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const a of[...i.searchParams.keys()])j1(a,t.removeQueryParameters)&&i.searchParams.delete(a);return t.sortQueryParameters&&i.searchParams.sort(),t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),e=i.toString(),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};Uf.exports=M1,Uf.exports.default=M1;var z1=Uf.exports,Vg=e=>{if(!e)return e;const t=e.replace(" ","%20");let n;try{n=z1(t,{removeQueryParameters:[/^utm_\w+/i,/^__readwiselocation/i],stripProtocol:!1})}catch{return e}const r=new URL(n);return r.hash&&(r.hash.includes("/")||r.hash.includes("%2F")?(r.hash=r.hash.replace(/#?:~:text.*?$/i,""),r.hash==="#"&&(r.hash="")):r.hash="",n=r.toString()),n};const B1=e=>{for(const t of Array.from(e.keys()))(t.startsWith("utm_")||t.startsWith("__readwise"))&&e.delete(t);return e.sort(),e},U1=(e,t)=>{if(!so(t))return!1;let n,r;try{n=new URL(t.url),r=new URL(e)}catch(i){return Fe.error(i,{"item.url":t.url,url:e}),!1}return r.host.replace(/^www\./,"")!==n.host.replace(/^www\./,"")||r.pathname.replace(/\/+$/,"")!==n.pathname.replace(/\/+$/,"")||r.searchParams&&B1(r.searchParams).toString()!==B1(n.searchParams).toString()?!1:Vg(e)===Vg(t.url)},H1=(e,t,n={})=>e?Object.values(e).find(r=>!so(r)||n.additionalFilter&&!n.additionalFilter(r)?!1:U1(t,r)):null,$V=(e,t,n={})=>{if(!e)return{};const r={};for(const i of Object.values(e))if(!(!so(i)||n.additionalFilter&&!n.additionalFilter(i)))for(const a of t)U1(a,i)&&(r[a]=i);return r};var q1=e=>{const t=new URL(e);let n;return t.pathname.endsWith(".pdf")?n="pdf":e.match(/.+?twitter.com\/.+?\/status\/\d+\/?/)?n="tweet":e.includes("youtube.com")||e.includes("youtu.be")?n="video":n="article",n};function W1(e,t){const n={};for(const r of Object.values(e))qi(r)&&r.parsed_doc_id&&t.includes(r.parsed_doc_id.toString())&&(n[r.parsed_doc_id]===void 0&&(n[r.parsed_doc_id]=[]),n[r.parsed_doc_id].push(r.id));return n}const V1=(e,t)=>e.path.localeCompare(t.path),G1=e=>({...e,patch:e.patch.sort(V1),reverse:e.patch.sort(V1)}),mo=({name:e,state:t,usageDelta:n,isFromHighlight:r})=>{if(n===0)throw new Error("usageDelta cannot be 0");if(!e)return;const i=e.trim().toLowerCase();if(!(i in t.allTags)){if(n<0)return;t.allTags[i]={name:e,count:0,highlightsCount:0,docsCount:0,created:Date.now()}}t.allTags[i].name=e,t.allTags[i].count+=n,r?t.allTags[i].highlightsCount+=n:t.allTags[i].docsCount+=n,n>0&&(t.allTags[i].created=Date.now()),t.allTags[i].count<=0&&delete t.allTags[i]},Hf=({tags:e={},...t})=>{for(const n of Object.values(e))mo({name:n.name,...t})},Gg=e=>e.op==="add",Kg=e=>e.op==="remove",_s=e=>e.op==="replace",FV=({state:e,update:t})=>{var r,i,a,o,s;const n=G1(t);for(let l=0;l<n.patch.length;l++){const u=n.patch[l];if(!!u.path.startsWith("/documents/")){if(u.path.split("/").filter(Boolean).length===2){if((Gg(u)||_s(u))&&Hf({state:e,tags:(r=u.value)==null?void 0:r.tags,usageDelta:1}),Kg(u)||_s(u)){const c=n.reverse[l];Hf({state:e,tags:(i=c.value)==null?void 0:i.tags,usageDelta:-1})}continue}if(u.path.endsWith("/tags")){if((Gg(u)||_s(u))&&Hf({state:e,tags:u.value,usageDelta:1}),Kg(u)||_s(u)){const c=n.reverse[l];Hf({state:e,tags:c.value,usageDelta:-1})}continue}if(u.path.includes("/tags/")&&((Gg(u)||_s(u))&&mo({name:(a=u.value)==null?void 0:a.name,state:e,usageDelta:1}),Kg(u)||_s(u))){const c=n.reverse[l];mo({name:((o=c.value)==null?void 0:o.name)||((s=u.value)==null?void 0:s.name),state:e,usageDelta:-1})}}}};function zn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vo(e){return!!e&&!!e[kr]}function pa(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===VV}(e)||Array.isArray(e)||!!e[eu]||!!e.constructor[eu]||Wf(e)||Vf(e))}function Ss(e,t,n){n===void 0&&(n=!1),ga(e)===0?(n?Object.keys:sm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function ga(e){var t=e[kr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Wf(e)?2:Vf(e)?3:0}function Jl(e,t){return ga(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qf(e,t){return ga(e)===2?e.get(t):e[t]}function K1(e,t,n){var r=ga(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function jV(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Wf(e){return qV&&e instanceof Map}function Vf(e){return WV&&e instanceof Set}function yo(e){return e.o||e.t}function Yg(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=GV(e);delete t[kr];for(var n=sm(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Qg(e,t){return t===void 0&&(t=!1),Xg(e)||vo(e)||!pa(e)||(ga(e)>1&&(e.set=e.add=e.clear=e.delete=MV),Object.freeze(e),t&&Ss(e,function(n,r){return Qg(r,!0)},!0)),e}function MV(){zn(2)}function Xg(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function xi(e){var t=lm[e];return t||zn(18,e),t}function zV(e,t){lm[e]||(lm[e]=t)}function Y1(){return Zl}function Jg(e,t){t&&(xi("Patches"),e.u=[],e.s=[],e.v=t)}function Gf(e){Zg(e),e.p.forEach(BV),e.p=null}function Zg(e){e===Zl&&(Zl=e.l)}function Q1(e){return Zl={p:[],l:Zl,h:e,m:!0,_:0}}function BV(e){var t=e[kr];t.i===0||t.i===1?t.j():t.O=!0}function em(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||xi("ES5").S(t,e,r),r?(n[kr].P&&(Gf(t),zn(4)),pa(e)&&(e=Kf(t,e),t.l||Yf(t,e)),t.u&&xi("Patches").M(n[kr].t,e,t.u,t.s)):e=Kf(t,n,[]),Gf(t),t.u&&t.v(t.u,t.s),e!==om?e:void 0}function Kf(e,t,n){if(Xg(t))return t;var r=t[kr];if(!r)return Ss(t,function(a,o){return X1(e,r,t,a,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Yf(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Yg(r.k):r.o;Ss(r.i===3?new Set(i):i,function(a,o){return X1(e,r,i,a,o,n)}),Yf(e,i,!1),n&&e.u&&xi("Patches").R(r,n,e.u,e.s)}return r.o}function X1(e,t,n,r,i,a){if(vo(i)){var o=Kf(e,i,a&&t&&t.i!==3&&!Jl(t.D,r)?a.concat(r):void 0);if(K1(n,r,o),!vo(o))return;e.m=!1}if(pa(i)&&!Xg(i)){if(!e.h.F&&e._<1)return;Kf(e,i),t&&t.A.l||Yf(e,i)}}function Yf(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Qg(t,n)}function tm(e,t){var n=e[kr];return(n?yo(n):e)[t]}function J1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function nm(e){e.P||(e.P=!0,e.l&&nm(e.l))}function rm(e){e.o||(e.o=Yg(e.t))}function im(e,t,n){var r=Wf(t)?xi("MapSet").N(t,n):Vf(t)?xi("MapSet").T(t,n):e.g?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:Y1(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=s,u=um;o&&(l=[s],u=tu);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return s.k=d,s.j=f,d}(t,n):xi("ES5").J(t,n);return(n?n.A:Y1()).p.push(r),r}function UV(e){return vo(e)||zn(22,e),function t(n){if(!pa(n))return n;var r,i=n[kr],a=ga(n);if(i){if(!i.P&&(i.i<4||!xi("ES5").K(i)))return i.t;i.I=!0,r=Z1(n,a),i.I=!1}else r=Z1(n,a);return Ss(r,function(o,s){i&&qf(i.t,o)===s||K1(r,o,t(s))}),a===3?new Set(r):r}(e)}function Z1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Yg(e)}function HV(){function e(r){if(!pa(r))return r;if(Array.isArray(r))return r.map(e);if(Wf(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(Vf(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var a in r)i[a]=e(r[a]);return Jl(r,eu)&&(i[eu]=r[eu]),i}function t(r){return vo(r)?e(r):r}var n="add";zV("Patches",{$:function(r,i){return i.forEach(function(a){for(var o=a.path,s=a.op,l=r,u=0;u<o.length-1;u++){var c=ga(l),f=""+o[u];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||zn(24),typeof l=="function"&&f==="prototype"&&zn(24),typeof(l=qf(l,f))!="object"&&zn(15,o.join("/"))}var d=ga(l),p=e(a.value),v=o[o.length-1];switch(s){case"replace":switch(d){case 2:return l.set(v,p);case 3:zn(16);default:return l[v]=p}case n:switch(d){case 1:return v==="-"?l.push(p):l.splice(v,0,p);case 2:return l.set(v,p);case 3:return l.add(p);default:return l[v]=p}case"remove":switch(d){case 1:return l.splice(v,1);case 2:return l.delete(v);case 3:return l.delete(a.value);default:return delete l[v]}default:zn(17,s)}}),r},R:function(r,i,a,o){switch(r.i){case 0:case 4:case 2:return function(s,l,u,c){var f=s.t,d=s.o;Ss(s.D,function(p,v){var w=qf(f,p),A=qf(d,p),h=v?Jl(f,p)?"replace":n:"remove";if(w!==A||h!=="replace"){var g=l.concat(p);u.push(h==="remove"?{op:h,path:g}:{op:h,path:g,value:A}),c.push(h===n?{op:"remove",path:g}:h==="remove"?{op:n,path:g,value:t(w)}:{op:"replace",path:g,value:t(w)})}})}(r,i,a,o);case 5:case 1:return function(s,l,u,c){var f=s.t,d=s.D,p=s.o;if(p.length<f.length){var v=[p,f];f=v[0],p=v[1];var w=[c,u];u=w[0],c=w[1]}for(var A=0;A<f.length;A++)if(d[A]&&p[A]!==f[A]){var h=l.concat([A]);u.push({op:"replace",path:h,value:t(p[A])}),c.push({op:"replace",path:h,value:t(f[A])})}for(var g=f.length;g<p.length;g++){var b=l.concat([g]);u.push({op:n,path:b,value:t(p[g])})}f.length<p.length&&c.push({op:"replace",path:l.concat(["length"]),value:f.length})}(r,i,a,o);case 3:return function(s,l,u,c){var f=s.t,d=s.o,p=0;f.forEach(function(v){if(!d.has(v)){var w=l.concat([p]);u.push({op:"remove",path:w,value:v}),c.unshift({op:n,path:w,value:v})}p++}),p=0,d.forEach(function(v){if(!f.has(v)){var w=l.concat([p]);u.push({op:n,path:w,value:v}),c.unshift({op:"remove",path:w,value:v})}p++})}(r,i,a,o)}},M:function(r,i,a,o){a.push({op:"replace",path:[],value:i===om?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var eE,Zl,am=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",qV=typeof Map!="undefined",WV=typeof Set!="undefined",tE=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",om=am?Symbol.for("immer-nothing"):((eE={})["immer-nothing"]=!0,eE),eu=am?Symbol.for("immer-draftable"):"__$immer_draftable",kr=am?Symbol.for("immer-state"):"__$immer_state",VV=""+Object.prototype.constructor,sm=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,GV=Object.getOwnPropertyDescriptors||function(e){var t={};return sm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},lm={},um={get:function(e,t){if(t===kr)return e;var n=yo(e);if(!Jl(n,t))return function(i,a,o){var s,l=J1(a,o);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!pa(r)?r:r===tm(e.t,t)?(rm(e),e.o[t]=im(e.A.h,r,e)):r},has:function(e,t){return t in yo(e)},ownKeys:function(e){return Reflect.ownKeys(yo(e))},set:function(e,t,n){var r=J1(yo(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=tm(yo(e),t),a=i==null?void 0:i[kr];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(jV(n,i)&&(n!==void 0||Jl(e.t,t)))return!0;rm(e),nm(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return tm(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,rm(e),nm(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=yo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){zn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){zn(12)}},tu={};Ss(um,function(e,t){tu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tu.deleteProperty=function(e,t){return tu.set.call(this,e,t,void 0)},tu.set=function(e,t,n){return um.set.call(this,e[0],t,n,e[0])};var KV=function(){function e(n){var r=this;this.g=tE,this.F=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var l=r;return function(w){var A=this;w===void 0&&(w=s);for(var h=arguments.length,g=Array(h>1?h-1:0),b=1;b<h;b++)g[b-1]=arguments[b];return l.produce(w,function(m){var y;return(y=a).call.apply(y,[A,m].concat(g))})}}var u;if(typeof a!="function"&&zn(6),o!==void 0&&typeof o!="function"&&zn(7),pa(i)){var c=Q1(r),f=im(r,i,void 0),d=!0;try{u=a(f),d=!1}finally{d?Gf(c):Zg(c)}return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(w){return Jg(c,o),em(w,c)},function(w){throw Gf(c),w}):(Jg(c,o),em(u,c))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===om&&(u=void 0),r.F&&Qg(u,!0),o){var p=[],v=[];xi("Patches").M(i,u,p,v),o(p,v)}return u}zn(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,l=r.produce(i,a,function(u,c){o=u,s=c});return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(u){return[u,o,s]}):[l,o,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){pa(n)||zn(8),vo(n)&&(n=UV(n));var r=Q1(this),i=im(this,n,void 0);return i[kr].C=!0,Zg(r),i},t.finishDraft=function(n,r){var i=n&&n[kr],a=i.A;return Jg(a,r),em(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!tE&&zn(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var o=xi("Patches").$;return vo(n)?o(n,r):this.produce(n,function(s){return o(s,r)})},e}(),Tr=new KV,Qf=Tr.produce;Tr.produceWithPatches.bind(Tr),Tr.setAutoFreeze.bind(Tr),Tr.setUseProxies.bind(Tr),Tr.applyPatches.bind(Tr),Tr.createDraft.bind(Tr),Tr.finishDraft.bind(Tr);function YV(e){let t;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(t):u;if(f!==t){const d=t;t=c?f:Object.assign({},t,f),n.forEach(p=>p(t,d))}},i=()=>t,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(t);function p(){const v=c(t);if(!f(d,v)){const w=d;u(d=v,w)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return t=e(r,i,l),l}const nE=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?st.exports.useEffect:st.exports.useLayoutEffect;function cm(e){const t=typeof e=="function"?YV(e):e,n=(r=t.getState,i=Object.is)=>{const[,a]=st.exports.useReducer(A=>A+1,0),o=t.getState(),s=st.exports.useRef(o),l=st.exports.useRef(r),u=st.exports.useRef(i),c=st.exports.useRef(!1),f=st.exports.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(s.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),p=!i(f.current,d)),nE(()=>{p&&(f.current=d),s.current=o,l.current=r,u.current=i,c.current=!1});const v=st.exports.useRef(o);nE(()=>{const A=()=>{try{const g=t.getState(),b=l.current(g);u.current(f.current,b)||(s.current=g,f.current=b,a())}catch{c.current=!0,a()}},h=t.subscribe(A);return t.getState()!==v.current&&A(),h},[]);const w=p?d:f.current;return st.exports.useDebugValue(w),w};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,t];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const fm=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,s,l)=>{let u=o;if(s){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=d=>{const p=o(d);if(!c(f,p)){const v=f;s(f=p,v)}},l!=null&&l.fireImmediately&&s(f,f)}return i(u)},e(t,n,r)};function QV(e){const t={leftLong:Dn.MoveToArchive,left:Dn.ToggleSeen,right:Dn.AllActions,rightLong:Dn.MoveToLater},n={...t},r={...t},i={...t};return e.includes(rt.New)?(t.leftLong=Dn.MoveToInbox,r.rightLong=Dn.MoveToInbox):e.includes(rt.Shortlist)&&(t.leftLong=Dn.MoveToShortlist,r.rightLong=Dn.MoveToShortlist),{feedNew:{leftLong:Dn.MoveToArchive,left:Dn.ToggleSeen,right:Dn.AllActions,rightLong:Dn.MoveToLater},feedSeen:{leftLong:Dn.MoveToArchive,left:Dn.ToggleSeen,right:Dn.AllActions,rightLong:Dn.MoveToLater},libraryArchive:t,libraryInbox:n,libraryLater:r,libraryShortlist:i}}var rE=(e,t)=>{const n=ms(e,t);for(const r of n)!(r.op==="add"&&r.path.startsWith("/documents/")&&r.path.split("/").length===3)||Bf(r.value);return n},dm=[[rt.Feed,rt.Later,rt.Shortlist,rt.Archive],[rt.Feed,rt.New,rt.Later,rt.Archive],[rt.Feed,rt.Later,rt.Archive]];function Es(e){let t=O1(e);if(!dm.find(n=>ys(n,t))){const n=t.length&&t.includes(rt.New)?rt.New:rt.Shortlist,r=dm.find(i=>i.includes(n));if(!r)throw new Error("Can't find closest valid documentLocations value from their broken one");t=r}return t}const xs=(e,t=Ct.getState())=>!e||!t.persistent.documents?null:t.persistent.documents[e],XV=e=>[He.Article,He.Email].includes(e.category);var ma=e=>e!=null&&e.triage_status?e.triage_status:e&&XV(e)&&e.reading_status===xf.Archived?rt.Archive:rt.Feed;const nu=({state:e,tagName:t,documentId:n,options:r})=>{const i=t.trim();r.userInteraction&&(e.tagNamesUsedRecently=[i,...e.tagNamesUsedRecently.filter(s=>s!==i)]);const a=i.toLowerCase();if(!e.persistent.documents)throw new Error("Documents do not exist");const o=e.persistent.documents[n];if(!o)throw new Error("Document does not exist");o.tags||(o.tags={}),!(a in o.tags)&&(o.tags[a]={created:Date.now(),name:t,type:"manual"},mo({name:t,state:e,usageDelta:1,isFromHighlight:o.category===He.Highlight}))},iE=(e,t)=>{e.persistent.documents||(e.persistent.documents={}),e.persistent.documents[t.id]=aE(t);const{parent:n}=t;if(n){const r=e.persistent.documents[n];r.children.includes(t.id)||(r.children.push(t.id),e.persistent.documents[n]=r)}},aE=e=>({...e,contentRequestLoadingStatus:e.contentRequestLoadingStatus||(e.content?Bi.Loaded:Bi.Unloaded)}),hm=(e,t,n={})=>{var s,l,u;if(!e.persistent.documents||!e.persistent.documents[t])return;const{parent:r,tags:i}=e.persistent.documents[t];if(i)for(const c of Object.keys(i))mo({name:c.toLocaleLowerCase(),state:e,usageDelta:-1,isFromHighlight:!1});if(r&&e.persistent.documents[r]){const c=e.persistent.documents[r];e.persistent.documents[r].children=c.children.filter(f=>f!==t)}const{children:a}=e.persistent.documents[t];if(a){for(const c of a)if(e.persistent.documents[c])if(n.removeChildren){const f=e.persistent.documents[c].tags;if(f)for(const d of Object.keys(f))mo({name:d.toLocaleLowerCase(),state:e,usageDelta:-1,isFromHighlight:!0});delete e.persistent.documents[c]}else delete e.persistent.documents[c].parent}((l=(s=bw.getState().trackPlayer)==null?void 0:s.track)==null?void 0:l.docId)===t&&setTimeout(()=>{ub(),Gh(null,{userInteraction:null})},50);const o=(u=e.persistent.documents[t])==null?void 0:u.links;if(o!=null&&o.length){const f=o.map(d=>d.other_document).filter(Cl).map(d=>{var p,v,w;return(w=(v=(p=e.persistent.documents)==null?void 0:p[d])==null?void 0:v.parsed_doc_id)==null?void 0:w.toString()}).filter(Cl);Wh({parsedDocIds:f,shouldBypassCache:!0})}delete e.persistent.documents[t]},JV=(e,t,n="")=>{const r=Si().toLowerCase();let i;n.includes("/split/")&&(i=n.split("/split/")[1].split("/")[0]);const a=e.client.documentsSortMenu.rules.filterPage[0];e.persistent.filteredViews[r]={...t,id:r,created:Date.now(),order:1/0,sortRules:[{id:Si().toLowerCase(),key:a.key,order:a.order}]},i&&(e.persistent.filteredViews[r].splitBy=i)},pm=(e,t)=>{var n;if((n=e.persistent.home)!=null&&n.views){const r=e.persistent.home.views.indexOf(t);r>=0&&e.persistent.home.views.splice(r,1)}e.persistent.filteredViews&&delete e.persistent.filteredViews[t]},oE=({shouldErrorIfItDoesntExist:e=!0,state:t,updates:n,viewId:r})=>{if(!t.persistent.filteredViews[r]){if(e)throw new Error("No view with that ID in state");return}t.persistent.filteredViews[r]=Object.assign(t.persistent.filteredViews[r],n)},wo=(e,t,n)=>{const r=n.trim().toLowerCase();if(!e.persistent.documents)throw new Error("Documents do not exist");const i=e.persistent.documents[t];if(!i)throw new Error("Document does not exist");i.tags||(i.tags={});for(const a of Object.keys(i.tags))if(a.toLowerCase()===r){delete i.tags[a];break}mo({name:n,state:e,usageDelta:-1,isFromHighlight:i.category===He.Highlight})},ks=(e,t,n=!0)=>{var i;const r=Date.now();ma(e)===rt.Feed&&t!==rt.Feed&&(e.saved_from_feed_at=r),e.triage_status=t,n&&(e.last_status_update=r),t===rt.Archive&&((i=bw.getState().trackPlayer)==null?void 0:i.track.docId)===e.id&&setTimeout(()=>{ub(),Gh(null,{userInteraction:null})},50)},ZV=({state:e,documentId:t,position:n,force:r})=>{if(!e.persistent.documents)throw new Error("Documents do not exist");const i=e.persistent.documents[t];if(!i)throw new Error("Document does not exist");i.readingPosition?(i.readingPosition.scrollDepth<n.scrollDepth||r)&&(i.readingPosition=n):i.readingPosition=n},sE=e=>{e.persistent.customKeyboardShortcuts&&(e.persistent.customKeyboardShortcuts={}),e.persistent.keyboardShortcutsBlackList&&(e.persistent.keyboardShortcutsBlackList=[])};var cr="top",jr="bottom",Mr="right",fr="left",gm="auto",ru=[cr,jr,Mr,fr],Ts="start",iu="end",e7="clippingParents",lE="viewport",au="popper",t7="reference",uE=ru.reduce(function(e,t){return e.concat([t+"-"+Ts,t+"-"+iu])},[]),cE=[].concat(ru,[gm]).reduce(function(e,t){return e.concat([t,t+"-"+Ts,t+"-"+iu])},[]),n7="beforeRead",r7="read",i7="afterRead",a7="beforeMain",o7="main",s7="afterMain",l7="beforeWrite",u7="write",c7="afterWrite",f7=[n7,r7,i7,a7,o7,s7,l7,u7,c7];function ki(e){return e?(e.nodeName||"").toLowerCase():null}function li(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function As(e){var t=li(e).Element;return e instanceof t||e instanceof Element}function zr(e){var t=li(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function fE(e){if(typeof ShadowRoot=="undefined")return!1;var t=li(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function d7(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!zr(a)||!ki(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function h7(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!zr(i)||!ki(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var dE={name:"applyStyles",enabled:!0,phase:"write",fn:d7,effect:h7,requires:["computeStyles"]};function Ti(e){return e.split("-")[0]}var bo=Math.max,Xf=Math.min,Cs=Math.round;function Rs(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(zr(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Cs(n.width)/o||1),a>0&&(i=Cs(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function mm(e){var t=Rs(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function hE(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fE(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wi(e){return li(e).getComputedStyle(e)}function p7(e){return["table","td","th"].indexOf(ki(e))>=0}function va(e){return((As(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jf(e){return ki(e)==="html"?e:e.assignedSlot||e.parentNode||(fE(e)?e.host:null)||va(e)}function pE(e){return!zr(e)||Wi(e).position==="fixed"?null:e.offsetParent}function g7(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&zr(e)){var r=Wi(e);if(r.position==="fixed")return null}for(var i=Jf(e);zr(i)&&["html","body"].indexOf(ki(i))<0;){var a=Wi(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function ou(e){for(var t=li(e),n=pE(e);n&&p7(n)&&Wi(n).position==="static";)n=pE(n);return n&&(ki(n)==="html"||ki(n)==="body"&&Wi(n).position==="static")?t:n||g7(e)||t}function vm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function su(e,t,n){return bo(e,Xf(t,n))}function m7(e,t,n){var r=su(e,t,n);return r>n?n:r}function gE(){return{top:0,right:0,bottom:0,left:0}}function mE(e){return Object.assign({},gE(),e)}function vE(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var v7=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,mE(typeof t!="number"?t:vE(t,ru))};function y7(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Ti(n.placement),l=vm(s),u=[fr,Mr].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var f=v7(i.padding,n),d=mm(a),p=l==="y"?cr:fr,v=l==="y"?jr:Mr,w=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],A=o[l]-n.rects.reference[l],h=ou(a),g=h?l==="y"?h.clientHeight||0:h.clientWidth||0:0,b=w/2-A/2,m=f[p],y=g-d[c]-f[v],_=g/2-d[c]/2+b,x=su(m,_,y),S=l;n.modifiersData[r]=(t={},t[S]=x,t.centerOffset=x-_,t)}}function w7(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!hE(t.elements.popper,i)||(t.elements.arrow=i))}var b7={name:"arrow",enabled:!0,phase:"main",fn:y7,effect:w7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ns(e){return e.split("-")[1]}var _7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S7(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Cs(t*i)/i||0,y:Cs(n*i)/i||0}}function yE(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,p=d===void 0?0:d,v=o.y,w=v===void 0?0:v,A=typeof c=="function"?c({x:p,y:w}):{x:p,y:w};p=A.x,w=A.y;var h=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),b=fr,m=cr,y=window;if(u){var _=ou(n),x="clientHeight",S="clientWidth";if(_===li(n)&&(_=va(n),Wi(_).position!=="static"&&s==="absolute"&&(x="scrollHeight",S="scrollWidth")),_=_,i===cr||(i===fr||i===Mr)&&a===iu){m=jr;var M=f&&y.visualViewport?y.visualViewport.height:_[x];w-=M-r.height,w*=l?1:-1}if(i===fr||(i===cr||i===jr)&&a===iu){b=Mr;var V=f&&y.visualViewport?y.visualViewport.width:_[S];p-=V-r.width,p*=l?1:-1}}var Z=Object.assign({position:s},u&&_7),pe=c===!0?S7({x:p,y:w}):{x:p,y:w};if(p=pe.x,w=pe.y,l){var ge;return Object.assign({},Z,(ge={},ge[m]=g?"0":"",ge[b]=h?"0":"",ge.transform=(y.devicePixelRatio||1)<=1?"translate("+p+"px, "+w+"px)":"translate3d("+p+"px, "+w+"px, 0)",ge))}return Object.assign({},Z,(t={},t[m]=g?w+"px":"",t[b]=h?p+"px":"",t.transform="",t))}function E7(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:Ti(t.placement),variation:Ns(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yE(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yE(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var x7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:E7,data:{}},Zf={passive:!0};function k7(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,l=li(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",n.update,Zf)}),s&&l.addEventListener("resize",n.update,Zf),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Zf)}),s&&l.removeEventListener("resize",n.update,Zf)}}var T7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:k7,data:{}},A7={left:"right",right:"left",bottom:"top",top:"bottom"};function ed(e){return e.replace(/left|right|bottom|top/g,function(t){return A7[t]})}var C7={start:"end",end:"start"};function wE(e){return e.replace(/start|end/g,function(t){return C7[t]})}function ym(e){var t=li(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function wm(e){return Rs(va(e)).left+ym(e).scrollLeft}function R7(e){var t=li(e),n=va(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+wm(e),y:s}}function N7(e){var t,n=va(e),r=ym(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=bo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=bo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+wm(e),l=-r.scrollTop;return Wi(i||n).direction==="rtl"&&(s+=bo(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function bm(e){var t=Wi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function bE(e){return["html","body","#document"].indexOf(ki(e))>=0?e.ownerDocument.body:zr(e)&&bm(e)?e:bE(Jf(e))}function lu(e,t){var n;t===void 0&&(t=[]);var r=bE(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=li(r),o=i?[a].concat(a.visualViewport||[],bm(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(lu(Jf(o)))}function _m(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function O7(e){var t=Rs(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function _E(e,t){return t===lE?_m(R7(e)):As(t)?O7(t):_m(N7(va(e)))}function I7(e){var t=lu(Jf(e)),n=["absolute","fixed"].indexOf(Wi(e).position)>=0,r=n&&zr(e)?ou(e):e;return As(r)?t.filter(function(i){return As(i)&&hE(i,r)&&ki(i)!=="body"}):[]}function D7(e,t,n){var r=t==="clippingParents"?I7(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(s,l){var u=_E(e,l);return s.top=bo(u.top,s.top),s.right=Xf(u.right,s.right),s.bottom=Xf(u.bottom,s.bottom),s.left=bo(u.left,s.left),s},_E(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function SE(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ti(r):null,a=r?Ns(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(i){case cr:l={x:o,y:t.y-n.height};break;case jr:l={x:o,y:t.y+t.height};break;case Mr:l={x:t.x+t.width,y:s};break;case fr:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?vm(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Ts:l[u]=l[u]-(t[c]/2-n[c]/2);break;case iu:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function uu(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,o=a===void 0?e7:a,s=n.rootBoundary,l=s===void 0?lE:s,u=n.elementContext,c=u===void 0?au:u,f=n.altBoundary,d=f===void 0?!1:f,p=n.padding,v=p===void 0?0:p,w=mE(typeof v!="number"?v:vE(v,ru)),A=c===au?t7:au,h=e.rects.popper,g=e.elements[d?A:c],b=D7(As(g)?g:g.contextElement||va(e.elements.popper),o,l),m=Rs(e.elements.reference),y=SE({reference:m,element:h,strategy:"absolute",placement:i}),_=_m(Object.assign({},h,y)),x=c===au?_:m,S={top:b.top-x.top+w.top,bottom:x.bottom-b.bottom+w.bottom,left:b.left-x.left+w.left,right:x.right-b.right+w.right},M=e.modifiersData.offset;if(c===au&&M){var V=M[i];Object.keys(S).forEach(function(Z){var pe=[Mr,jr].indexOf(Z)>=0?1:-1,ge=[cr,jr].indexOf(Z)>=0?"y":"x";S[Z]+=V[ge]*pe})}return S}function P7(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?cE:l,c=Ns(r),f=c?s?uE:uE.filter(function(v){return Ns(v)===c}):ru,d=f.filter(function(v){return u.indexOf(v)>=0});d.length===0&&(d=f);var p=d.reduce(function(v,w){return v[w]=uu(e,{placement:w,boundary:i,rootBoundary:a,padding:o})[Ti(w)],v},{});return Object.keys(p).sort(function(v,w){return p[v]-p[w]})}function L7(e){if(Ti(e)===gm)return[];var t=ed(e);return[wE(e),t,wE(t)]}function $7(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,w=n.allowedAutoPlacements,A=t.options.placement,h=Ti(A),g=h===A,b=l||(g||!v?[ed(A)]:L7(A)),m=[A].concat(b).reduce(function(ae,ie){return ae.concat(Ti(ie)===gm?P7(t,{placement:ie,boundary:c,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:w}):ie)},[]),y=t.rects.reference,_=t.rects.popper,x=new Map,S=!0,M=m[0],V=0;V<m.length;V++){var Z=m[V],pe=Ti(Z),ge=Ns(Z)===Ts,we=[cr,jr].indexOf(pe)>=0,ee=we?"width":"height",Le=uu(t,{placement:Z,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),je=we?ge?Mr:fr:ge?jr:cr;y[ee]>_[ee]&&(je=ed(je));var E=ed(je),C=[];if(a&&C.push(Le[pe]<=0),s&&C.push(Le[je]<=0,Le[E]<=0),C.every(function(ae){return ae})){M=Z,S=!1;break}x.set(Z,C)}if(S)for(var k=v?3:1,L=function(ie){var O=m.find(function(H){var J=x.get(H);if(J)return J.slice(0,ie).every(function(ve){return ve})});if(O)return M=O,"break"},z=k;z>0;z--){var K=L(z);if(K==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}var F7={name:"flip",enabled:!0,phase:"main",fn:$7,requiresIfExists:["offset"],data:{_skip:!1}};function EE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xE(e){return[cr,Mr,jr,fr].some(function(t){return e[t]>=0})}function j7(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=uu(t,{elementContext:"reference"}),s=uu(t,{altBoundary:!0}),l=EE(o,r),u=EE(s,i,a),c=xE(l),f=xE(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var M7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:j7};function z7(e,t,n){var r=Ti(e),i=[fr,cr].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[fr,Mr].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function B7(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=cE.reduce(function(c,f){return c[f]=z7(f,t.rects,a),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var U7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:B7};function H7(e){var t=e.state,n=e.name;t.modifiersData[n]=SE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var q7={name:"popperOffsets",enabled:!0,phase:"read",fn:H7,data:{}};function W7(e){return e==="x"?"y":"x"}function V7(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,v=n.tetherOffset,w=v===void 0?0:v,A=uu(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),h=Ti(t.placement),g=Ns(t.placement),b=!g,m=vm(h),y=W7(m),_=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,M=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,V=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),Z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,pe={x:0,y:0};if(!!_){if(a){var ge,we=m==="y"?cr:fr,ee=m==="y"?jr:Mr,Le=m==="y"?"height":"width",je=_[m],E=je+A[we],C=je-A[ee],k=p?-S[Le]/2:0,L=g===Ts?x[Le]:S[Le],z=g===Ts?-S[Le]:-x[Le],K=t.elements.arrow,ae=p&&K?mm(K):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gE(),O=ie[we],H=ie[ee],J=su(0,x[Le],ae[Le]),ve=b?x[Le]/2-k-J-O-V.mainAxis:L-J-O-V.mainAxis,_e=b?-x[Le]/2+k+J+H+V.mainAxis:z+J+H+V.mainAxis,Ee=t.elements.arrow&&ou(t.elements.arrow),Re=Ee?m==="y"?Ee.clientTop||0:Ee.clientLeft||0:0,Ke=(ge=Z==null?void 0:Z[m])!=null?ge:0,lt=je+ve-Ke-Re,ft=je+_e-Ke,tt=su(p?Xf(E,lt):E,je,p?bo(C,ft):C);_[m]=tt,pe[m]=tt-je}if(s){var it,yt=m==="x"?cr:fr,N=m==="x"?jr:Mr,j=_[y],W=y==="y"?"height":"width",ce=j+A[yt],G=j-A[N],be=[cr,fr].indexOf(h)!==-1,fe=(it=Z==null?void 0:Z[y])!=null?it:0,de=be?ce:j-x[W]-S[W]-fe+V.altAxis,Ce=be?j+x[W]+S[W]-fe-V.altAxis:G,De=p&&be?m7(de,j,Ce):su(p?de:ce,j,p?Ce:G);_[y]=De,pe[y]=De-j}t.modifiersData[r]=pe}}var G7={name:"preventOverflow",enabled:!0,phase:"main",fn:V7,requiresIfExists:["offset"]};function K7(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Y7(e){return e===li(e)||!zr(e)?ym(e):K7(e)}function Q7(e){var t=e.getBoundingClientRect(),n=Cs(t.width)/e.offsetWidth||1,r=Cs(t.height)/e.offsetHeight||1;return n!==1||r!==1}function X7(e,t,n){n===void 0&&(n=!1);var r=zr(t),i=zr(t)&&Q7(t),a=va(t),o=Rs(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ki(t)!=="body"||bm(a))&&(s=Y7(t)),zr(t)?(l=Rs(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=wm(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function J7(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&i(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function Z7(e){var t=J7(e);return f7.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function eG(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function tG(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var kE={placement:"bottom",modifiers:[],strategy:"absolute"};function TE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nG(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?kE:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},kE,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(h){var g=typeof h=="function"?h(c.options):h;w(),c.options=Object.assign({},a,c.options,g),c.scrollParents={reference:As(s)?lu(s):s.contextElement?lu(s.contextElement):[],popper:lu(l)};var b=Z7(tG([].concat(r,c.options.modifiers)));return c.orderedModifiers=b.filter(function(m){return m.enabled}),v(),p.update()},forceUpdate:function(){if(!d){var h=c.elements,g=h.reference,b=h.popper;if(!!TE(g,b)){c.rects={reference:X7(g,ou(b),c.options.strategy==="fixed"),popper:mm(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(V){return c.modifiersData[V.name]=Object.assign({},V.data)});for(var m=0;m<c.orderedModifiers.length;m++){if(c.reset===!0){c.reset=!1,m=-1;continue}var y=c.orderedModifiers[m],_=y.fn,x=y.options,S=x===void 0?{}:x,M=y.name;typeof _=="function"&&(c=_({state:c,options:S,name:M,instance:p})||c)}}}},update:eG(function(){return new Promise(function(A){p.forceUpdate(),A(c)})}),destroy:function(){w(),d=!0}};if(!TE(s,l))return p;p.setOptions(u).then(function(A){!d&&u.onFirstUpdate&&u.onFirstUpdate(A)});function v(){c.orderedModifiers.forEach(function(A){var h=A.name,g=A.options,b=g===void 0?{}:g,m=A.effect;if(typeof m=="function"){var y=m({state:c,name:h,instance:p,options:b}),_=function(){};f.push(y||_)}})}function w(){f.forEach(function(A){return A()}),f=[]}return p}}var rG=[T7,q7,x7,dE,U7,F7,G7,b7,M7],iG=nG({defaultModifiers:rG}),aG="tippy-box",AE="tippy-content",oG="tippy-backdrop",CE="tippy-arrow",RE="tippy-svg-arrow",_o={passive:!0,capture:!0},NE=function(){return document.body};function Sm(e,t,n){if(Array.isArray(e)){var r=e[t];return r==null?Array.isArray(n)?n[t]:n:r}return e}function Em(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function OE(e,t){return typeof e=="function"?e.apply(void 0,t):e}function IE(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function sG(e){return e.split(/\s+/).filter(Boolean)}function Os(e){return[].concat(e)}function DE(e,t){e.indexOf(t)===-1&&e.push(t)}function lG(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function uG(e){return e.split("-")[0]}function td(e){return[].slice.call(e)}function PE(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function cu(){return document.createElement("div")}function nd(e){return["Element","Fragment"].some(function(t){return Em(e,t)})}function cG(e){return Em(e,"NodeList")}function fG(e){return Em(e,"MouseEvent")}function dG(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function hG(e){return nd(e)?[e]:cG(e)?td(e):Array.isArray(e)?e:td(document.querySelectorAll(e))}function xm(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function LE(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function pG(e){var t,n=Os(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function gG(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var a=i.popperRect,o=i.popperState,s=i.props,l=s.interactiveBorder,u=uG(o.placement),c=o.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,v=u==="left"?c.right.x:0,w=a.top-r+f>l,A=r-a.bottom-d>l,h=a.left-n+p>l,g=n-a.right-v>l;return w||A||h||g})}function km(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function $E(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ai={isTouch:!1},FE=0;function mG(){Ai.isTouch||(Ai.isTouch=!0,window.performance&&document.addEventListener("mousemove",jE))}function jE(){var e=performance.now();e-FE<20&&(Ai.isTouch=!1,document.removeEventListener("mousemove",jE)),FE=e}function vG(){var e=document.activeElement;if(dG(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function yG(){document.addEventListener("touchstart",mG,_o),window.addEventListener("blur",vG)}var wG=typeof window!="undefined"&&typeof document!="undefined",bG=wG?!!window.msCrypto:!1,_G={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},SG={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ui=Object.assign({appendTo:NE,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},_G,SG),EG=Object.keys(ui),xG=function(t){var n=Object.keys(t);n.forEach(function(r){ui[r]=t[r]})};function ME(e){var t=e.plugins||[],n=t.reduce(function(r,i){var a=i.name,o=i.defaultValue;if(a){var s;r[a]=e[a]!==void 0?e[a]:(s=ui[a])!=null?s:o}return r},{});return Object.assign({},e,n)}function kG(e,t){var n=t?Object.keys(ME(Object.assign({},ui,{plugins:t}))):EG,r=n.reduce(function(i,a){var o=(e.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return r}function zE(e,t){var n=Object.assign({},t,{content:OE(t.content,[e])},t.ignoreAttributes?{}:kG(e,t.plugins));return n.aria=Object.assign({},ui.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var TG=function(){return"innerHTML"};function Tm(e,t){e[TG()]=t}function BE(e){var t=cu();return e===!0?t.className=CE:(t.className=RE,nd(e)?t.appendChild(e):Tm(t,e)),t}function UE(e,t){nd(t.content)?(Tm(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Tm(e,t.content):e.textContent=t.content)}function Am(e){var t=e.firstElementChild,n=td(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(AE)}),arrow:n.find(function(r){return r.classList.contains(CE)||r.classList.contains(RE)}),backdrop:n.find(function(r){return r.classList.contains(oG)})}}function HE(e){var t=cu(),n=cu();n.className=aG,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=cu();r.className=AE,r.setAttribute("data-state","hidden"),UE(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(a,o){var s=Am(t),l=s.box,u=s.content,c=s.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(a.content!==o.content||a.allowHTML!==o.allowHTML)&&UE(u,e.props),o.arrow?c?a.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(BE(o.arrow))):l.appendChild(BE(o.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:i}}HE.$$tippy=!0;var AG=1,rd=[],Cm=[];function CG(e,t){var n=zE(e,Object.assign({},ui,ME(PE(t)))),r,i,a,o=!1,s=!1,l=!1,u=!1,c,f,d,p=[],v=IE(lt,n.interactiveDebounce),w,A=AG++,h=null,g=lG(n.plugins),b={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:A,reference:e,popper:cu(),popperInstance:h,props:n,state:b,plugins:g,clearDelayTimeouts:de,setProps:Ce,setContent:De,show:Me,hide:at,hideWithInteractivity:We,enable:be,disable:fe,unmount:$e,destroy:ht};if(!n.render)return m;var y=n.render(m),_=y.popper,x=y.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+m.id,m.popper=_,e._tippy=m,_._tippy=m;var S=g.map(function(X){return X.fn(m)}),M=e.hasAttribute("aria-expanded");return Ee(),k(),je(),E("onCreate",[m]),n.showOnCreate&&ce(),_.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),_.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&we().addEventListener("mousemove",v)}),m;function V(){var X=m.props.touch;return Array.isArray(X)?X:[X,0]}function Z(){return V()[0]==="hold"}function pe(){var X;return!!((X=m.props.render)!=null&&X.$$tippy)}function ge(){return w||e}function we(){var X=ge().parentNode;return X?pG(X):document}function ee(){return Am(_)}function Le(X){return m.state.isMounted&&!m.state.isVisible||Ai.isTouch||c&&c.type==="focus"?0:Sm(m.props.delay,X?0:1,ui.delay)}function je(X){X===void 0&&(X=!1),_.style.pointerEvents=m.props.interactive&&!X?"":"none",_.style.zIndex=""+m.props.zIndex}function E(X,me,Be){if(Be===void 0&&(Be=!0),S.forEach(function(Je){Je[X]&&Je[X].apply(Je,me)}),Be){var Qe;(Qe=m.props)[X].apply(Qe,me)}}function C(){var X=m.props.aria;if(!!X.content){var me="aria-"+X.content,Be=_.id,Qe=Os(m.props.triggerTarget||e);Qe.forEach(function(Je){var Rt=Je.getAttribute(me);if(m.state.isVisible)Je.setAttribute(me,Rt?Rt+" "+Be:Be);else{var bt=Rt&&Rt.replace(Be,"").trim();bt?Je.setAttribute(me,bt):Je.removeAttribute(me)}})}}function k(){if(!(M||!m.props.aria.expanded)){var X=Os(m.props.triggerTarget||e);X.forEach(function(me){m.props.interactive?me.setAttribute("aria-expanded",m.state.isVisible&&me===ge()?"true":"false"):me.removeAttribute("aria-expanded")})}}function L(){we().removeEventListener("mousemove",v),rd=rd.filter(function(X){return X!==v})}function z(X){if(!(Ai.isTouch&&(l||X.type==="mousedown"))){var me=X.composedPath&&X.composedPath()[0]||X.target;if(!(m.props.interactive&&$E(_,me))){if(Os(m.props.triggerTarget||e).some(function(Be){return $E(Be,me)})){if(Ai.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else E("onClickOutside",[m,X]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),s=!0,setTimeout(function(){s=!1}),m.state.isMounted||O())}}}function K(){l=!0}function ae(){l=!1}function ie(){var X=we();X.addEventListener("mousedown",z,!0),X.addEventListener("touchend",z,_o),X.addEventListener("touchstart",ae,_o),X.addEventListener("touchmove",K,_o)}function O(){var X=we();X.removeEventListener("mousedown",z,!0),X.removeEventListener("touchend",z,_o),X.removeEventListener("touchstart",ae,_o),X.removeEventListener("touchmove",K,_o)}function H(X,me){ve(X,function(){!m.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&me()})}function J(X,me){ve(X,me)}function ve(X,me){var Be=ee().box;function Qe(Je){Je.target===Be&&(km(Be,"remove",Qe),me())}if(X===0)return me();km(Be,"remove",f),km(Be,"add",Qe),f=Qe}function _e(X,me,Be){Be===void 0&&(Be=!1);var Qe=Os(m.props.triggerTarget||e);Qe.forEach(function(Je){Je.addEventListener(X,me,Be),p.push({node:Je,eventType:X,handler:me,options:Be})})}function Ee(){Z()&&(_e("touchstart",Ke,{passive:!0}),_e("touchend",ft,{passive:!0})),sG(m.props.trigger).forEach(function(X){if(X!=="manual")switch(_e(X,Ke),X){case"mouseenter":_e("mouseleave",ft);break;case"focus":_e(bG?"focusout":"blur",tt);break;case"focusin":_e("focusout",tt);break}})}function Re(){p.forEach(function(X){var me=X.node,Be=X.eventType,Qe=X.handler,Je=X.options;me.removeEventListener(Be,Qe,Je)}),p=[]}function Ke(X){var me,Be=!1;if(!(!m.state.isEnabled||it(X)||s)){var Qe=((me=c)==null?void 0:me.type)==="focus";c=X,w=X.currentTarget,k(),!m.state.isVisible&&fG(X)&&rd.forEach(function(Je){return Je(X)}),X.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||o)&&m.props.hideOnClick!==!1&&m.state.isVisible?Be=!0:ce(X),X.type==="click"&&(o=!Be),Be&&!Qe&&G(X)}}function lt(X){var me=X.target,Be=ge().contains(me)||_.contains(me);if(!(X.type==="mousemove"&&Be)){var Qe=W().concat(_).map(function(Je){var Rt,bt=Je._tippy,Tt=(Rt=bt.popperInstance)==null?void 0:Rt.state;return Tt?{popperRect:Je.getBoundingClientRect(),popperState:Tt,props:n}:null}).filter(Boolean);gG(Qe,X)&&(L(),G(X))}}function ft(X){var me=it(X)||m.props.trigger.indexOf("click")>=0&&o;if(!me){if(m.props.interactive){m.hideWithInteractivity(X);return}G(X)}}function tt(X){m.props.trigger.indexOf("focusin")<0&&X.target!==ge()||m.props.interactive&&X.relatedTarget&&_.contains(X.relatedTarget)||G(X)}function it(X){return Ai.isTouch?Z()!==X.type.indexOf("touch")>=0:!1}function yt(){N();var X=m.props,me=X.popperOptions,Be=X.placement,Qe=X.offset,Je=X.getReferenceClientRect,Rt=X.moveTransition,bt=pe()?Am(_).arrow:null,Tt=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||ge()}:e,sn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ue){var xe=ue.state;if(pe()){var dt=ee(),ot=dt.box;["placement","reference-hidden","escaped"].forEach(function(Et){Et==="placement"?ot.setAttribute("data-placement",xe.placement):xe.attributes.popper["data-popper-"+Et]?ot.setAttribute("data-"+Et,""):ot.removeAttribute("data-"+Et)}),xe.attributes.popper={}}}},At=[{name:"offset",options:{offset:Qe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Rt}},sn];pe()&&bt&&At.push({name:"arrow",options:{element:bt,padding:3}}),At.push.apply(At,(me==null?void 0:me.modifiers)||[]),m.popperInstance=iG(Tt,_,Object.assign({},me,{placement:Be,onFirstUpdate:d,modifiers:At}))}function N(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function j(){var X=m.props.appendTo,me,Be=ge();m.props.interactive&&X===NE||X==="parent"?me=Be.parentNode:me=OE(X,[Be]),me.contains(_)||me.appendChild(_),m.state.isMounted=!0,yt()}function W(){return td(_.querySelectorAll("[data-tippy-root]"))}function ce(X){m.clearDelayTimeouts(),X&&E("onTrigger",[m,X]),ie();var me=Le(!0),Be=V(),Qe=Be[0],Je=Be[1];Ai.isTouch&&Qe==="hold"&&Je&&(me=Je),me?r=setTimeout(function(){m.show()},me):m.show()}function G(X){if(m.clearDelayTimeouts(),E("onUntrigger",[m,X]),!m.state.isVisible){O();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(X.type)>=0&&o)){var me=Le(!1);me?i=setTimeout(function(){m.state.isVisible&&m.hide()},me):a=requestAnimationFrame(function(){m.hide()})}}function be(){m.state.isEnabled=!0}function fe(){m.hide(),m.state.isEnabled=!1}function de(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)}function Ce(X){if(!m.state.isDestroyed){E("onBeforeUpdate",[m,X]),Re();var me=m.props,Be=zE(e,Object.assign({},me,PE(X),{ignoreAttributes:!0}));m.props=Be,Ee(),me.interactiveDebounce!==Be.interactiveDebounce&&(L(),v=IE(lt,Be.interactiveDebounce)),me.triggerTarget&&!Be.triggerTarget?Os(me.triggerTarget).forEach(function(Qe){Qe.removeAttribute("aria-expanded")}):Be.triggerTarget&&e.removeAttribute("aria-expanded"),k(),je(),x&&x(me,Be),m.popperInstance&&(yt(),W().forEach(function(Qe){requestAnimationFrame(Qe._tippy.popperInstance.forceUpdate)})),E("onAfterUpdate",[m,X])}}function De(X){m.setProps({content:X})}function Me(){var X=m.state.isVisible,me=m.state.isDestroyed,Be=!m.state.isEnabled,Qe=Ai.isTouch&&!m.props.touch,Je=Sm(m.props.duration,0,ui.duration);if(!(X||me||Be||Qe)&&!ge().hasAttribute("disabled")&&(E("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,pe()&&(_.style.visibility="visible"),je(),ie(),m.state.isMounted||(_.style.transition="none"),pe()){var Rt=ee(),bt=Rt.box,Tt=Rt.content;xm([bt,Tt],0)}d=function(){var At;if(!(!m.state.isVisible||u)){if(u=!0,_.offsetHeight,_.style.transition=m.props.moveTransition,pe()&&m.props.animation){var ln=ee(),ue=ln.box,xe=ln.content;xm([ue,xe],Je),LE([ue,xe],"visible")}C(),k(),DE(Cm,m),(At=m.popperInstance)==null||At.forceUpdate(),E("onMount",[m]),m.props.animation&&pe()&&J(Je,function(){m.state.isShown=!0,E("onShown",[m])})}},j()}}function at(){var X=!m.state.isVisible,me=m.state.isDestroyed,Be=!m.state.isEnabled,Qe=Sm(m.props.duration,1,ui.duration);if(!(X||me||Be)&&(E("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,u=!1,o=!1,pe()&&(_.style.visibility="hidden"),L(),O(),je(!0),pe()){var Je=ee(),Rt=Je.box,bt=Je.content;m.props.animation&&(xm([Rt,bt],Qe),LE([Rt,bt],"hidden"))}C(),k(),m.props.animation?pe()&&H(Qe,m.unmount):m.unmount()}}function We(X){we().addEventListener("mousemove",v),DE(rd,v),v(X)}function $e(){m.state.isVisible&&m.hide(),m.state.isMounted&&(N(),W().forEach(function(X){X._tippy.unmount()}),_.parentNode&&_.parentNode.removeChild(_),Cm=Cm.filter(function(X){return X!==m}),m.state.isMounted=!1,E("onHidden",[m]))}function ht(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),Re(),delete e._tippy,m.state.isDestroyed=!0,E("onDestroy",[m]))}}function fu(e,t){t===void 0&&(t={});var n=ui.plugins.concat(t.plugins||[]);yG();var r=Object.assign({},t,{plugins:n}),i=hG(e),a=i.reduce(function(o,s){var l=s&&CG(s,r);return l&&o.push(l),o},[]);return nd(e)?a[0]:a}fu.defaultProps=ui,fu.setDefaultProps=xG,fu.currentInput=Ai,Object.assign({},dE,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),fu.setDefaultProps({render:HE});var Rm={exports:{}},Ar={},qE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,C){var k=E.length;E.push(C);e:for(;0<k;){var L=k-1>>>1,z=E[L];if(0<i(z,C))E[L]=C,E[k]=z,k=L;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var C=E[0],k=E.pop();if(k!==C){E[0]=k;e:for(var L=0,z=E.length,K=z>>>1;L<K;){var ae=2*(L+1)-1,ie=E[ae],O=ae+1,H=E[O];if(0>i(ie,k))O<z&&0>i(H,ie)?(E[L]=H,E[O]=k,L=O):(E[L]=ie,E[ae]=k,L=ae);else if(O<z&&0>i(H,k))E[L]=H,E[O]=k,L=O;else break e}}return C}function i(E,C){var k=E.sortIndex-C.sortIndex;return k!==0?k:E.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=E)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function m(E){if(w=!1,b(E),!v)if(n(l)!==null)v=!0,Le(y);else{var C=n(u);C!==null&&je(m,C.startTime-E)}}function y(E,C){v=!1,w&&(w=!1,h(S),S=-1),p=!0;var k=d;try{for(b(C),f=n(l);f!==null&&(!(f.expirationTime>C)||E&&!Z());){var L=f.callback;if(typeof L=="function"){f.callback=null,d=f.priorityLevel;var z=L(f.expirationTime<=C);C=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),b(C)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ae=n(u);ae!==null&&je(m,ae.startTime-C),K=!1}return K}finally{f=null,d=k,p=!1}}var _=!1,x=null,S=-1,M=5,V=-1;function Z(){return!(e.unstable_now()-V<M)}function pe(){if(x!==null){var E=e.unstable_now();V=E;var C=!0;try{C=x(!0,E)}finally{C?ge():(_=!1,x=null)}}else _=!1}var ge;if(typeof g=="function")ge=function(){g(pe)};else if(typeof MessageChannel!="undefined"){var we=new MessageChannel,ee=we.port2;we.port1.onmessage=pe,ge=function(){ee.postMessage(null)}}else ge=function(){A(pe,0)};function Le(E){x=E,_||(_=!0,ge())}function je(E,C){S=A(function(){E(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Le(y))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var C=3;break;default:C=d}var k=d;d=C;try{return E()}finally{d=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,C){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var k=d;d=E;try{return C()}finally{d=k}},e.unstable_scheduleCallback=function(E,C,k){var L=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?L+k:L):k=L,E){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=k+z,E={id:c++,callback:C,priorityLevel:E,startTime:k,expirationTime:z,sortIndex:-1},k>L?(E.sortIndex=k,t(u,E),n(l)===null&&E===n(u)&&(w?(h(S),S=-1):w=!0,je(m,k-L))):(E.sortIndex=z,t(l,E),v||p||(v=!0,Le(y))),E},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(E){var C=d;return function(){var k=d;d=C;try{return E.apply(this,arguments)}finally{d=k}}}})(WE),qE.exports=WE;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=st.exports,Cr=qE.exports;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GE=new Set,du={};function So(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(du[e]=t,e=0;e<t.length;e++)GE.add(t[e])}var Vi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Nm=Object.prototype.hasOwnProperty,RG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KE={},YE={};function NG(e){return Nm.call(YE,e)?!0:Nm.call(KE,e)?!1:RG.test(e)?YE[e]=!0:(KE[e]=!0,!1)}function OG(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IG(e,t,n,r){if(t===null||typeof t=="undefined"||OG(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pn[e]=new Jn(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pn[t]=new Jn(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pn[e]=new Jn(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pn[e]=new Jn(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pn[e]=new Jn(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Pn[e]=new Jn(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Pn[e]=new Jn(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Pn[e]=new Jn(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Pn[e]=new Jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Im(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Om,Im);Pn[t]=new Jn(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Om,Im);Pn[t]=new Jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Om,Im);Pn[t]=new Jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Pn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!1,!1)}),Pn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Pn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dm(e,t,n,r){var i=Pn.hasOwnProperty(t)?Pn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IG(t,n,i,r)&&(n=null),r||i===null?NG(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gi=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),$m=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),JE=Symbol.for("react.offscreen"),ZE=Symbol.iterator;function hu(e){return e===null||typeof e!="object"?null:(e=ZE&&e[ZE]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,zm;function pu(e){if(zm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zm=t&&t[1]||""}return`
`+zm+e}var Bm=!1;function Um(e,t){if(!e||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pu(e):""}function DG(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=Um(e.type,!1),e;case 11:return e=Um(e.type.render,!1),e;case 1:return e=Um(e.type,!0),e;default:return""}}function Hm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Ds:return"Portal";case Lm:return"Profiler";case Pm:return"StrictMode";case Fm:return"Suspense";case jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XE:return(e.displayName||"Context")+".Consumer";case QE:return(e._context.displayName||"Context")+".Provider";case $m:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mm:return t=e.displayName||null,t!==null?t:Hm(e.type)||"Memo";case ya:t=e._payload,e=e._init;try{return Hm(e(t))}catch{}}return null}function PG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hm(t);case 8:return t===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ex(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LG(e){var t=ex(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ad(e){e._valueTracker||(e._valueTracker=LG(e))}function tx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ex(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function od(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function qm(e,t){var n=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function nx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rx(e,t){t=t.checked,t!=null&&Dm(e,"checked",t,!1)}function Wm(e,t){rx(e,t);var n=wa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vm(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ix(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vm(e,t,n){(t!=="number"||od(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gu=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ax(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(gu(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wa(n)}}function ox(e,t){var n=wa(t.value),r=wa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Km(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sd,ux=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$G=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(e){$G.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vu[t]=vu[e]})});function cx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vu.hasOwnProperty(e)&&vu[e]?(""+t).trim():t+"px"}function fx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var FG=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ym(e,t){if(t){if(FG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=null;function Jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zm=null,$s=null,Fs=null;function dx(e){if(e=Mu(e)){if(typeof Zm!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Nd(t),Zm(e.stateNode,e.type,t))}}function hx(e){$s?Fs?Fs.push(e):Fs=[e]:$s=e}function px(){if($s){var e=$s,t=Fs;if(Fs=$s=null,dx(e),t)for(e=0;e<t.length;e++)dx(t[e])}}function gx(e,t){return e(t)}function mx(){}var ev=!1;function vx(e,t,n){if(ev)return e(t,n);ev=!0;try{return gx(e,t,n)}finally{ev=!1,($s!==null||Fs!==null)&&(mx(),px())}}function yu(e,t){var n=e.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var tv=!1;if(Vi)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){tv=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{tv=!1}function jG(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var bu=!1,ld=null,ud=!1,nv=null,MG={onError:function(e){bu=!0,ld=e}};function zG(e,t,n,r,i,a,o,s,l){bu=!1,ld=null,jG.apply(MG,arguments)}function BG(e,t,n,r,i,a,o,s,l){if(zG.apply(this,arguments),bu){if(bu){var u=ld;bu=!1,ld=null}else throw Error(ze(198));ud||(ud=!0,nv=u)}}function Eo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wx(e){if(Eo(e)!==e)throw Error(ze(188))}function UG(e){var t=e.alternate;if(!t){if(t=Eo(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return wx(i),e;if(a===r)return wx(i),t;a=a.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function bx(e){return e=UG(e),e!==null?_x(e):null}function _x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_x(e);if(t!==null)return t;e=e.sibling}return null}var Sx=Cr.unstable_scheduleCallback,Ex=Cr.unstable_cancelCallback,HG=Cr.unstable_shouldYield,qG=Cr.unstable_requestPaint,cn=Cr.unstable_now,WG=Cr.unstable_getCurrentPriorityLevel,rv=Cr.unstable_ImmediatePriority,xx=Cr.unstable_UserBlockingPriority,cd=Cr.unstable_NormalPriority,VG=Cr.unstable_LowPriority,kx=Cr.unstable_IdlePriority,fd=null,Ci=null;function GG(e){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(fd,e,void 0,(e.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:QG,KG=Math.log,YG=Math.LN2;function QG(e){return e>>>=0,e===0?32:31-(KG(e)/YG|0)|0}var dd=64,hd=4194304;function _u(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=_u(s):(a&=o,a!==0&&(r=_u(a)))}else o=n&~i,o!==0?r=_u(o):a!==0&&(r=_u(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ci(t),i=1<<n,r|=e[n],t&=~i;return r}function XG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JG(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ci(a),s=1<<o,l=i[o];l===-1?((s&n)===0||(s&r)!==0)&&(i[o]=XG(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function iv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=dd;return dd<<=1,(dd&4194240)===0&&(dd=64),e}function av(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Su(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ci(t),e[t]=n}function ZG(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ci(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function ov(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ci(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Mt=0;function Ax(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Cx,sv,Rx,Nx,Ox,lv=!1,gd=[],ba=null,_a=null,Sa=null,Eu=new Map,xu=new Map,Ea=[],eK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ix(e,t){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(t.pointerId)}}function ku(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mu(t),t!==null&&sv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tK(e,t,n,r,i){switch(t){case"focusin":return ba=ku(ba,e,t,n,r,i),!0;case"dragenter":return _a=ku(_a,e,t,n,r,i),!0;case"mouseover":return Sa=ku(Sa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Eu.set(a,ku(Eu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xu.set(a,ku(xu.get(a)||null,e,t,n,r,i)),!0}return!1}function Dx(e){var t=xo(e.target);if(t!==null){var n=Eo(t);if(n!==null){if(t=n.tag,t===13){if(t=yx(n),t!==null){e.blockedOn=t,Ox(e.priority,function(){Rx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function md(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return t=Mu(n),t!==null&&sv(t),e.blockedOn=n,!1;t.shift()}return!0}function Px(e,t,n){md(e)&&n.delete(t)}function nK(){lv=!1,ba!==null&&md(ba)&&(ba=null),_a!==null&&md(_a)&&(_a=null),Sa!==null&&md(Sa)&&(Sa=null),Eu.forEach(Px),xu.forEach(Px)}function Tu(e,t){e.blockedOn===t&&(e.blockedOn=null,lv||(lv=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,nK)))}function Au(e){function t(i){return Tu(i,e)}if(0<gd.length){Tu(gd[0],e);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ba!==null&&Tu(ba,e),_a!==null&&Tu(_a,e),Sa!==null&&Tu(Sa,e),Eu.forEach(t),xu.forEach(t),n=0;n<Ea.length;n++)r=Ea[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ea.length&&(n=Ea[0],n.blockedOn===null);)Dx(n),n.blockedOn===null&&Ea.shift()}var js=Gi.ReactCurrentBatchConfig,vd=!0;function rK(e,t,n,r){var i=Mt,a=js.transition;js.transition=null;try{Mt=1,uv(e,t,n,r)}finally{Mt=i,js.transition=a}}function iK(e,t,n,r){var i=Mt,a=js.transition;js.transition=null;try{Mt=4,uv(e,t,n,r)}finally{Mt=i,js.transition=a}}function uv(e,t,n,r){if(vd){var i=cv(e,t,n,r);if(i===null)Av(e,t,r,yd,n),Ix(e,r);else if(tK(i,e,t,n,r))r.stopPropagation();else if(Ix(e,r),t&4&&-1<eK.indexOf(e)){for(;i!==null;){var a=Mu(i);if(a!==null&&Cx(a),a=cv(e,t,n,r),a===null&&Av(e,t,r,yd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Av(e,t,r,null,n)}}var yd=null;function cv(e,t,n,r){if(yd=null,e=Jm(r),e=xo(e),e!==null)if(t=Eo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yd=e,null}function Lx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WG()){case rv:return 1;case xx:return 4;case cd:case VG:return 16;case kx:return 536870912;default:return 16}default:return 16}}var xa=null,fv=null,wd=null;function $x(){if(wd)return wd;var e,t=fv,n=t.length,r,i="value"in xa?xa.value:xa.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wd=i.slice(e,1<r?1-r:void 0)}function bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _d(){return!0}function Fx(){return!1}function Rr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_d:Fx,this.isPropagationStopped=Fx,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_d)},persist:function(){},isPersistent:_d}),t}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=Rr(Ms),Cu=Zt({},Ms,{view:0,detail:0}),aK=Rr(Cu),hv,pv,Ru,Sd=Zt({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ru&&(Ru&&e.type==="mousemove"?(hv=e.screenX-Ru.screenX,pv=e.screenY-Ru.screenY):pv=hv=0,Ru=e),hv)},movementY:function(e){return"movementY"in e?e.movementY:pv}}),jx=Rr(Sd),oK=Zt({},Sd,{dataTransfer:0}),sK=Rr(oK),lK=Zt({},Cu,{relatedTarget:0}),gv=Rr(lK),uK=Zt({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),cK=Rr(uK),fK=Zt({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dK=Rr(fK),hK=Zt({},Ms,{data:0}),Mx=Rr(hK),pK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mK[e])?!!t[e]:!1}function mv(){return vK}var yK=Zt({},Cu,{key:function(e){if(e.key){var t=pK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(e){return e.type==="keypress"?bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wK=Rr(yK),bK=Zt({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=Rr(bK),_K=Zt({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),SK=Rr(_K),EK=Zt({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),xK=Rr(EK),kK=Zt({},Sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TK=Rr(kK),AK=[9,13,27,32],vv=Vi&&"CompositionEvent"in window,Nu=null;Vi&&"documentMode"in document&&(Nu=document.documentMode);var CK=Vi&&"TextEvent"in window&&!Nu,Bx=Vi&&(!vv||Nu&&8<Nu&&11>=Nu),Ux=String.fromCharCode(32),Hx=!1;function qx(e,t){switch(e){case"keyup":return AK.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function RK(e,t){switch(e){case"compositionend":return Wx(t);case"keypress":return t.which!==32?null:(Hx=!0,Ux);case"textInput":return e=t.data,e===Ux&&Hx?null:e;default:return null}}function NK(e,t){if(zs)return e==="compositionend"||!vv&&qx(e,t)?(e=$x(),wd=fv=xa=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bx&&t.locale!=="ko"?null:t.data;default:return null}}var OK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OK[e.type]:t==="textarea"}function Gx(e,t,n,r){hx(r),t=Ad(t,"onChange"),0<t.length&&(n=new dv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ou=null,Iu=null;function IK(e){fk(e,0)}function Ed(e){var t=Ws(e);if(tx(t))return e}function DK(e,t){if(e==="change")return t}var Kx=!1;if(Vi){var yv;if(Vi){var wv="oninput"in document;if(!wv){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),wv=typeof Yx.oninput=="function"}yv=wv}else yv=!1;Kx=yv&&(!document.documentMode||9<document.documentMode)}function Qx(){Ou&&(Ou.detachEvent("onpropertychange",Xx),Iu=Ou=null)}function Xx(e){if(e.propertyName==="value"&&Ed(Iu)){var t=[];Gx(t,Iu,e,Jm(e)),vx(IK,t)}}function PK(e,t,n){e==="focusin"?(Qx(),Ou=t,Iu=n,Ou.attachEvent("onpropertychange",Xx)):e==="focusout"&&Qx()}function LK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ed(Iu)}function $K(e,t){if(e==="click")return Ed(t)}function FK(e,t){if(e==="input"||e==="change")return Ed(t)}function jK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fi=typeof Object.is=="function"?Object.is:jK;function Du(e,t){if(fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nm.call(t,i)||!fi(e[i],t[i]))return!1}return!0}function Jx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zx(e,t){var n=Jx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jx(n)}}function ek(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ek(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tk(){for(var e=window,t=od();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=od(e.document)}return t}function bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MK(e){var t=tk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ek(n.ownerDocument.documentElement,n)){if(r!==null&&bv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Zx(n,a);var o=Zx(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zK=Vi&&"documentMode"in document&&11>=document.documentMode,Bs=null,_v=null,Pu=null,Sv=!1;function nk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sv||Bs==null||Bs!==od(r)||(r=Bs,"selectionStart"in r&&bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&Du(Pu,r)||(Pu=r,r=Ad(_v,"onSelect"),0<r.length&&(t=new dv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bs)))}function xd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Us={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},Ev={},rk={};Vi&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function kd(e){if(Ev[e])return Ev[e];if(!Us[e])return e;var t=Us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rk)return Ev[e]=t[n];return e}var ik=kd("animationend"),ak=kd("animationiteration"),ok=kd("animationstart"),sk=kd("transitionend"),lk=new Map,uk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){lk.set(e,t),So(t,[e])}for(var xv=0;xv<uk.length;xv++){var kv=uk[xv],BK=kv.toLowerCase(),UK=kv[0].toUpperCase()+kv.slice(1);ka(BK,"on"+UK)}ka(ik,"onAnimationEnd"),ka(ak,"onAnimationIteration"),ka(ok,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(sk,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),So("onBeforeInput",["compositionend","keypress","textInput","paste"]),So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function ck(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BG(r,t,void 0,e),e.currentTarget=null}function fk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;ck(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;ck(i,s,u),a=l}}}if(ud)throw e=nv,ud=!1,nv=null,e}function Wt(e,t){var n=t[Dv];n===void 0&&(n=t[Dv]=new Set);var r=e+"__bubble";n.has(r)||(dk(t,e,2,!1),n.add(r))}function Tv(e,t,n){var r=0;t&&(r|=4),dk(n,e,r,t)}var Td="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Td]){e[Td]=!0,GE.forEach(function(n){n!=="selectionchange"&&(HK.has(n)||Tv(n,!1,e),Tv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Td]||(t[Td]=!0,Tv("selectionchange",!1,t))}}function dk(e,t,n,r){switch(Lx(t)){case 1:var i=rK;break;case 4:i=iK;break;default:i=uv}n=i.bind(null,t,n,e),i=void 0,!tv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Av(e,t,n,r,i){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=xo(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}vx(function(){var u=a,c=Jm(n),f=[];e:{var d=lk.get(e);if(d!==void 0){var p=dv,v=e;switch(e){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":p=wK;break;case"focusin":v="focus",p=gv;break;case"focusout":v="blur",p=gv;break;case"beforeblur":case"afterblur":p=gv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SK;break;case ik:case ak:case ok:p=cK;break;case sk:p=xK;break;case"scroll":p=aK;break;case"wheel":p=TK;break;case"copy":case"cut":case"paste":p=dK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zx}var w=(t&4)!==0,A=!w&&e==="scroll",h=w?d!==null?d+"Capture":null:d;w=[];for(var g=u,b;g!==null;){b=g;var m=b.stateNode;if(b.tag===5&&m!==null&&(b=m,h!==null&&(m=yu(g,h),m!=null&&w.push(Fu(g,m,b)))),A)break;g=g.return}0<w.length&&(d=new p(d,v,null,n,c),f.push({event:d,listeners:w}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Xm&&(v=n.relatedTarget||n.fromElement)&&(xo(v)||v[Ki]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?xo(v):null,v!==null&&(A=Eo(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=jx,m="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=zx,m="onPointerLeave",h="onPointerEnter",g="pointer"),A=p==null?d:Ws(p),b=v==null?d:Ws(v),d=new w(m,g+"leave",p,n,c),d.target=A,d.relatedTarget=b,m=null,xo(c)===u&&(w=new w(h,g+"enter",v,n,c),w.target=b,w.relatedTarget=A,m=w),A=m,p&&v)t:{for(w=p,h=v,g=0,b=w;b;b=Hs(b))g++;for(b=0,m=h;m;m=Hs(m))b++;for(;0<g-b;)w=Hs(w),g--;for(;0<b-g;)h=Hs(h),b--;for(;g--;){if(w===h||h!==null&&w===h.alternate)break t;w=Hs(w),h=Hs(h)}w=null}else w=null;p!==null&&hk(f,d,p,w,!1),v!==null&&A!==null&&hk(f,A,v,w,!0)}}e:{if(d=u?Ws(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var y=DK;else if(Vx(d))if(Kx)y=FK;else{y=LK;var _=PK}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(y=$K);if(y&&(y=y(e,u))){Gx(f,y,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Vm(d,"number",d.value)}switch(_=u?Ws(u):window,e){case"focusin":(Vx(_)||_.contentEditable==="true")&&(Bs=_,_v=u,Pu=null);break;case"focusout":Pu=_v=Bs=null;break;case"mousedown":Sv=!0;break;case"contextmenu":case"mouseup":case"dragend":Sv=!1,nk(f,n,c);break;case"selectionchange":if(zK)break;case"keydown":case"keyup":nk(f,n,c)}var x;if(vv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else zs?qx(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Bx&&n.locale!=="ko"&&(zs||S!=="onCompositionStart"?S==="onCompositionEnd"&&zs&&(x=$x()):(xa=c,fv="value"in xa?xa.value:xa.textContent,zs=!0)),_=Ad(u,S),0<_.length&&(S=new Mx(S,e,null,n,c),f.push({event:S,listeners:_}),x?S.data=x:(x=Wx(n),x!==null&&(S.data=x)))),(x=CK?RK(e,n):NK(e,n))&&(u=Ad(u,"onBeforeInput"),0<u.length&&(c=new Mx("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}fk(f,t)})}function Fu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ad(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yu(e,n),a!=null&&r.unshift(Fu(e,a,i)),a=yu(e,t),a!=null&&r.push(Fu(e,a,i))),e=e.return}return r}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hk(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=yu(n,a),l!=null&&o.unshift(Fu(n,l,s))):i||(l=yu(n,a),l!=null&&o.push(Fu(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qK=/\r\n?/g,WK=/\u0000|\uFFFD/g;function pk(e){return(typeof e=="string"?e:""+e).replace(qK,`
`).replace(WK,"")}function Cd(e,t,n){if(t=pk(t),pk(e)!==t&&n)throw Error(ze(425))}function Rd(){}var Cv=null,Rv=null;function Nv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ov=typeof setTimeout=="function"?setTimeout:void 0,VK=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,GK=typeof queueMicrotask=="function"?queueMicrotask:typeof gk!="undefined"?function(e){return gk.resolve(null).then(e).catch(KK)}:Ov;function KK(e){setTimeout(function(){throw e})}function Iv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Au(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(t)}function Ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Ri="__reactFiber$"+qs,ju="__reactProps$"+qs,Ki="__reactContainer$"+qs,Dv="__reactEvents$"+qs,YK="__reactListeners$"+qs,QK="__reactHandles$"+qs;function xo(e){var t=e[Ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ki]||n[Ri]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mk(e);e!==null;){if(n=e[Ri])return n;e=mk(e)}return t}e=n,n=e.parentNode}return null}function Mu(e){return e=e[Ri]||e[Ki],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Nd(e){return e[ju]||null}var Pv=[],Vs=-1;function Aa(e){return{current:e}}function Vt(e){0>Vs||(e.current=Pv[Vs],Pv[Vs]=null,Vs--)}function Ht(e,t){Vs++,Pv[Vs]=e.current,e.current=t}var Ca={},Bn=Aa(Ca),dr=Aa(!1),ko=Ca;function Gs(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function hr(e){return e=e.childContextTypes,e!=null}function Od(){Vt(dr),Vt(Bn)}function vk(e,t,n){if(Bn.current!==Ca)throw Error(ze(168));Ht(Bn,t),Ht(dr,n)}function yk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,PG(e)||"Unknown",i));return Zt({},n,r)}function Id(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,ko=Bn.current,Ht(Bn,e),Ht(dr,dr.current),!0}function wk(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=yk(e,t,ko),r.__reactInternalMemoizedMergedChildContext=e,Vt(dr),Vt(Bn),Ht(Bn,e)):Vt(dr),Ht(dr,n)}var Yi=null,Dd=!1,Lv=!1;function bk(e){Yi===null?Yi=[e]:Yi.push(e)}function XK(e){Dd=!0,bk(e)}function Ra(){if(!Lv&&Yi!==null){Lv=!0;var e=0,t=Mt;try{var n=Yi;for(Mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yi=null,Dd=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(e+1)),Sx(rv,Ra),i}finally{Mt=t,Lv=!1}}return null}var Ks=[],Ys=0,Pd=null,Ld=0,Br=[],Ur=0,To=null,Qi=1,Xi="";function Ao(e,t){Ks[Ys++]=Ld,Ks[Ys++]=Pd,Pd=e,Ld=t}function _k(e,t,n){Br[Ur++]=Qi,Br[Ur++]=Xi,Br[Ur++]=To,To=e;var r=Qi;e=Xi;var i=32-ci(r)-1;r&=~(1<<i),n+=1;var a=32-ci(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ci(t)+i|n<<i|r,Xi=a+e}else Qi=1<<a|n<<i|r,Xi=e}function $v(e){e.return!==null&&(Ao(e,1),_k(e,1,0))}function Fv(e){for(;e===Pd;)Pd=Ks[--Ys],Ks[Ys]=null,Ld=Ks[--Ys],Ks[Ys]=null;for(;e===To;)To=Br[--Ur],Br[Ur]=null,Xi=Br[--Ur],Br[Ur]=null,Qi=Br[--Ur],Br[Ur]=null}var Nr=null,Or=null,Yt=!1,di=null;function Sk(e,t){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ek(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nr=e,Or=Ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nr=e,Or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=To!==null?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nr=e,Or=null,!0):!1;default:return!1}}function jv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mv(e){if(Yt){var t=Or;if(t){var n=t;if(!Ek(e,t)){if(jv(e))throw Error(ze(418));t=Ta(n.nextSibling);var r=Nr;t&&Ek(e,t)?Sk(r,n):(e.flags=e.flags&-4097|2,Yt=!1,Nr=e)}}else{if(jv(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Yt=!1,Nr=e}}}function xk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nr=e}function $d(e){if(e!==Nr)return!1;if(!Yt)return xk(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nv(e.type,e.memoizedProps)),t&&(t=Or)){if(jv(e))throw kk(),Error(ze(418));for(;t;)Sk(e,t),t=Ta(t.nextSibling)}if(xk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Or=Ta(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Or=null}}else Or=Nr?Ta(e.stateNode.nextSibling):null;return!0}function kk(){for(var e=Or;e;)e=Ta(e.nextSibling)}function Qs(){Or=Nr=null,Yt=!1}function zv(e){di===null?di=[e]:di.push(e)}var JK=Gi.ReactCurrentBatchConfig;function hi(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Fd=Aa(null),jd=null,Xs=null,Bv=null;function Uv(){Bv=Xs=jd=null}function Hv(e){var t=Fd.current;Vt(Fd),e._currentValue=t}function qv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t){jd=e,Bv=Xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pr=!0),e.firstContext=null)}function Hr(e){var t=e._currentValue;if(Bv!==e)if(e={context:e,memoizedValue:t,next:null},Xs===null){if(jd===null)throw Error(ze(308));Xs=e,jd.dependencies={lanes:0,firstContext:e}}else Xs=Xs.next=e;return t}var Co=null;function Wv(e){Co===null?Co=[e]:Co.push(e)}function Tk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ji(e,r)}function Ji(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Na=!1;function Vv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ak(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ot&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ji(e,n)}return i=r.interleaved,i===null?(t.next=t,Wv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ji(e,n)}function Md(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ov(e,n)}}function Ck(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zd(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,w=s;switch(d=t,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=Zt({},f,d);break e;case 2:Na=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Oo|=o,e.lanes=o,e.memoizedState=f}}function Rk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var Nk=new VE.Component().refs;function Gv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bd={isMounted:function(e){return(e=e._reactInternals)?Eo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=er(),i=La(e),a=Zi(r,i);a.payload=t,n!=null&&(a.callback=n),t=Oa(e,a,i),t!==null&&(mi(t,e,i,r),Md(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=er(),i=La(e),a=Zi(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Oa(e,a,i),t!==null&&(mi(t,e,i,r),Md(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=er(),r=La(e),i=Zi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Oa(e,i,r),t!==null&&(mi(t,e,r,n),Md(t,e,r))}};function Ok(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Du(n,r)||!Du(i,a):!0}function Ik(e,t,n){var r=!1,i=Ca,a=t.contextType;return typeof a=="object"&&a!==null?a=Hr(a):(i=hr(t)?ko:Bn.current,r=t.contextTypes,a=(r=r!=null)?Gs(e,i):Ca),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Dk(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bd.enqueueReplaceState(t,t.state,null)}function Kv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Nk,Vv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Hr(a):(a=hr(t)?ko:Bn.current,i.context=Gs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gv(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bd.enqueueReplaceState(i,i.state,null),zd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;s===Nk&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function Ud(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pk(e){var t=e._init;return t(e._payload)}function Lk(e){function t(h,g){if(e){var b=h.deletions;b===null?(h.deletions=[g],h.flags|=16):b.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=Fa(h,g),h.index=0,h.sibling=null,h}function a(h,g,b){return h.index=b,e?(b=h.alternate,b!==null?(b=b.index,b<g?(h.flags|=2,g):b):(h.flags|=2,g)):(h.flags|=1048576,g)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function s(h,g,b,m){return g===null||g.tag!==6?(g=Oy(b,h.mode,m),g.return=h,g):(g=i(g,b),g.return=h,g)}function l(h,g,b,m){var y=b.type;return y===Ps?c(h,g,b.props.children,m,b.key):g!==null&&(g.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ya&&Pk(y)===g.type)?(m=i(g,b.props),m.ref=zu(h,g,b),m.return=h,m):(m=sh(b.type,b.key,b.props,null,h.mode,m),m.ref=zu(h,g,b),m.return=h,m)}function u(h,g,b,m){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Iy(b,h.mode,m),g.return=h,g):(g=i(g,b.children||[]),g.return=h,g)}function c(h,g,b,m,y){return g===null||g.tag!==7?(g=Lo(b,h.mode,m,y),g.return=h,g):(g=i(g,b),g.return=h,g)}function f(h,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Oy(""+g,h.mode,b),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case id:return b=sh(g.type,g.key,g.props,null,h.mode,b),b.ref=zu(h,null,g),b.return=h,b;case Ds:return g=Iy(g,h.mode,b),g.return=h,g;case ya:var m=g._init;return f(h,m(g._payload),b)}if(gu(g)||hu(g))return g=Lo(g,h.mode,b,null),g.return=h,g;Ud(h,g)}return null}function d(h,g,b,m){var y=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return y!==null?null:s(h,g,""+b,m);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case id:return b.key===y?l(h,g,b,m):null;case Ds:return b.key===y?u(h,g,b,m):null;case ya:return y=b._init,d(h,g,y(b._payload),m)}if(gu(b)||hu(b))return y!==null?null:c(h,g,b,m,null);Ud(h,b)}return null}function p(h,g,b,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return h=h.get(b)||null,s(g,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case id:return h=h.get(m.key===null?b:m.key)||null,l(g,h,m,y);case Ds:return h=h.get(m.key===null?b:m.key)||null,u(g,h,m,y);case ya:var _=m._init;return p(h,g,b,_(m._payload),y)}if(gu(m)||hu(m))return h=h.get(b)||null,c(g,h,m,y,null);Ud(g,m)}return null}function v(h,g,b,m){for(var y=null,_=null,x=g,S=g=0,M=null;x!==null&&S<b.length;S++){x.index>S?(M=x,x=null):M=x.sibling;var V=d(h,x,b[S],m);if(V===null){x===null&&(x=M);break}e&&x&&V.alternate===null&&t(h,x),g=a(V,g,S),_===null?y=V:_.sibling=V,_=V,x=M}if(S===b.length)return n(h,x),Yt&&Ao(h,S),y;if(x===null){for(;S<b.length;S++)x=f(h,b[S],m),x!==null&&(g=a(x,g,S),_===null?y=x:_.sibling=x,_=x);return Yt&&Ao(h,S),y}for(x=r(h,x);S<b.length;S++)M=p(x,h,S,b[S],m),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?S:M.key),g=a(M,g,S),_===null?y=M:_.sibling=M,_=M);return e&&x.forEach(function(Z){return t(h,Z)}),Yt&&Ao(h,S),y}function w(h,g,b,m){var y=hu(b);if(typeof y!="function")throw Error(ze(150));if(b=y.call(b),b==null)throw Error(ze(151));for(var _=y=null,x=g,S=g=0,M=null,V=b.next();x!==null&&!V.done;S++,V=b.next()){x.index>S?(M=x,x=null):M=x.sibling;var Z=d(h,x,V.value,m);if(Z===null){x===null&&(x=M);break}e&&x&&Z.alternate===null&&t(h,x),g=a(Z,g,S),_===null?y=Z:_.sibling=Z,_=Z,x=M}if(V.done)return n(h,x),Yt&&Ao(h,S),y;if(x===null){for(;!V.done;S++,V=b.next())V=f(h,V.value,m),V!==null&&(g=a(V,g,S),_===null?y=V:_.sibling=V,_=V);return Yt&&Ao(h,S),y}for(x=r(h,x);!V.done;S++,V=b.next())V=p(x,h,S,V.value,m),V!==null&&(e&&V.alternate!==null&&x.delete(V.key===null?S:V.key),g=a(V,g,S),_===null?y=V:_.sibling=V,_=V);return e&&x.forEach(function(pe){return t(h,pe)}),Yt&&Ao(h,S),y}function A(h,g,b,m){if(typeof b=="object"&&b!==null&&b.type===Ps&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case id:e:{for(var y=b.key,_=g;_!==null;){if(_.key===y){if(y=b.type,y===Ps){if(_.tag===7){n(h,_.sibling),g=i(_,b.props.children),g.return=h,h=g;break e}}else if(_.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ya&&Pk(y)===_.type){n(h,_.sibling),g=i(_,b.props),g.ref=zu(h,_,b),g.return=h,h=g;break e}n(h,_);break}else t(h,_);_=_.sibling}b.type===Ps?(g=Lo(b.props.children,h.mode,m,b.key),g.return=h,h=g):(m=sh(b.type,b.key,b.props,null,h.mode,m),m.ref=zu(h,g,b),m.return=h,h=m)}return o(h);case Ds:e:{for(_=b.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(h,g.sibling),g=i(g,b.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Iy(b,h.mode,m),g.return=h,h=g}return o(h);case ya:return _=b._init,A(h,g,_(b._payload),m)}if(gu(b))return v(h,g,b,m);if(hu(b))return w(h,g,b,m);Ud(h,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(h,g.sibling),g=i(g,b),g.return=h,h=g):(n(h,g),g=Oy(b,h.mode,m),g.return=h,h=g),o(h)):n(h,g)}return A}var Zs=Lk(!0),$k=Lk(!1),Bu={},Ni=Aa(Bu),Uu=Aa(Bu),Hu=Aa(Bu);function Ro(e){if(e===Bu)throw Error(ze(174));return e}function Yv(e,t){switch(Ht(Hu,t),Ht(Uu,e),Ht(Ni,Bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Km(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Km(t,e)}Vt(Ni),Ht(Ni,t)}function el(){Vt(Ni),Vt(Uu),Vt(Hu)}function Fk(e){Ro(Hu.current);var t=Ro(Ni.current),n=Km(t,e.type);t!==n&&(Ht(Uu,e),Ht(Ni,n))}function Qv(e){Uu.current===e&&(Vt(Ni),Vt(Uu))}var en=Aa(0);function Hd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xv=[];function Jv(){for(var e=0;e<Xv.length;e++)Xv[e]._workInProgressVersionPrimary=null;Xv.length=0}var qd=Gi.ReactCurrentDispatcher,Zv=Gi.ReactCurrentBatchConfig,No=0,tn=null,vn=null,kn=null,Wd=!1,qu=!1,Wu=0,ZK=0;function Un(){throw Error(ze(321))}function ey(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fi(e[n],t[n]))return!1;return!0}function ty(e,t,n,r,i,a){if(No=a,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qd.current=e===null||e.memoizedState===null?rY:iY,e=n(r,i),qu){a=0;do{if(qu=!1,Wu=0,25<=a)throw Error(ze(301));a+=1,kn=vn=null,t.updateQueue=null,qd.current=aY,e=n(r,i)}while(qu)}if(qd.current=Kd,t=vn!==null&&vn.next!==null,No=0,kn=vn=tn=null,Wd=!1,t)throw Error(ze(300));return e}function ny(){var e=Wu!==0;return Wu=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?tn.memoizedState=kn=e:kn=kn.next=e,kn}function qr(){if(vn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=vn.next;var t=kn===null?tn.memoizedState:kn.next;if(t!==null)kn=t,vn=e;else{if(e===null)throw Error(ze(310));vn=e,e={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},kn===null?tn.memoizedState=kn=e:kn=kn.next=e}return kn}function Vu(e,t){return typeof t=="function"?t(e):t}function ry(e){var t=qr(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=vn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((No&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,tn.lanes|=c,Oo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,fi(r,t.memoizedState)||(pr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tn.lanes|=a,Oo|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function iy(e){var t=qr(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);fi(a,t.memoizedState)||(pr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jk(){}function Mk(e,t){var n=tn,r=qr(),i=t(),a=!fi(r.memoizedState,i);if(a&&(r.memoizedState=i,pr=!0),r=r.queue,ay(Uk.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,Gu(9,Bk.bind(null,n,r,i,t),void 0,null),Tn===null)throw Error(ze(349));(No&30)!==0||zk(n,t,i)}return i}function zk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bk(e,t,n,r){t.value=n,t.getSnapshot=r,Hk(t)&&qk(e)}function Uk(e,t,n){return n(function(){Hk(t)&&qk(e)})}function Hk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fi(e,n)}catch{return!0}}function qk(e){var t=Ji(e,1);t!==null&&mi(t,e,1,-1)}function Wk(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:e},t.queue=e,e=e.dispatch=nY.bind(null,tn,e),[t.memoizedState,e]}function Gu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vk(){return qr().memoizedState}function Vd(e,t,n,r){var i=Oi();tn.flags|=e,i.memoizedState=Gu(1|t,n,void 0,r===void 0?null:r)}function Gd(e,t,n,r){var i=qr();r=r===void 0?null:r;var a=void 0;if(vn!==null){var o=vn.memoizedState;if(a=o.destroy,r!==null&&ey(r,o.deps)){i.memoizedState=Gu(t,n,a,r);return}}tn.flags|=e,i.memoizedState=Gu(1|t,n,a,r)}function Gk(e,t){return Vd(8390656,8,e,t)}function ay(e,t){return Gd(2048,8,e,t)}function Kk(e,t){return Gd(4,2,e,t)}function Yk(e,t){return Gd(4,4,e,t)}function Qk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xk(e,t,n){return n=n!=null?n.concat([e]):null,Gd(4,4,Qk.bind(null,t,e),n)}function oy(){}function Jk(e,t){var n=qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ey(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zk(e,t){var n=qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ey(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function eT(e,t,n){return(No&21)===0?(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=n):(fi(n,t)||(n=Tx(),tn.lanes|=n,Oo|=n,e.baseState=!0),t)}function eY(e,t){var n=Mt;Mt=n!==0&&4>n?n:4,e(!0);var r=Zv.transition;Zv.transition={};try{e(!1),t()}finally{Mt=n,Zv.transition=r}}function tT(){return qr().memoizedState}function tY(e,t,n){var r=La(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nT(e))rT(t,n);else if(n=Tk(e,t,n,r),n!==null){var i=er();mi(n,e,r,i),iT(n,t,r)}}function nY(e,t,n){var r=La(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nT(e))rT(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,fi(s,o)){var l=t.interleaved;l===null?(i.next=i,Wv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Tk(e,t,i,r),n!==null&&(i=er(),mi(n,e,r,i),iT(n,t,r))}}function nT(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function rT(e,t){qu=Wd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iT(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ov(e,n)}}var Kd={readContext:Hr,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},rY={readContext:Hr,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Hr,useEffect:Gk,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vd(4194308,4,Qk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vd(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tY.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:Wk,useDebugValue:oy,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Wk(!1),t=e[0];return e=eY.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,i=Oi();if(Yt){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),Tn===null)throw Error(ze(349));(No&30)!==0||zk(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Gk(Uk.bind(null,r,a,e),[e]),r.flags|=2048,Gu(9,Bk.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Tn.identifierPrefix;if(Yt){var n=Xi,r=Qi;n=(r&~(1<<32-ci(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iY={readContext:Hr,useCallback:Jk,useContext:Hr,useEffect:ay,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Yk,useMemo:Zk,useReducer:ry,useRef:Vk,useState:function(){return ry(Vu)},useDebugValue:oy,useDeferredValue:function(e){var t=qr();return eT(t,vn.memoizedState,e)},useTransition:function(){var e=ry(Vu)[0],t=qr().memoizedState;return[e,t]},useMutableSource:jk,useSyncExternalStore:Mk,useId:tT,unstable_isNewReconciler:!1},aY={readContext:Hr,useCallback:Jk,useContext:Hr,useEffect:ay,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Yk,useMemo:Zk,useReducer:iy,useRef:Vk,useState:function(){return iy(Vu)},useDebugValue:oy,useDeferredValue:function(e){var t=qr();return vn===null?t.memoizedState=e:eT(t,vn.memoizedState,e)},useTransition:function(){var e=iy(Vu)[0],t=qr().memoizedState;return[e,t]},useMutableSource:jk,useSyncExternalStore:Mk,useId:tT,unstable_isNewReconciler:!1};function tl(e,t){try{var n="",r=t;do n+=DG(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function sy(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ly(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oY=typeof WeakMap=="function"?WeakMap:Map;function aT(e,t,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){th||(th=!0,Ey=r),ly(e,t)},n}function oT(e,t,n){n=Zi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ly(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ly(e,t),typeof r!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oY;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bY.bind(null,e,t,n),t.then(e,e))}function lT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uT(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zi(-1,1),t.tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var sY=Gi.ReactCurrentOwner,pr=!1;function Zn(e,t,n,r){t.child=e===null?$k(t,null,n,r):Zs(t,e.child,n,r)}function cT(e,t,n,r,i){n=n.render;var a=t.ref;return Js(t,i),r=ty(e,t,n,r,a,i),n=ny(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ea(e,t,i)):(Yt&&n&&$v(t),t.flags|=1,Zn(e,t,r,i),t.child)}function fT(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Ny(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,dT(e,t,a,r,i)):(e=sh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&i)===0){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&e.ref===t.ref)return ea(e,t,i)}return t.flags|=1,e=Fa(a,r),e.ref=t.ref,e.return=t,t.child=e}function dT(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Du(a,r)&&e.ref===t.ref)if(pr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)(e.flags&131072)!==0&&(pr=!0);else return t.lanes=e.lanes,ea(e,t,i)}return uy(e,t,n,r,i)}function hT(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(rl,Ir),Ir|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ht(rl,Ir),Ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ht(rl,Ir),Ir|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ht(rl,Ir),Ir|=r;return Zn(e,t,i,n),t.child}function pT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uy(e,t,n,r,i){var a=hr(n)?ko:Bn.current;return a=Gs(t,a),Js(t,i),n=ty(e,t,n,r,a,i),r=ny(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ea(e,t,i)):(Yt&&r&&$v(t),t.flags|=1,Zn(e,t,n,i),t.child)}function gT(e,t,n,r,i){if(hr(n)){var a=!0;Id(t)}else a=!1;if(Js(t,i),t.stateNode===null)Qd(e,t),Ik(t,n,r),Kv(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hr(u):(u=hr(n)?ko:Bn.current,u=Gs(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Dk(t,o,r,u),Na=!1;var d=t.memoizedState;o.state=d,zd(t,r,o,i),l=t.memoizedState,s!==r||d!==l||dr.current||Na?(typeof c=="function"&&(Gv(t,n,c,r),l=t.memoizedState),(s=Na||Ok(t,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ak(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:hi(t.type,s),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=hr(n)?ko:Bn.current,l=Gs(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Dk(t,o,r,l),Na=!1,d=t.memoizedState,o.state=d,zd(t,r,o,i);var v=t.memoizedState;s!==f||d!==v||dr.current||Na?(typeof p=="function"&&(Gv(t,n,p,r),v=t.memoizedState),(u=Na||Ok(t,n,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return cy(e,t,n,r,a,i)}function cy(e,t,n,r,i,a){pT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&wk(t,n,!1),ea(e,t,a);r=t.stateNode,sY.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zs(t,e.child,null,a),t.child=Zs(t,null,s,a)):Zn(e,t,s,a),t.memoizedState=r.state,i&&wk(t,n,!0),t.child}function mT(e){var t=e.stateNode;t.pendingContext?vk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vk(e,t.context,!1),Yv(e,t.containerInfo)}function vT(e,t,n,r,i){return Qs(),zv(i),t.flags|=256,Zn(e,t,n,r),t.child}var fy={dehydrated:null,treeContext:null,retryLane:0};function dy(e){return{baseLanes:e,cachePool:null,transitions:null}}function yT(e,t,n){var r=t.pendingProps,i=en.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ht(en,i&1),e===null)return Mv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=lh(o,r,0,null),e=Lo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dy(n),t.memoizedState=fy,e):hy(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return lY(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Fa(s,a):(a=Lo(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?dy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=fy,r}return a=e.child,e=a.sibling,r=Fa(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hy(e,t){return t=lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yd(e,t,n,r){return r!==null&&zv(r),Zs(t,e.child,null,n),e=hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lY(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=sy(Error(ze(422))),Yd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=lh({mode:"visible",children:r.children},i,0,null),a=Lo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Zs(t,e.child,null,o),t.child.memoizedState=dy(o),t.memoizedState=fy,a);if((t.mode&1)===0)return Yd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(ze(419)),r=sy(a,r,void 0),Yd(e,t,o,r)}if(s=(o&e.childLanes)!==0,pr||s){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ji(e,i),mi(r,e,i,-1))}return Ry(),r=sy(Error(ze(421))),Yd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_Y.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Or=Ta(i.nextSibling),Nr=t,Yt=!0,di=null,e!==null&&(Br[Ur++]=Qi,Br[Ur++]=Xi,Br[Ur++]=To,Qi=e.id,Xi=e.overflow,To=t),t=hy(t,r.children),t.flags|=4096,t)}function wT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qv(e.return,t,n)}function py(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function bT(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zn(e,t,r.children,n),r=en.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wT(e,n,t);else if(e.tag===19)wT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ht(en,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),py(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}py(t,!0,n,null,a);break;case"together":py(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qd(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oo|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=Fa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uY(e,t,n){switch(t.tag){case 3:mT(t),Qs();break;case 5:Fk(t);break;case 1:hr(t.type)&&Id(t);break;case 4:Yv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ht(Fd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ht(en,en.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yT(e,t,n):(Ht(en,en.current&1),e=ea(e,t,n),e!==null?e.sibling:null);Ht(en,en.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return bT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(en,en.current),r)break;return null;case 22:case 23:return t.lanes=0,hT(e,t,n)}return ea(e,t,n)}var _T,gy,ST,ET;_T=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gy=function(){},ST=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ro(Ni.current);var a=null;switch(n){case"input":i=qm(e,i),r=qm(e,r),a=[];break;case"select":i=Zt({},i,{value:void 0}),r=Zt({},r,{value:void 0}),a=[];break;case"textarea":i=Gm(e,i),r=Gm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rd)}Ym(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(du.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(du.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wt("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},ET=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ku(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cY(e,t,n){var r=t.pendingProps;switch(Fv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(t),null;case 1:return hr(t.type)&&Od(),Hn(t),null;case 3:return r=t.stateNode,el(),Vt(dr),Vt(Bn),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($d(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,di!==null&&(Ty(di),di=null))),gy(e,t),Hn(t),null;case 5:Qv(t);var i=Ro(Hu.current);if(n=t.type,e!==null&&t.stateNode!=null)ST(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Hn(t),null}if(e=Ro(Ni.current),$d(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ri]=t,r[ju]=a,e=(t.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<Lu.length;i++)Wt(Lu[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":nx(r,a),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wt("invalid",r);break;case"textarea":ax(r,a),Wt("invalid",r)}Ym(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Cd(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Cd(r.textContent,s,e),i=["children",""+s]):du.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Wt("scroll",r)}switch(n){case"input":ad(r),ix(r,a,!0);break;case"textarea":ad(r),sx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Rd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ri]=t,e[ju]=r,_T(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qm(n,r),n){case"dialog":Wt("cancel",e),Wt("close",e),i=r;break;case"iframe":case"object":case"embed":Wt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lu.length;i++)Wt(Lu[i],e);i=r;break;case"source":Wt("error",e),i=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),i=r;break;case"details":Wt("toggle",e),i=r;break;case"input":nx(e,r),i=qm(e,r),Wt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Zt({},r,{value:void 0}),Wt("invalid",e);break;case"textarea":ax(e,r),i=Gm(e,r),Wt("invalid",e);break;default:i=r}Ym(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?fx(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ux(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mu(e,l):typeof l=="number"&&mu(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(du.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Wt("scroll",e):l!=null&&Dm(e,a,l,o))}switch(n){case"input":ad(e),ix(e,r,!1);break;case"textarea":ad(e),sx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wa(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hn(t),null;case 6:if(e&&t.stateNode!=null)ET(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Ro(Hu.current),Ro(Ni.current),$d(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ri]=t,(a=r.nodeValue!==n)&&(e=Nr,e!==null))switch(e.tag){case 3:Cd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cd(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ri]=t,t.stateNode=r}return Hn(t),null;case 13:if(Vt(en),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Or!==null&&(t.mode&1)!==0&&(t.flags&128)===0)kk(),Qs(),t.flags|=98560,a=!1;else if(a=$d(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[Ri]=t}else Qs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Hn(t),a=!1}else di!==null&&(Ty(di),di=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(en.current&1)!==0?yn===0&&(yn=3):Ry())),t.updateQueue!==null&&(t.flags|=4),Hn(t),null);case 4:return el(),gy(e,t),e===null&&$u(t.stateNode.containerInfo),Hn(t),null;case 10:return Hv(t.type._context),Hn(t),null;case 17:return hr(t.type)&&Od(),Hn(t),null;case 19:if(Vt(en),a=t.memoizedState,a===null)return Hn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ku(a,!1);else{if(yn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Hd(e),o!==null){for(t.flags|=128,Ku(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ht(en,en.current&1|2),t.child}e=e.sibling}a.tail!==null&&cn()>il&&(t.flags|=128,r=!0,Ku(a,!1),t.lanes=4194304)}else{if(!r)if(e=Hd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ku(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Yt)return Hn(t),null}else 2*cn()-a.renderingStartTime>il&&n!==1073741824&&(t.flags|=128,r=!0,Ku(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=cn(),t.sibling=null,n=en.current,Ht(en,r?n&1|2:n&1),t):(Hn(t),null);case 22:case 23:return Cy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ir&1073741824)!==0&&(Hn(t),t.subtreeFlags&6&&(t.flags|=8192)):Hn(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function fY(e,t){switch(Fv(t),t.tag){case 1:return hr(t.type)&&Od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(),Vt(dr),Vt(Bn),Jv(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Qv(t),null;case 13:if(Vt(en),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(en),null;case 4:return el(),null;case 10:return Hv(t.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var Xd=!1,qn=!1,dY=typeof WeakSet=="function"?WeakSet:Set,et=null;function nl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(e,t,r)}else n.current=null}function my(e,t,n){try{n()}catch(r){an(e,t,r)}}var xT=!1;function hY(e,t){if(Cv=vd,e=tk(),bv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rv={focusedElem:e,selectionRange:n},vd=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){t=et;try{var v=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,A=v.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:hi(t.type,w),A);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(m){an(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}return v=xT,xT=!1,v}function Yu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&my(t,n,a)}i=i.next}while(i!==r)}}function Jd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kT(e){var t=e.alternate;t!==null&&(e.alternate=null,kT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ri],delete t[ju],delete t[Dv],delete t[YK],delete t[QK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TT(e){return e.tag===5||e.tag===3||e.tag===4}function AT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rd));else if(r!==4&&(e=e.child,e!==null))for(yy(e,t,n),e=e.sibling;e!==null;)yy(e,t,n),e=e.sibling}function wy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wy(e,t,n),e=e.sibling;e!==null;)wy(e,t,n),e=e.sibling}var Ln=null,pi=!1;function Ia(e,t,n){for(n=n.child;n!==null;)CT(e,t,n),n=n.sibling}function CT(e,t,n){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(fd,n)}catch{}switch(n.tag){case 5:qn||nl(n,t);case 6:var r=Ln,i=pi;Ln=null,Ia(e,t,n),Ln=r,pi=i,Ln!==null&&(pi?(e=Ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(pi?(e=Ln,n=n.stateNode,e.nodeType===8?Iv(e.parentNode,n):e.nodeType===1&&Iv(e,n),Au(e)):Iv(Ln,n.stateNode));break;case 4:r=Ln,i=pi,Ln=n.stateNode.containerInfo,pi=!0,Ia(e,t,n),Ln=r,pi=i;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&my(n,t,o),i=i.next}while(i!==r)}Ia(e,t,n);break;case 1:if(!qn&&(nl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){an(n,t,s)}Ia(e,t,n);break;case 21:Ia(e,t,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,Ia(e,t,n),qn=r):Ia(e,t,n);break;default:Ia(e,t,n)}}function RT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dY),t.forEach(function(r){var i=SY.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ln=s.stateNode,pi=!1;break e;case 3:Ln=s.stateNode.containerInfo,pi=!0;break e;case 4:Ln=s.stateNode.containerInfo,pi=!0;break e}s=s.return}if(Ln===null)throw Error(ze(160));CT(a,o,i),Ln=null,pi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){an(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NT(t,e),t=t.sibling}function NT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),Ii(e),r&4){try{Yu(3,e,e.return),Jd(3,e)}catch(w){an(e,e.return,w)}try{Yu(5,e,e.return)}catch(w){an(e,e.return,w)}}break;case 1:gi(t,e),Ii(e),r&512&&n!==null&&nl(n,n.return);break;case 5:if(gi(t,e),Ii(e),r&512&&n!==null&&nl(n,n.return),e.flags&32){var i=e.stateNode;try{mu(i,"")}catch(w){an(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&rx(i,a),Qm(s,o);var u=Qm(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?fx(i,f):c==="dangerouslySetInnerHTML"?ux(i,f):c==="children"?mu(i,f):Dm(i,c,f,u)}switch(s){case"input":Wm(i,a);break;case"textarea":ox(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ls(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[ju]=a}catch(w){an(e,e.return,w)}}break;case 6:if(gi(t,e),Ii(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){an(e,e.return,w)}}break;case 3:if(gi(t,e),Ii(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(t.containerInfo)}catch(w){an(e,e.return,w)}break;case 4:gi(t,e),Ii(e);break;case 13:gi(t,e),Ii(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Sy=cn())),r&4&&RT(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(qn=(u=qn)||c,gi(t,e),qn=u):gi(t,e),Ii(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&(e.mode&1)!==0)for(et=e,c=e.child;c!==null;){for(f=et=c;et!==null;){switch(d=et,p=d.child,d.tag){case 0:case 11:case 14:case 15:Yu(4,d,d.return);break;case 1:nl(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){an(r,n,w)}}break;case 5:nl(d,d.return);break;case 22:if(d.memoizedState!==null){DT(f);continue}}p!==null?(p.return=d,et=p):DT(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=cx("display",o))}catch(w){an(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){an(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gi(t,e),Ii(e),r&4&&RT(e);break;case 21:break;default:gi(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TT(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mu(i,""),r.flags&=-33);var a=AT(e);wy(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=AT(e);yy(e,s,o);break;default:throw Error(ze(161))}}catch(l){an(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pY(e,t,n){et=e,OT(e)}function OT(e,t,n){for(var r=(e.mode&1)!==0;et!==null;){var i=et,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qn;s=Xd;var u=qn;if(Xd=o,(qn=l)&&!u)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?PT(i):l!==null?(l.return=o,et=l):PT(i);for(;a!==null;)et=a,OT(a),a=a.sibling;et=i,Xd=s,qn=u}IT(e)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,et=a):IT(e)}}function IT(e){for(;et!==null;){var t=et;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:qn||Jd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Rk(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rk(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Au(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}qn||t.flags&512&&vy(t)}catch(d){an(t,t.return,d)}}if(t===e){et=null;break}if(n=t.sibling,n!==null){n.return=t.return,et=n;break}et=t.return}}function DT(e){for(;et!==null;){var t=et;if(t===e){et=null;break}var n=t.sibling;if(n!==null){n.return=t.return,et=n;break}et=t.return}}function PT(e){for(;et!==null;){var t=et;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jd(4,t)}catch(l){an(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){an(t,i,l)}}var a=t.return;try{vy(t)}catch(l){an(t,a,l)}break;case 5:var o=t.return;try{vy(t)}catch(l){an(t,o,l)}}}catch(l){an(t,t.return,l)}if(t===e){et=null;break}var s=t.sibling;if(s!==null){s.return=t.return,et=s;break}et=t.return}}var gY=Math.ceil,Zd=Gi.ReactCurrentDispatcher,by=Gi.ReactCurrentOwner,Wr=Gi.ReactCurrentBatchConfig,Ot=0,Tn=null,pn=null,$n=0,Ir=0,rl=Aa(0),yn=0,Qu=null,Oo=0,eh=0,_y=0,Xu=null,gr=null,Sy=0,il=1/0,ta=null,th=!1,Ey=null,Da=null,nh=!1,Pa=null,rh=0,Ju=0,xy=null,ih=-1,ah=0;function er(){return(Ot&6)!==0?cn():ih!==-1?ih:ih=cn()}function La(e){return(e.mode&1)===0?1:(Ot&2)!==0&&$n!==0?$n&-$n:JK.transition!==null?(ah===0&&(ah=Tx()),ah):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:Lx(e.type)),e)}function mi(e,t,n,r){if(50<Ju)throw Ju=0,xy=null,Error(ze(185));Su(e,n,r),((Ot&2)===0||e!==Tn)&&(e===Tn&&((Ot&2)===0&&(eh|=n),yn===4&&$a(e,$n)),mr(e,r),n===1&&Ot===0&&(t.mode&1)===0&&(il=cn()+500,Dd&&Ra()))}function mr(e,t){var n=e.callbackNode;JG(e,t);var r=pd(e,e===Tn?$n:0);if(r===0)n!==null&&Ex(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ex(n),t===1)e.tag===0?XK($T.bind(null,e)):bk($T.bind(null,e)),GK(function(){(Ot&6)===0&&Ra()}),n=null;else{switch(Ax(r)){case 1:n=rv;break;case 4:n=xx;break;case 16:n=cd;break;case 536870912:n=kx;break;default:n=cd}n=qT(n,LT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LT(e,t){if(ih=-1,ah=0,(Ot&6)!==0)throw Error(ze(327));var n=e.callbackNode;if(al()&&e.callbackNode!==n)return null;var r=pd(e,e===Tn?$n:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=oh(e,r);else{t=r;var i=Ot;Ot|=2;var a=jT();(Tn!==e||$n!==t)&&(ta=null,il=cn()+500,Do(e,t));do try{yY();break}catch(s){FT(e,s)}while(1);Uv(),Zd.current=a,Ot=i,pn!==null?t=0:(Tn=null,$n=0,t=yn)}if(t!==0){if(t===2&&(i=iv(e),i!==0&&(r=i,t=ky(e,i))),t===1)throw n=Qu,Do(e,0),$a(e,r),mr(e,cn()),n;if(t===6)$a(e,r);else{if(i=e.current.alternate,(r&30)===0&&!mY(i)&&(t=oh(e,r),t===2&&(a=iv(e),a!==0&&(r=a,t=ky(e,a))),t===1))throw n=Qu,Do(e,0),$a(e,r),mr(e,cn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Po(e,gr,ta);break;case 3:if($a(e,r),(r&130023424)===r&&(t=Sy+500-cn(),10<t)){if(pd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){er(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ov(Po.bind(null,e,gr,ta),t);break}Po(e,gr,ta);break;case 4:if($a(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ci(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gY(r/1960))-r,10<r){e.timeoutHandle=Ov(Po.bind(null,e,gr,ta),r);break}Po(e,gr,ta);break;case 5:Po(e,gr,ta);break;default:throw Error(ze(329))}}}return mr(e,cn()),e.callbackNode===n?LT.bind(null,e):null}function ky(e,t){var n=Xu;return e.current.memoizedState.isDehydrated&&(Do(e,t).flags|=256),e=oh(e,t),e!==2&&(t=gr,gr=n,t!==null&&Ty(t)),e}function Ty(e){gr===null?gr=e:gr.push.apply(gr,e)}function mY(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $a(e,t){for(t&=~_y,t&=~eh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ci(t),r=1<<n;e[n]=-1,t&=~r}}function $T(e){if((Ot&6)!==0)throw Error(ze(327));al();var t=pd(e,0);if((t&1)===0)return mr(e,cn()),null;var n=oh(e,t);if(e.tag!==0&&n===2){var r=iv(e);r!==0&&(t=r,n=ky(e,r))}if(n===1)throw n=Qu,Do(e,0),$a(e,t),mr(e,cn()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,gr,ta),mr(e,cn()),null}function Ay(e,t){var n=Ot;Ot|=1;try{return e(t)}finally{Ot=n,Ot===0&&(il=cn()+500,Dd&&Ra())}}function Io(e){Pa!==null&&Pa.tag===0&&(Ot&6)===0&&al();var t=Ot;Ot|=1;var n=Wr.transition,r=Mt;try{if(Wr.transition=null,Mt=1,e)return e()}finally{Mt=r,Wr.transition=n,Ot=t,(Ot&6)===0&&Ra()}}function Cy(){Ir=rl.current,Vt(rl)}function Do(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VK(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(Fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:el(),Vt(dr),Vt(Bn),Jv();break;case 5:Qv(r);break;case 4:el();break;case 13:Vt(en);break;case 19:Vt(en);break;case 10:Hv(r.type._context);break;case 22:case 23:Cy()}n=n.return}if(Tn=e,pn=e=Fa(e.current,null),$n=Ir=t,yn=0,Qu=null,_y=eh=Oo=0,gr=Xu=null,Co!==null){for(t=0;t<Co.length;t++)if(n=Co[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Co=null}return e}function FT(e,t){do{var n=pn;try{if(Uv(),qd.current=Kd,Wd){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wd=!1}if(No=0,kn=vn=tn=null,qu=!1,Wu=0,by.current=null,n===null||n.return===null){yn=1,Qu=t,pn=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=$n,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=lT(o);if(p!==null){p.flags&=-257,uT(p,o,s,a,t),p.mode&1&&sT(a,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if((t&1)===0){sT(a,u,t),Ry();break e}l=Error(ze(426))}}else if(Yt&&s.mode&1){var A=lT(o);if(A!==null){(A.flags&65536)===0&&(A.flags|=256),uT(A,o,s,a,t),zv(tl(l,s));break e}}a=l=tl(l,s),yn!==4&&(yn=2),Xu===null?Xu=[a]:Xu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=aT(a,l,t);Ck(a,h);break e;case 1:s=l;var g=a.type,b=a.stateNode;if((a.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Da===null||!Da.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var m=oT(a,s,t);Ck(a,m);break e}}a=a.return}while(a!==null)}zT(n)}catch(y){t=y,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(1)}function jT(){var e=Zd.current;return Zd.current=Kd,e===null?Kd:e}function Ry(){(yn===0||yn===3||yn===2)&&(yn=4),Tn===null||(Oo&268435455)===0&&(eh&268435455)===0||$a(Tn,$n)}function oh(e,t){var n=Ot;Ot|=2;var r=jT();(Tn!==e||$n!==t)&&(ta=null,Do(e,t));do try{vY();break}catch(i){FT(e,i)}while(1);if(Uv(),Ot=n,Zd.current=r,pn!==null)throw Error(ze(261));return Tn=null,$n=0,yn}function vY(){for(;pn!==null;)MT(pn)}function yY(){for(;pn!==null&&!HG();)MT(pn)}function MT(e){var t=HT(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?zT(e):pn=t,by.current=null}function zT(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=cY(n,t,Ir),n!==null){pn=n;return}}else{if(n=fY(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yn=6,pn=null;return}}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);yn===0&&(yn=5)}function Po(e,t,n){var r=Mt,i=Wr.transition;try{Wr.transition=null,Mt=1,wY(e,t,n,r)}finally{Wr.transition=i,Mt=r}return null}function wY(e,t,n,r){do al();while(Pa!==null);if((Ot&6)!==0)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ZG(e,a),e===Tn&&(pn=Tn=null,$n=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||nh||(nh=!0,qT(cd,function(){return al(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=Wr.transition,Wr.transition=null;var o=Mt;Mt=1;var s=Ot;Ot|=4,by.current=null,hY(e,n),NT(n,e),MK(Rv),vd=!!Cv,Rv=Cv=null,e.current=n,pY(n),qG(),Ot=s,Mt=o,Wr.transition=a}else e.current=n;if(nh&&(nh=!1,Pa=e,rh=i),a=e.pendingLanes,a===0&&(Da=null),GG(n.stateNode),mr(e,cn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,e=Ey,Ey=null,e;return(rh&1)!==0&&e.tag!==0&&al(),a=e.pendingLanes,(a&1)!==0?e===xy?Ju++:(Ju=0,xy=e):Ju=0,Ra(),null}function al(){if(Pa!==null){var e=Ax(rh),t=Wr.transition,n=Mt;try{if(Wr.transition=null,Mt=16>e?16:e,Pa===null)var r=!1;else{if(e=Pa,Pa=null,rh=0,(Ot&6)!==0)throw Error(ze(331));var i=Ot;for(Ot|=4,et=e.current;et!==null;){var a=et,o=a.child;if((et.flags&16)!==0){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(et=u;et!==null;){var c=et;switch(c.tag){case 0:case 11:case 15:Yu(8,c,a)}var f=c.child;if(f!==null)f.return=c,et=f;else for(;et!==null;){c=et;var d=c.sibling,p=c.return;if(kT(c),c===u){et=null;break}if(d!==null){d.return=p,et=d;break}et=p}}}var v=a.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}et=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,et=o;else e:for(;et!==null;){if(a=et,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Yu(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,et=h;break e}et=a.return}}var g=e.current;for(et=g;et!==null;){o=et;var b=o.child;if((o.subtreeFlags&2064)!==0&&b!==null)b.return=o,et=b;else e:for(o=g;et!==null;){if(s=et,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Jd(9,s)}}catch(y){an(s,s.return,y)}if(s===o){et=null;break e}var m=s.sibling;if(m!==null){m.return=s.return,et=m;break e}et=s.return}}if(Ot=i,Ra(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(fd,e)}catch{}r=!0}return r}finally{Mt=n,Wr.transition=t}}return!1}function BT(e,t,n){t=tl(n,t),t=aT(e,t,1),e=Oa(e,t,1),t=er(),e!==null&&(Su(e,1,t),mr(e,t))}function an(e,t,n){if(e.tag===3)BT(e,e,n);else for(;t!==null;){if(t.tag===3){BT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Da===null||!Da.has(r))){e=tl(n,e),e=oT(t,e,1),t=Oa(t,e,1),e=er(),t!==null&&(Su(t,1,e),mr(t,e));break}}t=t.return}}function bY(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=er(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&($n&n)===n&&(yn===4||yn===3&&($n&130023424)===$n&&500>cn()-Sy?Do(e,0):_y|=n),mr(e,t)}function UT(e,t){t===0&&((e.mode&1)===0?t=1:(t=hd,hd<<=1,(hd&130023424)===0&&(hd=4194304)));var n=er();e=Ji(e,t),e!==null&&(Su(e,t,n),mr(e,n))}function _Y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UT(e,n)}function SY(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),UT(e,n)}var HT;HT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)pr=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pr=!1,uY(e,t,n);pr=(e.flags&131072)!==0}else pr=!1,Yt&&(t.flags&1048576)!==0&&_k(t,Ld,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qd(e,t),e=t.pendingProps;var i=Gs(t,Bn.current);Js(t,n),i=ty(null,t,r,e,i,n);var a=ny();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(r)?(a=!0,Id(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(t),i.updater=Bd,t.stateNode=i,i._reactInternals=t,Kv(t,r,e,n),t=cy(null,t,r,!0,a,n)):(t.tag=0,Yt&&a&&$v(t),Zn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xY(r),e=hi(r,e),i){case 0:t=uy(null,t,r,e,n);break e;case 1:t=gT(null,t,r,e,n);break e;case 11:t=cT(null,t,r,e,n);break e;case 14:t=fT(null,t,r,hi(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hi(r,i),uy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hi(r,i),gT(e,t,r,i,n);case 3:e:{if(mT(t),e===null)throw Error(ze(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Ak(e,t),zd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tl(Error(ze(423)),t),t=vT(e,t,r,n,i);break e}else if(r!==i){i=tl(Error(ze(424)),t),t=vT(e,t,r,n,i);break e}else for(Or=Ta(t.stateNode.containerInfo.firstChild),Nr=t,Yt=!0,di=null,n=$k(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===i){t=ea(e,t,n);break e}Zn(e,t,r,n)}t=t.child}return t;case 5:return Fk(t),e===null&&Mv(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Nv(r,i)?o=null:a!==null&&Nv(r,a)&&(t.flags|=32),pT(e,t),Zn(e,t,o,n),t.child;case 6:return e===null&&Mv(t),null;case 13:return yT(e,t,n);case 4:return Yv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zs(t,null,r,n):Zn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hi(r,i),cT(e,t,r,i,n);case 7:return Zn(e,t,t.pendingProps,n),t.child;case 8:return Zn(e,t,t.pendingProps.children,n),t.child;case 12:return Zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ht(Fd,r._currentValue),r._currentValue=o,a!==null)if(fi(a.value,o)){if(a.children===i.children&&!dr.current){t=ea(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Zi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),qv(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ze(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),qv(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Zn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Js(t,n),i=Hr(i),r=r(i),t.flags|=1,Zn(e,t,r,n),t.child;case 14:return r=t.type,i=hi(r,t.pendingProps),i=hi(r.type,i),fT(e,t,r,i,n);case 15:return dT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hi(r,i),Qd(e,t),t.tag=1,hr(r)?(e=!0,Id(t)):e=!1,Js(t,n),Ik(t,r,i),Kv(t,r,i,n),cy(null,t,r,!0,e,n);case 19:return bT(e,t,n);case 22:return hT(e,t,n)}throw Error(ze(156,t.tag))};function qT(e,t){return Sx(e,t)}function EY(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new EY(e,t,n,r)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xY(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$m)return 11;if(e===Mm)return 14}return 2}function Fa(e,t){var n=e.alternate;return n===null?(n=Vr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sh(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Ny(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ps:return Lo(n.children,i,a,t);case Pm:o=8,i|=8;break;case Lm:return e=Vr(12,n,t,i|2),e.elementType=Lm,e.lanes=a,e;case Fm:return e=Vr(13,n,t,i),e.elementType=Fm,e.lanes=a,e;case jm:return e=Vr(19,n,t,i),e.elementType=jm,e.lanes=a,e;case JE:return lh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QE:o=10;break e;case XE:o=9;break e;case $m:o=11;break e;case Mm:o=14;break e;case ya:o=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Vr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Lo(e,t,n,r){return e=Vr(7,e,r,t),e.lanes=n,e}function lh(e,t,n,r){return e=Vr(22,e,r,t),e.elementType=JE,e.lanes=n,e.stateNode={isHidden:!1},e}function Oy(e,t,n){return e=Vr(6,e,null,t),e.lanes=n,e}function Iy(e,t,n){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kY(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=av(0),this.expirationTimes=av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=av(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dy(e,t,n,r,i,a,o,s,l){return e=new kY(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Vr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(a),e}function TY(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function WT(e){if(!e)return Ca;e=e._reactInternals;e:{if(Eo(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(hr(n))return yk(e,n,t)}return t}function VT(e,t,n,r,i,a,o,s,l){return e=Dy(n,r,!0,e,i,a,o,s,l),e.context=WT(null),n=e.current,r=er(),i=La(n),a=Zi(r,i),a.callback=t!=null?t:null,Oa(n,a,i),e.current.lanes=i,Su(e,i,r),mr(e,r),e}function uh(e,t,n,r){var i=t.current,a=er(),o=La(i);return n=WT(n),t.context===null?t.context=n:t.pendingContext=n,t=Zi(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oa(i,t,o),e!==null&&(mi(e,i,o,a),Md(e,i,o)),o}function ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Py(e,t){GT(e,t),(e=e.alternate)&&GT(e,t)}function AY(){return null}var KT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ly(e){this._internalRoot=e}fh.prototype.render=Ly.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));uh(e,t,null,null)},fh.prototype.unmount=Ly.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Io(function(){uh(null,e,null,null)}),t[Ki]=null}};function fh(e){this._internalRoot=e}fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ea.length&&t!==0&&t<Ea[n].priority;n++);Ea.splice(n,0,e),n===0&&Dx(e)}};function $y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YT(){}function CY(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=ch(o);a.call(u)}}var o=VT(t,r,e,0,null,!1,!1,"",YT);return e._reactRootContainer=o,e[Ki]=o.current,$u(e.nodeType===8?e.parentNode:e),Io(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=ch(l);s.call(u)}}var l=Dy(e,0,!1,null,null,!1,!1,"",YT);return e._reactRootContainer=l,e[Ki]=l.current,$u(e.nodeType===8?e.parentNode:e),Io(function(){uh(t,l,n,r)}),l}function hh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=ch(o);s.call(l)}}uh(t,o,e,i)}else o=CY(n,t,e,i,r);return ch(o)}Cx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_u(t.pendingLanes);n!==0&&(ov(t,n|1),mr(t,cn()),(Ot&6)===0&&(il=cn()+500,Ra()))}break;case 13:Io(function(){var r=Ji(e,1);if(r!==null){var i=er();mi(r,e,1,i)}}),Py(e,1)}},sv=function(e){if(e.tag===13){var t=Ji(e,134217728);if(t!==null){var n=er();mi(t,e,134217728,n)}Py(e,134217728)}},Rx=function(e){if(e.tag===13){var t=La(e),n=Ji(e,t);if(n!==null){var r=er();mi(n,e,t,r)}Py(e,t)}},Nx=function(){return Mt},Ox=function(e,t){var n=Mt;try{return Mt=e,t()}finally{Mt=n}},Zm=function(e,t,n){switch(t){case"input":if(Wm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Nd(r);if(!i)throw Error(ze(90));tx(r),Wm(r,i)}}}break;case"textarea":ox(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}},gx=Ay,mx=Io;var RY={usingClientEntryPoint:!1,Events:[Mu,Ws,Nd,hx,px,Ay]},Zu={findFiberByHostInstance:xo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NY={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bx(e),e===null?null:e.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||AY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{fd=ph.inject(NY),Ci=ph}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RY,Ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(t))throw Error(ze(200));return TY(e,t,null,n)},Ar.createRoot=function(e,t){if(!$y(e))throw Error(ze(299));var n=!1,r="",i=KT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dy(e,1,!1,null,null,n,!1,r,i),e[Ki]=t.current,$u(e.nodeType===8?e.parentNode:e),new Ly(t)},Ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=bx(t),e=e===null?null:e.stateNode,e},Ar.flushSync=function(e){return Io(e)},Ar.hydrate=function(e,t,n){if(!dh(t))throw Error(ze(200));return hh(null,e,t,!0,n)},Ar.hydrateRoot=function(e,t,n){if(!$y(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=KT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=VT(t,null,e,1,n!=null?n:null,i,!1,a,o),e[Ki]=t.current,$u(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new fh(t)},Ar.render=function(e,t,n){if(!dh(t))throw Error(ze(200));return hh(null,e,t,!1,n)},Ar.unmountComponentAtNode=function(e){if(!dh(e))throw Error(ze(40));return e._reactRootContainer?(Io(function(){hh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ki]=null})}),!0):!1},Ar.unstable_batchedUpdates=Ay,Ar.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dh(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return hh(e,t,n,!1,r)},Ar.version="18.2.0-next-9e3b772b8-20220608";function QT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QT)}catch(e){console.error(e)}}QT(),Rm.exports=Ar;function XT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var JT=typeof window!="undefined"&&typeof document!="undefined";function Fy(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function ZT(){return JT&&document.createElement("div")}function OY(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function eA(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(t.hasOwnProperty(n)){if(!eA(e[n],t[n]))return!1}else return!1;return!0}else return!1}function IY(e){var t=[];return e.forEach(function(n){t.find(function(r){return eA(n,r)})||t.push(n)}),t}function DY(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:IY([].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],((r=t.popperOptions)==null?void 0:r.modifiers)||[]))})})}var jy=JT?st.exports.useLayoutEffect:st.exports.useEffect;function PY(e){var t=st.exports.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function tA(e,t,n){n.split(/\s+/).forEach(function(r){r&&e.classList[t](r)})}var LY={name:"className",defaultValue:"",fn:function(t){var n=t.popper.firstElementChild,r=function(){var s;return!!((s=t.props.render)!=null&&s.$$tippy)};function i(){t.props.className&&!r()||tA(n,"add",t.props.className)}function a(){r()&&tA(n,"remove",t.props.className)}return{onCreate:i,onBeforeUpdate:a,onAfterUpdate:i}}};function $Y(e){function t(n){var r=n.children,i=n.content,a=n.visible,o=n.singleton,s=n.render,l=n.reference,u=n.disabled,c=u===void 0?!1:u,f=n.ignoreAttributes,d=f===void 0?!0:f;n.__source,n.__self;var p=XT(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),v=a!==void 0,w=o!==void 0,A=st.exports.useState(!1),h=A[0],g=A[1],b=st.exports.useState({}),m=b[0],y=b[1],_=st.exports.useState(),x=_[0],S=_[1],M=PY(function(){return{container:ZT(),renders:1}}),V=Object.assign({ignoreAttributes:d},p,{content:M.container});v&&(V.trigger="manual",V.hideOnClick=!1),w&&(c=!0);var Z=V,pe=V.plugins||[];s&&(Z=Object.assign({},V,{plugins:w&&o.data!=null?[].concat(pe,[{fn:function(){return{onTrigger:function(Le,je){var E=o.data.children.find(function(C){var k=C.instance;return k.reference===je.currentTarget});Le.state.$$activeSingletonInstance=E.instance,S(E.content)}}}}]):pe,render:function(){return{popper:M.container}}}));var ge=[l].concat(r?[r.type]:[]);return jy(function(){var we=l;l&&l.hasOwnProperty("current")&&(we=l.current);var ee=e(we||M.ref||ZT(),Object.assign({},Z,{plugins:[LY].concat(V.plugins||[])}));return M.instance=ee,c&&ee.disable(),a&&ee.show(),w&&o.hook({instance:ee,content:i,props:Z,setSingletonContent:S}),g(!0),function(){ee.destroy(),o==null||o.cleanup(ee)}},ge),jy(function(){var we;if(M.renders===1){M.renders++;return}var ee=M.instance;ee.setProps(DY(ee.props,Z)),(we=ee.popperInstance)==null||we.forceUpdate(),c?ee.disable():ee.enable(),v&&(a?ee.show():ee.hide()),w&&o.hook({instance:ee,content:i,props:Z,setSingletonContent:S})}),jy(function(){var we;if(!!s){var ee=M.instance;ee.setProps({popperOptions:Object.assign({},ee.props.popperOptions,{modifiers:[].concat((((we=ee.props.popperOptions)==null?void 0:we.modifiers)||[]).filter(function(Le){var je=Le.name;return je!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(je){var E,C=je.state,k=(E=C.modifiersData)==null?void 0:E.hide;(m.placement!==C.placement||m.referenceHidden!==(k==null?void 0:k.isReferenceHidden)||m.escaped!==(k==null?void 0:k.hasPopperEscaped))&&y({placement:C.placement,referenceHidden:k==null?void 0:k.isReferenceHidden,escaped:k==null?void 0:k.hasPopperEscaped}),C.attributes.popper={}}}])})})}},[m.placement,m.referenceHidden,m.escaped].concat(ge)),Ge.createElement(Ge.Fragment,null,r?st.exports.cloneElement(r,{ref:function(ee){M.ref=ee,Fy(r.ref,ee)}}):null,h&&Rm.exports.createPortal(s?s(OY(m),x,M.instance):i,M.container))}return t}var FY=function(e,t){return st.exports.forwardRef(function(r,i){var a=r.children,o=XT(r,["children"]);return Ge.createElement(e,Object.assign({},t,o),a?st.exports.cloneElement(a,{ref:function(l){Fy(i,l),Fy(a.ref,l)}}):null)})},jY=FY($Y(fu)),MY=jY;function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},My(e,t)}function Di(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,My(e,t)}var nA={exports:{}},zY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BY=zY,UY=BY;function rA(){}function iA(){}iA.resetWarningCache=rA;var HY=function(){function e(r,i,a,o,s,l){if(l!==UY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iA,resetWarningCache:rA};return n.PropTypes=n,n};nA.exports=HY();var aA=nA.exports;function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function gh(e){return e.charAt(0)==="/"}function zy(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function qY(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&gh(e),a=t&&gh(t),o=i||a;if(e&&gh(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s;if(r.length){var l=r[r.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var u=0,c=r.length;c>=0;c--){var f=r[c];f==="."?zy(r,c):f===".."?(zy(r,c),u++):u&&(zy(r,c),u--)}if(!o)for(;u--;u)r.unshift("..");o&&r[0]!==""&&(!r[0]||!gh(r[0]))&&r.unshift("");var d=r.join("/");return s&&d.substr(-1)!=="/"&&(d+="/"),d}var WY=!0,By="Invariant failed";function $o(e,t){if(!e){if(WY)throw new Error(By);var n=typeof t=="function"?t():t,r=n?By+": "+n:By;throw new Error(r)}}function ec(e){return e.charAt(0)==="/"?e:"/"+e}function oA(e){return e.charAt(0)==="/"?e.substr(1):e}function VY(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function sA(e,t){return VY(e,t)?e.substr(t.length):e}function lA(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function GY(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Gr(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Dr(e,t,n,r){var i;typeof e=="string"?(i=GY(e),i.state=t):(i=tr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=qY(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Uy(){var e=null;function t(o){return e=o,function(){e===o&&(e=null)}}function n(o,s,l,u){if(e!=null){var c=typeof e=="function"?e(o,s):e;typeof c=="string"?typeof l=="function"?l(c,u):u(!0):u(c!==!1)}else u(!0)}var r=[];function i(o){var s=!0;function l(){s&&o.apply(void 0,arguments)}return r.push(l),function(){s=!1,r=r.filter(function(u){return u!==l})}}function a(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];r.forEach(function(u){return u.apply(void 0,s)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}var uA=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function cA(e,t){t(window.confirm(e))}function KY(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function YY(){return window.navigator.userAgent.indexOf("Trident")===-1}function QY(){return window.navigator.userAgent.indexOf("Firefox")===-1}function XY(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var fA="popstate",dA="hashchange";function hA(){try{return window.history.state||{}}catch{return{}}}function JY(e){e===void 0&&(e={}),uA||$o(!1);var t=window.history,n=KY(),r=!YY(),i=e,a=i.forceRefresh,o=a===void 0?!1:a,s=i.getUserConfirmation,l=s===void 0?cA:s,u=i.keyLength,c=u===void 0?6:u,f=e.basename?lA(ec(e.basename)):"";function d(C){var k=C||{},L=k.key,z=k.state,K=window.location,ae=K.pathname,ie=K.search,O=K.hash,H=ae+ie+O;return f&&(H=sA(H,f)),Dr(H,z,L)}function p(){return Math.random().toString(36).substr(2,c)}var v=Uy();function w(C){tr(E,C),E.length=t.length,v.notifyListeners(E.location,E.action)}function A(C){XY(C)||b(d(C.state))}function h(){b(d(hA()))}var g=!1;function b(C){if(g)g=!1,w();else{var k="POP";v.confirmTransitionTo(C,k,l,function(L){L?w({action:k,location:C}):m(C)})}}function m(C){var k=E.location,L=_.indexOf(k.key);L===-1&&(L=0);var z=_.indexOf(C.key);z===-1&&(z=0);var K=L-z;K&&(g=!0,V(K))}var y=d(hA()),_=[y.key];function x(C){return f+Gr(C)}function S(C,k){var L="PUSH",z=Dr(C,k,p(),E.location);v.confirmTransitionTo(z,L,l,function(K){if(!!K){var ae=x(z),ie=z.key,O=z.state;if(n)if(t.pushState({key:ie,state:O},null,ae),o)window.location.href=ae;else{var H=_.indexOf(E.location.key),J=_.slice(0,H+1);J.push(z.key),_=J,w({action:L,location:z})}else window.location.href=ae}})}function M(C,k){var L="REPLACE",z=Dr(C,k,p(),E.location);v.confirmTransitionTo(z,L,l,function(K){if(!!K){var ae=x(z),ie=z.key,O=z.state;if(n)if(t.replaceState({key:ie,state:O},null,ae),o)window.location.replace(ae);else{var H=_.indexOf(E.location.key);H!==-1&&(_[H]=z.key),w({action:L,location:z})}else window.location.replace(ae)}})}function V(C){t.go(C)}function Z(){V(-1)}function pe(){V(1)}var ge=0;function we(C){ge+=C,ge===1&&C===1?(window.addEventListener(fA,A),r&&window.addEventListener(dA,h)):ge===0&&(window.removeEventListener(fA,A),r&&window.removeEventListener(dA,h))}var ee=!1;function Le(C){C===void 0&&(C=!1);var k=v.setPrompt(C);return ee||(we(1),ee=!0),function(){return ee&&(ee=!1,we(-1)),k()}}function je(C){var k=v.appendListener(C);return we(1),function(){we(-1),k()}}var E={length:t.length,action:"POP",location:y,createHref:x,push:S,replace:M,go:V,goBack:Z,goForward:pe,block:Le,listen:je};return E}var pA="hashchange",ZY={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+oA(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:oA,decodePath:ec},slash:{encodePath:ec,decodePath:ec}};function gA(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function tc(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function eQ(e){window.location.hash=e}function Hy(e){window.location.replace(gA(window.location.href)+"#"+e)}function tQ(e){e===void 0&&(e={}),uA||$o(!1);var t=window.history;QY();var n=e,r=n.getUserConfirmation,i=r===void 0?cA:r,a=n.hashType,o=a===void 0?"slash":a,s=e.basename?lA(ec(e.basename)):"",l=ZY[o],u=l.encodePath,c=l.decodePath;function f(){var k=c(tc());return s&&(k=sA(k,s)),Dr(k)}var d=Uy();function p(k){tr(C,k),C.length=t.length,d.notifyListeners(C.location,C.action)}var v=!1,w=null;function A(k,L){return k.pathname===L.pathname&&k.search===L.search&&k.hash===L.hash}function h(){var k=tc(),L=u(k);if(k!==L)Hy(L);else{var z=f(),K=C.location;if(!v&&A(K,z)||w===Gr(z))return;w=null,g(z)}}function g(k){if(v)v=!1,p();else{var L="POP";d.confirmTransitionTo(k,L,i,function(z){z?p({action:L,location:k}):b(k)})}}function b(k){var L=C.location,z=x.lastIndexOf(Gr(L));z===-1&&(z=0);var K=x.lastIndexOf(Gr(k));K===-1&&(K=0);var ae=z-K;ae&&(v=!0,Z(ae))}var m=tc(),y=u(m);m!==y&&Hy(y);var _=f(),x=[Gr(_)];function S(k){var L=document.querySelector("base"),z="";return L&&L.getAttribute("href")&&(z=gA(window.location.href)),z+"#"+u(s+Gr(k))}function M(k,L){var z="PUSH",K=Dr(k,void 0,void 0,C.location);d.confirmTransitionTo(K,z,i,function(ae){if(!!ae){var ie=Gr(K),O=u(s+ie),H=tc()!==O;if(H){w=ie,eQ(O);var J=x.lastIndexOf(Gr(C.location)),ve=x.slice(0,J+1);ve.push(ie),x=ve,p({action:z,location:K})}else p()}})}function V(k,L){var z="REPLACE",K=Dr(k,void 0,void 0,C.location);d.confirmTransitionTo(K,z,i,function(ae){if(!!ae){var ie=Gr(K),O=u(s+ie),H=tc()!==O;H&&(w=ie,Hy(O));var J=x.indexOf(Gr(C.location));J!==-1&&(x[J]=ie),p({action:z,location:K})}})}function Z(k){t.go(k)}function pe(){Z(-1)}function ge(){Z(1)}var we=0;function ee(k){we+=k,we===1&&k===1?window.addEventListener(pA,h):we===0&&window.removeEventListener(pA,h)}var Le=!1;function je(k){k===void 0&&(k=!1);var L=d.setPrompt(k);return Le||(ee(1),Le=!0),function(){return Le&&(Le=!1,ee(-1)),L()}}function E(k){var L=d.appendListener(k);return ee(1),function(){ee(-1),L()}}var C={length:t.length,action:"POP",location:_,createHref:S,push:M,replace:V,go:Z,goBack:pe,goForward:ge,block:je,listen:E};return C}function mA(e,t,n){return Math.min(Math.max(e,t),n)}function nQ(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,a=t.initialIndex,o=a===void 0?0:a,s=t.keyLength,l=s===void 0?6:s,u=Uy();function c(S){tr(x,S),x.length=x.entries.length,u.notifyListeners(x.location,x.action)}function f(){return Math.random().toString(36).substr(2,l)}var d=mA(o,0,i.length-1),p=i.map(function(S){return typeof S=="string"?Dr(S,void 0,f()):Dr(S,void 0,S.key||f())}),v=Gr;function w(S,M){var V="PUSH",Z=Dr(S,M,f(),x.location);u.confirmTransitionTo(Z,V,n,function(pe){if(!!pe){var ge=x.index,we=ge+1,ee=x.entries.slice(0);ee.length>we?ee.splice(we,ee.length-we,Z):ee.push(Z),c({action:V,location:Z,index:we,entries:ee})}})}function A(S,M){var V="REPLACE",Z=Dr(S,M,f(),x.location);u.confirmTransitionTo(Z,V,n,function(pe){!pe||(x.entries[x.index]=Z,c({action:V,location:Z}))})}function h(S){var M=mA(x.index+S,0,x.entries.length-1),V="POP",Z=x.entries[M];u.confirmTransitionTo(Z,V,n,function(pe){pe?c({action:V,location:Z,index:M}):c()})}function g(){h(-1)}function b(){h(1)}function m(S){var M=x.index+S;return M>=0&&M<x.entries.length}function y(S){return S===void 0&&(S=!1),u.setPrompt(S)}function _(S){return u.appendListener(S)}var x={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:w,replace:A,go:h,goBack:g,goForward:b,canGo:m,block:y,listen:_};return x}var qy=1073741823,vA=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function rQ(){var e="__global_unique_id__";return vA[e]=(vA[e]||0)+1}function iQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function aQ(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(a){return a(e,i)})}}}function oQ(e){return Array.isArray(e)?e[0]:e}function sQ(e,t){var n,r,i="__create-react-context-"+rQ()+"__",a=function(s){Di(l,s);function l(){var c;return c=s.apply(this,arguments)||this,c.emitter=aQ(c.props.value),c}var u=l.prototype;return u.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var d=this.props.value,p=f.value,v;iQ(d,p)?v=0:(v=typeof t=="function"?t(d,p):qy,v|=0,v!==0&&this.emitter.set(f.value,v))}},u.render=function(){return this.props.children},l}(st.exports.Component);a.childContextTypes=(n={},n[i]=aA.object.isRequired,n);var o=function(s){Di(l,s);function l(){var c;return c=s.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(f,d){var p=c.observedBits|0;(p&d)!==0&&c.setState({value:c.getValue()})},c}var u=l.prototype;return u.componentWillReceiveProps=function(f){var d=f.observedBits;this.observedBits=d==null?qy:d},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?qy:f},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():e},u.render=function(){return oQ(this.props.children)(this.state.value)},l}(st.exports.Component);return o.contextTypes=(r={},r[i]=aA.object,r),{Provider:a,Consumer:o}}var yA=Ge.createContext||sQ,ol={exports:{}},lQ=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},mh=lQ;ol.exports=_A,ol.exports.parse=Wy,ol.exports.compile=cQ,ol.exports.tokensToFunction=wA,ol.exports.tokensToRegExp=bA;var uQ=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Wy(e,t){for(var n=[],r=0,i=0,a="",o=t&&t.delimiter||"/",s;(s=uQ.exec(e))!=null;){var l=s[0],u=s[1],c=s.index;if(a+=e.slice(i,c),i=c+l.length,u){a+=u[1];continue}var f=e[i],d=s[2],p=s[3],v=s[4],w=s[5],A=s[6],h=s[7];a&&(n.push(a),a="");var g=d!=null&&f!=null&&f!==d,b=A==="+"||A==="*",m=A==="?"||A==="*",y=s[2]||o,_=v||w;n.push({name:p||r++,prefix:d||"",delimiter:y,optional:m,repeat:b,partial:g,asterisk:!!h,pattern:_?hQ(_):h?".*":"[^"+vh(y)+"]+?"})}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function cQ(e,t){return wA(Wy(e,t),t)}function fQ(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function dQ(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function wA(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",Gy(t)));return function(i,a){for(var o="",s=i||{},l=a||{},u=l.pretty?fQ:encodeURIComponent,c=0;c<e.length;c++){var f=e[c];if(typeof f=="string"){o+=f;continue}var d=s[f.name],p;if(d==null)if(f.optional){f.partial&&(o+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(mh(d)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(d.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var v=0;v<d.length;v++){if(p=u(d[v]),!n[c].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(v===0?f.prefix:f.delimiter)+p}continue}if(p=f.asterisk?dQ(d):u(d),!n[c].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}return o}}function vh(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function hQ(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Vy(e,t){return e.keys=t,e}function Gy(e){return e&&e.sensitive?"":"i"}function pQ(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Vy(e,t)}function gQ(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(_A(e[i],t,n).source);var a=new RegExp("(?:"+r.join("|")+")",Gy(n));return Vy(a,t)}function mQ(e,t,n){return bA(Wy(e,n),t,n)}function bA(e,t,n){mh(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,a="",o=0;o<e.length;o++){var s=e[o];if(typeof s=="string")a+=vh(s);else{var l=vh(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+l+u+")*"),s.optional?s.partial?u=l+"("+u+")?":u="(?:"+l+"("+u+"))?":u=l+"("+u+")",a+=u}}var c=vh(n.delimiter||"/"),f=a.slice(-c.length)===c;return r||(a=(f?a.slice(0,-c.length):a)+"(?:"+c+"(?=$))?"),i?a+="$":a+=r&&f?"":"(?="+c+"|$)",Vy(new RegExp("^"+a,Gy(n)),t)}function _A(e,t,n){return mh(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?pQ(e,t):mh(e)?gQ(e,t,n):mQ(e,t,n)}var vQ=ol.exports;function yh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yQ=function(t){var n=yA();return n.displayName=t,n},wQ=yQ("Router-History"),bQ=function(t){var n=yA();return n.displayName=t,n},sl=bQ("Router"),wh=function(e){Di(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(a){i._isMounted?i.setState({location:a}):i._pendingLocation=a})),i}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return Ge.createElement(sl.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Ge.createElement(wQ.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Ge.Component);Ge.Component,Ge.Component;var SA={},_Q=1e4,EA=0;function SQ(e,t){var n=""+t.end+t.strict+t.sensitive,r=SA[n]||(SA[n]={});if(r[e])return r[e];var i=[],a=vQ(e,i,t),o={regexp:a,keys:i};return EA<_Q&&(r[e]=o,EA++),o}function bh(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=i===void 0?!1:i,o=n.strict,s=o===void 0?!1:o,l=n.sensitive,u=l===void 0?!1:l,c=[].concat(r);return c.reduce(function(f,d){if(!d&&d!=="")return null;if(f)return f;var p=SQ(d,{end:a,strict:s,sensitive:u}),v=p.regexp,w=p.keys,A=v.exec(e);if(!A)return null;var h=A[0],g=A.slice(1),b=e===h;return a&&!b?null:{path:d,url:d==="/"&&h===""?"/":h,isExact:b,params:w.reduce(function(m,y,_){return m[y.name]=g[_],m},{})}},null)}Ge.Component;function Ky(e){return e.charAt(0)==="/"?e:"/"+e}function EQ(e,t){return e?tr({},t,{pathname:Ky(e)+t.pathname}):t}function xQ(e,t){if(!e)return t;var n=Ky(e);return t.pathname.indexOf(n)!==0?t:tr({},t,{pathname:t.pathname.substr(n.length)})}function xA(e){return typeof e=="string"?e:Gr(e)}function Yy(e){return function(){$o(!1)}}function kA(){}Ge.Component,Ge.Component,Ge.useContext,Ge.Component,Ge.Component;var Qy=function(t,n){return typeof t=="function"?t(n):t},TA=function(t,n){return typeof t=="string"?Dr(t,null,null,n):t},Xy=function(t){return t},ll=Ge.forwardRef;typeof ll=="undefined"&&(ll=Xy);function kQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var TQ=ll(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=yh(e,["innerRef","navigate","onClick"]),o=a.target,s=tr({},a,{onClick:function(u){try{i&&i(u)}catch(c){throw u.preventDefault(),c}!u.defaultPrevented&&u.button===0&&(!o||o==="_self")&&!kQ(u)&&(u.preventDefault(),r())}});return Xy!==ll?s.ref=t||n:s.ref=n,Ge.createElement("a",s)}),Jy=ll(function(e,t){var n=e.component,r=n===void 0?TQ:n,i=e.replace,a=e.to,o=e.innerRef,s=yh(e,["component","replace","to","innerRef"]);return Ge.createElement(sl.Consumer,null,function(l){l||$o(!1);var u=l.history,c=TA(Qy(a,l.location),l.location),f=c?u.createHref(c):"",d=tr({},s,{href:f,navigate:function(){var v=Qy(a,l.location),w=i?u.replace:u.push;w(v)}});return Xy!==ll?d.ref=t||o:d.innerRef=o,Ge.createElement(r,d)})}),AA=function(t){return t},_h=Ge.forwardRef;typeof _h=="undefined"&&(_h=AA);function AQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}_h(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,a=i===void 0?"active":i,o=e.activeStyle,s=e.className,l=e.exact,u=e.isActive,c=e.location,f=e.sensitive,d=e.strict,p=e.style,v=e.to,w=e.innerRef,A=yh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Ge.createElement(sl.Consumer,null,function(h){h||$o(!1);var g=c||h.location,b=TA(Qy(v,g),g),m=b.pathname,y=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=y?bh(g.pathname,{path:y,exact:l,sensitive:f,strict:d}):null,x=!!(u?u(_,g):_),S=x?AQ(s,a):s,M=x?tr({},p,{},o):p,V=tr({"aria-current":x&&r||null,className:S,style:M,to:b},A);return AA!==_h?V.ref=t||w:V.innerRef=w,Ge.createElement(Jy,V)})});function CA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=CA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Fo(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=CA(t))&&(r&&(r+=" "),r+=n);return r}function jo(){return jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}function CQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nc(e){return typeof e=="number"&&!isNaN(e)}function rc(e){return typeof e=="boolean"}function ic(e){return typeof e=="string"}function vr(e){return typeof e=="function"}function Sh(e){return ic(e)||vr(e)?e:null}function Zy(e){return e===0||e}function RQ(e,t){return e===!1||nc(e)&&e>0?e:t}var RA=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function ew(e){return st.exports.isValidElement(e)||ic(e)||vr(e)||nc(e)}var NA={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ja={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default",DARK:"dark"};function NQ(e,t,n){n===void 0&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame(function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame(function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function OQ(e){var t=e.enter,n=e.exit,r=e.appendPosition,i=r===void 0?!1:r,a=e.collapse,o=a===void 0?!0:a,s=e.collapseDuration,l=s===void 0?300:s;return function(c){var f=c.children,d=c.position,p=c.preventExitTransition,v=c.done,w=c.nodeRef,A=c.isIn,h=i?t+"--"+d:t,g=i?n+"--"+d:n,b=st.exports.useRef(),m=st.exports.useRef(0);st.exports.useLayoutEffect(function(){y()},[]),st.exports.useEffect(function(){A||(p?S():x())},[A]);function y(){var M=w.current;b.current=M.className,M.className+=" "+h,M.addEventListener("animationend",_)}function _(){var M=w.current;M.removeEventListener("animationend",_),m.current===0&&(M.className=b.current)}function x(){m.current=1;var M=w.current;M.className+=" "+g,M.addEventListener("animationend",S)}function S(){var M=w.current;M.removeEventListener("animationend",S),o?NQ(M,v,l):v()}return Ge.createElement(Ge.Fragment,null,f)}}var vi={list:new Map,emitQueue:new Map,on:function(t,n){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(n),this},off:function(t,n){if(n){var r=this.list.get(t).filter(function(i){return i!==n});return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit:function(t){var n=this.emitQueue.get(t);return n&&(n.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit:function(t){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];this.list.has(t)&&this.list.get(t).forEach(function(o){var s=setTimeout(function(){o.apply(void 0,i)},0);n.emitQueue.has(t)||n.emitQueue.set(t,[]),n.emitQueue.get(t).push(s)})}};function ul(e,t){t===void 0&&(t=!1);var n=st.exports.useRef(e);return st.exports.useEffect(function(){t&&(n.current=e)}),n.current}function IQ(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter(function(n){return n!==t.staleId});case 1:return Zy(t.toastId)?e.filter(function(n){return n!==t.toastId}):[]}}function DQ(e){var t=st.exports.useReducer(function(m){return m+1},0),n=t[1],r=st.exports.useReducer(IQ,[]),i=r[0],a=r[1],o=st.exports.useRef(null),s=ul(0),l=ul([]),u=ul({}),c=ul({toastKey:1,displayedToast:0,props:e,containerId:null,isToastActive:f,getToast:function(y){return u[y]||null}});st.exports.useEffect(function(){return c.containerId=e.containerId,vi.cancelEmit(3).on(0,A).on(1,function(m){return o.current&&p(m)}).on(5,d).emit(2,c),function(){return vi.emit(3,c)}},[]),st.exports.useEffect(function(){c.isToastActive=f,c.displayedToast=i.length,vi.emit(4,i.length,e.containerId)},[i]),st.exports.useEffect(function(){c.props=e});function f(m){return i.indexOf(m)!==-1}function d(m){var y=m.containerId,_=c.props.limit;_&&(!y||c.containerId===y)&&(s-=l.length,l=[])}function p(m){a({type:1,toastId:m})}function v(){var m=l.shift(),y=m.toastContent,_=m.toastProps,x=m.staleId;h(y,_,x)}function w(m){var y=m.containerId,_=m.toastId,x=m.updateId;return!!(!o.current||c.props.enableMultiContainer&&y!==c.props.containerId||u[_]&&x==null)}function A(m,y){var _=y.delay,x=y.staleId,S=CQ(y,["delay","staleId"]);if(!(!ew(m)||w(S))){var M=S.toastId,V=S.updateId,Z=c.props,pe=function(){return p(M)},ge=S.updateId==null;ge&&s++;var we={toastId:M,updateId:V,isIn:!1,key:S.key||c.toastKey++,type:S.type,closeToast:pe,closeButton:S.closeButton,rtl:Z.rtl,position:S.position||Z.position,transition:S.transition||Z.transition,className:Sh(S.className||Z.toastClassName),bodyClassName:Sh(S.bodyClassName||Z.bodyClassName),style:S.style||Z.toastStyle,bodyStyle:S.bodyStyle||Z.bodyStyle,onClick:S.onClick||Z.onClick,pauseOnHover:rc(S.pauseOnHover)?S.pauseOnHover:Z.pauseOnHover,pauseOnFocusLoss:rc(S.pauseOnFocusLoss)?S.pauseOnFocusLoss:Z.pauseOnFocusLoss,draggable:rc(S.draggable)?S.draggable:Z.draggable,draggablePercent:nc(S.draggablePercent)?S.draggablePercent:Z.draggablePercent,draggableDirection:S.draggableDirection||Z.draggableDirection,closeOnClick:rc(S.closeOnClick)?S.closeOnClick:Z.closeOnClick,progressClassName:Sh(S.progressClassName||Z.progressClassName),progressStyle:S.progressStyle||Z.progressStyle,autoClose:RQ(S.autoClose,Z.autoClose),hideProgressBar:rc(S.hideProgressBar)?S.hideProgressBar:Z.hideProgressBar,progress:S.progress,role:ic(S.role)?S.role:Z.role,deleteToast:function(){g(M)}};vr(S.onOpen)&&(we.onOpen=S.onOpen),vr(S.onClose)&&(we.onClose=S.onClose),we.draggableDirection==="y"&&we.draggablePercent===80&&(we.draggablePercent*=1.5);var ee=Z.closeButton;S.closeButton===!1||ew(S.closeButton)?ee=S.closeButton:S.closeButton===!0&&(ee=ew(Z.closeButton)?Z.closeButton:!0),we.closeButton=ee;var Le=m;st.exports.isValidElement(m)&&!ic(m.type)?Le=st.exports.cloneElement(m,{closeToast:pe,toastProps:we}):vr(m)&&(Le=m({closeToast:pe,toastProps:we})),Z.limit&&Z.limit>0&&s>Z.limit&&ge?l.push({toastContent:Le,toastProps:we,staleId:x}):nc(_)&&_>0?setTimeout(function(){h(Le,we,x)},_):h(Le,we,x)}}function h(m,y,_){var x=y.toastId;_&&delete u[_],u[x]={content:m,props:y},a({type:0,toastId:x,staleId:_})}function g(m){delete u[m];var y=l.length;if(s=Zy(m)?s-1:s-c.displayedToast,s<0&&(s=0),y>0){var _=Zy(m)?1:c.props.limit;if(y===1||_===1)c.displayedToast++,v();else{var x=_>y?y:_;c.displayedToast=x;for(var S=0;S<x;S++)v()}}else n()}function b(m){for(var y={},_=e.newestOnTop?Object.keys(u).reverse():Object.keys(u),x=0;x<_.length;x++){var S=u[_[x]],M=S.props.position;y[M]||(y[M]=[]),y[M].push(S)}return Object.keys(y).map(function(V){return m(V,y[V])})}return{getToastToRender:b,collection:u,containerRef:o,isToastActive:f}}function OA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function IA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function PQ(e){var t=st.exports.useState(!0),n=t[0],r=t[1],i=st.exports.useState(!1),a=i[0],o=i[1],s=st.exports.useRef(null),l=ul({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),u=ul(e,!0),c=e.autoClose,f=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;st.exports.useEffect(function(){return vr(e.onOpen)&&e.onOpen(st.exports.isValidElement(e.children)&&e.children.props),function(){vr(u.onClose)&&u.onClose(st.exports.isValidElement(u.children)&&u.children.props)}},[]),st.exports.useEffect(function(){return e.draggable&&y(),function(){e.draggable&&_()}},[e.draggable]),st.exports.useEffect(function(){return e.pauseOnFocusLoss&&b(),function(){e.pauseOnFocusLoss&&m()}},[e.pauseOnFocusLoss]);function w(V){if(e.draggable){var Z=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=Z.getBoundingClientRect(),Z.style.transition="",l.x=OA(V.nativeEvent),l.y=IA(V.nativeEvent),e.draggableDirection==="x"?(l.start=l.x,l.removalDistance=Z.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=Z.offsetHeight*(e.draggablePercent/100))}}function A(){if(l.boundingRect){var V=l.boundingRect,Z=V.top,pe=V.bottom,ge=V.left,we=V.right;e.pauseOnHover&&l.x>=ge&&l.x<=we&&l.y>=Z&&l.y<=pe?g():h()}}function h(){r(!0)}function g(){r(!1)}function b(){document.hasFocus()||g(),window.addEventListener("focus",h),window.addEventListener("blur",g)}function m(){window.removeEventListener("focus",h),window.removeEventListener("blur",g)}function y(){document.addEventListener("mousemove",x),document.addEventListener("mouseup",S),document.addEventListener("touchmove",x),document.addEventListener("touchend",S)}function _(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",S)}function x(V){if(l.canDrag){V.preventDefault();var Z=s.current;n&&g(),l.x=OA(V),l.y=IA(V),e.draggableDirection==="x"?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),Z.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",Z.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance))}}function S(){var V=s.current;if(l.canDrag){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){o(!0),e.closeToast();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.transform="translate"+e.draggableDirection+"(0)",V.style.opacity="1"}}var M={onMouseDown:w,onTouchStart:w,onMouseUp:A,onTouchEnd:A};return c&&f&&(M.onMouseEnter=g,M.onMouseLeave=h),v&&(M.onClick=function(V){p&&p(V),l.canCloseOnClick&&d()}),{playToast:h,pauseToast:g,isRunning:n,preventExitTransition:a,toastRef:s,eventHandlers:M}}function DA(e){var t=e.closeToast,n=e.type,r=e.ariaLabel,i=r===void 0?"close":r;return st.exports.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(o){o.stopPropagation(),t(o)},"aria-label":i},st.exports.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},st.exports.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function PA(e){var t,n,r=e.delay,i=e.isRunning,a=e.closeToast,o=e.type,s=e.hide,l=e.className,u=e.style,c=e.controlledProgress,f=e.progress,d=e.rtl,p=e.isIn,v=jo({},u,{animationDuration:r+"ms",animationPlayState:i?"running":"paused",opacity:s?0:1});c&&(v.transform="scaleX("+f+")");var w=Fo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+o,(t={},t["Toastify__progress-bar--rtl"]=d,t)),A=vr(l)?l({rtl:d,type:o,defaultClassName:w}):Fo(w,l),h=(n={},n[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]=c&&f<1?null:function(){p&&a()},n);return st.exports.createElement("div",Object.assign({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:A,style:v},h))}PA.defaultProps={type:ja.DEFAULT,hide:!1};var LQ=function(t){var n,r=PQ(t),i=r.isRunning,a=r.preventExitTransition,o=r.toastRef,s=r.eventHandlers,l=t.closeButton,u=t.children,c=t.autoClose,f=t.onClick,d=t.type,p=t.hideProgressBar,v=t.closeToast,w=t.transition,A=t.position,h=t.className,g=t.style,b=t.bodyClassName,m=t.bodyStyle,y=t.progressClassName,_=t.progressStyle,x=t.updateId,S=t.role,M=t.progress,V=t.rtl,Z=t.toastId,pe=t.deleteToast,ge=t.isIn,we=Fo("Toastify__toast","Toastify__toast--"+d,(n={},n["Toastify__toast--rtl"]=V,n)),ee=vr(h)?h({rtl:V,position:A,type:d,defaultClassName:we}):Fo(we,h),Le=!!M;function je(E){if(!!E){var C={closeToast:v,type:d};if(vr(E))return E(C);if(st.exports.isValidElement(E))return st.exports.cloneElement(E,C)}}return st.exports.createElement(w,{isIn:ge,done:pe,position:A,preventExitTransition:a,nodeRef:o},st.exports.createElement("div",Object.assign({id:Z,onClick:f,className:ee},s,{style:g,ref:o}),st.exports.createElement("div",Object.assign({},ge&&{role:S},{className:vr(b)?b({type:d}):Fo("Toastify__toast-body",b),style:m}),u),je(l),(c||Le)&&st.exports.createElement(PA,Object.assign({},x&&!Le?{key:"pb-"+x}:{},{rtl:V,delay:c,isRunning:i,isIn:ge,closeToast:v,hide:p,type:d,style:_,className:y,controlledProgress:Le,progress:M}))))},$Q=OQ({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),LA=function(t){var n=DQ(t),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,o=t.className,s=t.style,l=t.rtl,u=t.containerId;function c(f){var d,p=Fo("Toastify__toast-container","Toastify__toast-container--"+f,(d={},d["Toastify__toast-container--rtl"]=l,d));return vr(o)?o({position:f,rtl:l,defaultClassName:p}):Fo(p,Sh(o))}return st.exports.createElement("div",{ref:i,className:"Toastify",id:u},r(function(f,d){var p=d.length===0?jo({},s,{pointerEvents:"none"}):jo({},s);return st.exports.createElement("div",{className:c(f),style:p,key:"container-"+f},d.map(function(v){var w=v.content,A=v.props;return st.exports.createElement(LQ,Object.assign({},A,{isIn:a(A.toastId),key:"toast-"+A.key,closeButton:A.closeButton===!0?DA:A.closeButton}),w)}))}))};LA.defaultProps={position:NA.TOP_RIGHT,transition:$Q,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:DA,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert"};var cl=new Map,tw,ac,$A,nw=[],rw=!1;function FQ(){return cl.size>0}function jQ(e,t){var n=t.containerId,r=cl.get(n||tw);return r?r.getToast(e):null}function FA(){return Math.random().toString(36).substr(2,9)}function MQ(e){return e&&(ic(e.toastId)||nc(e.toastId))?e.toastId:FA()}function iw(e,t){return FQ()?vi.emit(0,e,t):(nw.push({content:e,options:t}),rw&&RA&&(rw=!1,ac=document.createElement("div"),document.body.appendChild(ac),Rm.exports.render(st.exports.createElement(LA,Object.assign({},$A)),ac))),t.toastId}function jA(e,t){return jo({},t,{type:t&&t.type||e,toastId:MQ(t)})}var oc=function(t){return function(n,r){return iw(n,jA(t,r))}},on=function(t,n){return iw(t,jA(ja.DEFAULT,n))};on.success=oc(ja.SUCCESS),on.info=oc(ja.INFO),on.error=oc(ja.ERROR),on.warning=oc(ja.WARNING),on.dark=oc(ja.DARK),on.warn=on.warning,on.dismiss=function(e){return vi.emit(1,e)},on.clearWaitingQueue=function(e){return e===void 0&&(e={}),vi.emit(5,e)},on.isActive=function(e){var t=!1;return cl.forEach(function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},on.update=function(e,t){t===void 0&&(t={}),setTimeout(function(){var n=jQ(e,t);if(n){var r=n.props,i=n.content,a=jo({},r,t,{toastId:t.toastId||e,updateId:FA()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,iw(o,a)}},0)},on.done=function(e){on.update(e,{progress:1})},on.onChange=function(e){return vr(e)&&vi.on(4,e),function(){vr(e)&&vi.off(4,e)}},on.configure=function(e){e===void 0&&(e={}),rw=!0,$A=e},on.POSITION=NA,on.TYPE=ja,vi.on(2,function(e){tw=e.containerId||e,cl.set(tw,e),nw.forEach(function(t){vi.emit(0,t.content,t.options)}),nw=[]}).on(3,function(e){cl.delete(e.containerId||e),cl.size===0&&vi.off(0).off(1).off(5),RA&&ac&&document.body.removeChild(ac)});var aw={button:"_button_17clj_1",buttonDefault:"_buttonDefault_17clj_21",buttonPrimary:"_buttonPrimary_17clj_22",buttonSecondary:"_buttonSecondary_17clj_23",buttonUnstyled:"_buttonUnstyled_17clj_24",activeButton:"_activeButton_17clj_75",buttonBlue:"_buttonBlue_17clj_129",buttonNeutral:"_buttonNeutral_17clj_158",buttonDanger:"_buttonDanger_17clj_186"},MA=st.exports.forwardRef(function({children:t,className:n,hideAccessibly:r,isActive:i=!1,to:a,variant:o="unstyled",isExternal:s=!1,...l},u){const c=`button${o[0].toUpperCase()}${o.substr(1)}`,f=[aw.button,n,i?aw.activeButton:"",aw[c]].filter(Boolean),d={...l};r&&(f.push("hideAccessibly"),d.tabIndex=-1);const p=f.join(" ");return a?s?Ge.createElement("a",{...d,className:p,ref:u,href:a,rel:"noopener noreferrer"},t):Ge.createElement(Jy,{...d,className:p,ref:u,to:{pathname:a}},t):Ge.createElement("button",{...d,className:p,ref:u,type:d.type||"button"},t)});function sc({children:e,text:t}){return Ge.createElement(Ge.Fragment,null,t&&Ge.createElement("span",{className:"hideAccessibly"},t),Ge.cloneElement(e,{"aria-hidden":!0}))}function zQ({text:e="Done"}={}){return Ge.createElement(sc,{text:e},Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",height:"28",width:"28"},Ge.createElement("style",null,`
        @keyframes a0_t { 0% { transform: translate(14px,14px) scale(1,1); } 48.387% { transform: translate(14px,14px) scale(1,1); animation-timing-function: cubic-bezier(0,1.1,1,1); } 100% { transform: translate(14px,14px) scale(1.2,1.2); } }
        @keyframes a0_o { 0% { opacity: 0; } 47.29% { opacity: 0; } 48.387% { opacity: 1; animation-timing-function: cubic-bezier(0,1,1,1); } 100% { opacity: 0; } }
        @keyframes a1_t { 0% { transform: translate(14px,14px) rotate(-270deg); animation-timing-function: cubic-bezier(.3,0,1,.8); } 51.613% { transform: translate(14px,14px) rotate(270deg); } 100% { transform: translate(14px,14px) rotate(270deg); } }
        @keyframes a1_o { 0% { opacity: 0; } 27.935% { opacity: 1; } 100% { opacity: 1; } }
        @keyframes a1_do { 0% { stroke-dashoffset: 50px; animation-timing-function: cubic-bezier(0,0,1,1); } 51.613% { stroke-dashoffset: 10px; } 100% { stroke-dashoffset: 10px; } }
        @keyframes a2_t { 0% { transform: translate(13.9px,14.4px) scale(.7,.7) translate(-5px,0px); } 47.29% { transform: translate(13.9px,14.4px) scale(.7,.7) translate(-5px,0px); animation-timing-function: cubic-bezier(.3,-0.2,.5,2.1); } 61.29% { transform: translate(13.9px,14.4px) scale(1,1) translate(-5px,0px); } 100% { transform: translate(13.9px,14.4px) scale(1,1) translate(-5px,0px); } }
        @keyframes a2_o { 0% { opacity: 0; } 47.29% { opacity: 0; } 61.29% { opacity: 1; } 100% { opacity: 1; } }
        .animatedCheckmarkIconEllipse1 {
          animation: animation: 1.55s linear both a0_t, 1.55s linear both a0_o;
        }
        .animatedCheckmarkIconEllipse2 {
          animation: 1.55s linear both a1_t, 1.55s linear both a1_o, 1.55s linear both a1_do;
        }
        .animatedCheckmarkIconPath {
          animation: 1.55s linear both a2_t, 1.55s linear both a2_o;
        }
      `),Ge.createElement("ellipse",{className:"animatedCheckmarkIconEllipse1",rx:"11.8",ry:"11.8",fill:"#fff",opacity:"0",transform:"translate(14,14) scale(1.00138,1.00138)"}),Ge.createElement("ellipse",{className:"animatedCheckmarkIconEllipse2",rx:"6",ry:"6",fill:"none",stroke:"#fff",strokeWidth:"12",strokeDasharray:"50",strokeDashoffset:"50",opacity:"0",transform:"translate(14,14) rotate(-270)"}),Ge.createElement("path",{className:"animatedCheckmarkIconPath",d:"M-0.8,0.3L2.9,3.9C2.9,3.9,10.1,-3.3,10.7,-3.9",stroke:"#282828",fill:"none",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",transform:"translate(13.9,14.4) scale(0.7,0.7) translate(-5,0)"})))}function BQ({text:e="error"}={}){return Ge.createElement(sc,{text:e},Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",fill:"none"},Ge.createElement("path",{fill:"white",fillRule:"evenodd",clipRule:"evenodd",d:"M95 50C95 74.8528 74.8528 95 50 95C25.1472 95 5 74.8528 5 50C5 25.1472 25.1472 5 50 5C74.8528 5 95 25.1472 95 50ZM56 71C56 74.3137 53.3137 77 50 77C46.6863 77 44 74.3137 44 71C44 67.6863 46.6863 65 50 65C53.3137 65 56 67.6863 56 71ZM50 19C46.6863 19 44 21.6863 44 25V55C44 58.3137 46.6863 61 50 61C53.3137 61 56 58.3137 56 55V25C56 21.6863 53.3137 19 50 19Z"})))}function UQ({text:e="information"}={}){return Ge.createElement(sc,{text:e},Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},Ge.createElement("path",{fill:"#fff",d:"M26,0.654C12.002,0.654,0.654,12.002,0.654,26c0,14,11.349,25.346,25.347,25.346C40,51.346,51.346,40,51.346,26  C51.346,12.002,40,0.654,26,0.654z M27.072,10.68c1.84,0,3.331,1.492,3.331,3.332s-1.491,3.332-3.331,3.332  s-3.332-1.492-3.332-3.332S25.232,10.68,27.072,10.68z M30.059,40.16c0,0-2.625,2.201-5.932,0.541  c-0.734-0.367-1.354-1.004-1.75-1.705c-1.123-1.986-0.691-4.117-0.691-4.117l0.33-2.613l0.857-6.814l-2.334,0.051  c-1.093,0.025-1.995-0.842-2.019-1.934c-0.019-0.848,0.506-1.584,1.252-1.881l5.981-2.355c1.424-0.561,3.032,0.139,3.592,1.563  c0.214,0.541,0.245,1.105,0.123,1.631l-0.079,0.355l-2.339,10.271l-0.584,2.568c-0.086,0.387-0.099,0.475-0.124,0.678  c-0.063,1.156,1.581,0.289,1.581,0.289c0.987-0.545,2.229-0.184,2.771,0.803C31.205,38.418,30.909,39.572,30.059,40.16z"})))}function HQ({text:e="success"}={}){return Ge.createElement(sc,{text:e},Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ge.createElement("g",null,Ge.createElement("path",{fill:"#fff",d:"M16,1A15,15,0,1,0,31,16,15.01828,15.01828,0,0,0,16,1Zm7.71,10.74-9.99,9.98a.91648.91648,0,0,1-.54.28,1.10651,1.10651,0,0,1-.19.02.441.441,0,0,1-.16-.02.91678.91678,0,0,1-.54-.28l-4-3.99a.9959.9959,0,0,1,0-1.41,1.008,1.008,0,0,1,1.42,0l3.3,3.3,9.28-9.29a1.00808,1.00808,0,0,1,1.42,0A.996.996,0,0,1,23.71,11.74Z"}))))}function qQ({text:e="warning"}={}){return Ge.createElement(sc,{text:e},Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Ge.createElement("path",{fill:"#fff",d:"M14.876,2.672a3.309,3.309,0,0,0-5.752,0L.414,18.19a3.178,3.178,0,0,0,.029,3.189A3.264,3.264,0,0,0,3.29,23H20.71a3.264,3.264,0,0,0,2.847-1.621,3.178,3.178,0,0,0,.029-3.189ZM12,19a1,1,0,1,1,1-1A1,1,0,0,1,12,19Zm1-5a1,1,0,0,1-2,0V8a1,1,0,0,1,2,0Z"})))}var lc=e=>e.filter(Boolean).join("/").replace(/:\/{3,}/g,"://").split(/:\/\//g).map(t=>t.replace(/\/{2,}/g,"/")).join("://"),Mo=new Ka.exports.EventEmitter2({maxListeners:999});const WQ=ap(),vt=({category:e="default",content:t,eventToEmitOnUndo:n,hasAnimatedSuccessIcon:r,link:i,linkTooltipContent:a,undoableUserEventId:o,buttonText:s,onButtonClick:l,duration:u})=>on(({closeToast:f})=>{var A;const d=o||n;let p;e==="error"?p=Ge.createElement(BQ,null):e==="info"?p=Ge.createElement(UQ,null):e==="success"?r?p=Ge.createElement(zQ,{text:"Success!"}):p=Ge.createElement(HQ,null):e==="warning"&&(p=Ge.createElement(qQ,null));let v;d&&(v=Ge.createElement("div",{className:"actionsContainer"},Ge.createElement(MA,{onClick:h=>{h.preventDefault(),f==null||f(),o&&nb(o,"click"),n&&Mo.emit(n)}},"Undo"))),s&&l&&(v=Ge.createElement("div",{className:"actionsContainer"},Ge.createElement(MA,{onClick:h=>{h.preventDefault(),f==null||f(),l()}},s)));let w=Ge.createElement("div",{className:"contentContainer"},p,Ge.createElement("span",{className:"contentWrapper"},t));if(i){const h={className:"toastLink"},g=!/^https?:\/\//.test(i),b=g&&Jt?lc([WQ,i]):i;g&&!Jt?w=Ge.createElement(Jy,{...h,to:b},w):w=Ge.createElement("a",{...h,href:b},w),a&&(w=Ge.createElement(MY,{appendTo:Jt&&((A=document.querySelector("readwise-tooltip-container"))==null?void 0:A.shadowRoot)||document.body,content:a,theme:e},w))}return Ge.createElement(Ge.Fragment,null,w,v)},{autoClose:u||4e3,closeButton:!1,closeOnClick:!1,position:Jt?on.POSITION.TOP_RIGHT:on.POSITION.BOTTOM_LEFT,toastId:o||Si(),type:on.TYPE[e.toUpperCase()]}),VQ=e=>on.dismiss(e);var GQ=(e,t=1/0)=>e+(t===1?"":"s");const KQ=()=>Object.keys(He).map(e=>GQ(e).toLowerCase()),YQ=()=>`:category(${KQ().join("|")})`,ow=()=>{var e,t;return((t=(e=bh(Kn?"":window.location.pathname,{path:`/${YQ()}`}))==null?void 0:e.params)==null?void 0:t.category)||null};/**
 * @name is-language-code
 * @fileoverview Is given string a language code (as per IANA)
 * @version 3.1.0
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/is-language-code/}
 */var QQ=["aa","aaa","aab","aac","aad","aae","aaf","aag","aah","aai","aak","aal","aam","aan","aao","aap","aaq","aas","aat","aau","aav","aaw","aax","aaz","ab","aba","abb","abc","abd","abe","abf","abg","abh","abi","abj","abl","abm","abn","abo","abp","abq","abr","abs","abt","abu","abv","abw","abx","aby","abz","aca","acb","acd","ace","acf","ach","aci","ack","acl","acm","acn","acp","acq","acr","acs","act","acu","acv","acw","acx","acy","acz","ada","adb","add","ade","adf","adg","adh","adi","adj","adl","adn","ado","adp","adq","adr","ads","adt","adu","adw","adx","ady","adz","ae","aea","aeb","aec","aed","aee","aek","ael","aem","aen","aeq","aer","aes","aeu","aew","aey","aez","af","afa","afb","afd","afe","afg","afh","afi","afk","afn","afo","afp","afs","aft","afu","afz","aga","agb","agc","agd","age","agf","agg","agh","agi","agj","agk","agl","agm","agn","ago","agp","agq","agr","ags","agt","agu","agv","agw","agx","agy","agz","aha","ahb","ahg","ahh","ahi","ahk","ahl","ahm","ahn","aho","ahp","ahr","ahs","aht","aia","aib","aic","aid","aie","aif","aig","aih","aii","aij","aik","ail","aim","ain","aio","aip","aiq","air","ais","ait","aiw","aix","aiy","aja","ajg","aji","ajn","ajp","ajt","aju","ajw","ajz","ak","akb","akc","akd","ake","akf","akg","akh","aki","akj","akk","akl","akm","ako","akp","akq","akr","aks","akt","aku","akv","akw","akx","aky","akz","ala","alc","ald","ale","alf","alg","alh","ali","alj","alk","all","alm","aln","alo","alp","alq","alr","als","alt","alu","alv","alw","alx","aly","alz","am","ama","amb","amc","ame","amf","amg","ami","amj","amk","aml","amm","amn","amo","amp","amq","amr","ams","amt","amu","amv","amw","amx","amy","amz","an","ana","anb","anc","and","ane","anf","ang","anh","ani","anj","ank","anl","anm","ann","ano","anp","anq","anr","ans","ant","anu","anv","anw","anx","any","anz","aoa","aob","aoc","aod","aoe","aof","aog","aoh","aoi","aoj","aok","aol","aom","aon","aor","aos","aot","aou","aox","aoz","apa","apb","apc","apd","ape","apf","apg","aph","api","apj","apk","apl","apm","apn","apo","app","apq","apr","aps","apt","apu","apv","apw","apx","apy","apz","aqa","aqc","aqd","aqg","aql","aqm","aqn","aqp","aqr","aqt","aqz","ar","arb","arc","ard","are","arh","ari","arj","ark","arl","arn","aro","arp","arq","arr","ars","art","aru","arv","arw","arx","ary","arz","as","asa","asb","asc","asd","ase","asf","asg","ash","asi","asj","ask","asl","asn","aso","asp","asq","asr","ass","ast","asu","asv","asw","asx","asy","asz","ata","atb","atc","atd","ate","atg","ath","ati","atj","atk","atl","atm","atn","ato","atp","atq","atr","ats","att","atu","atv","atw","atx","aty","atz","aua","aub","auc","aud","aue","auf","aug","auh","aui","auj","auk","aul","aum","aun","auo","aup","auq","aur","aus","aut","auu","auw","aux","auy","auz","av","avb","avd","avi","avk","avl","avm","avn","avo","avs","avt","avu","avv","awa","awb","awc","awd","awe","awg","awh","awi","awk","awm","awn","awo","awr","aws","awt","awu","awv","aww","awx","awy","axb","axe","axg","axk","axl","axm","axx","ay","aya","ayb","ayc","ayd","aye","ayg","ayh","ayi","ayk","ayl","ayn","ayo","ayp","ayq","ayr","ays","ayt","ayu","ayx","ayy","ayz","az","aza","azb","azc","azd","azg","azj","azm","azn","azo","azt","azz","ba","baa","bab","bac","bad","bae","baf","bag","bah","bai","baj","bal","ban","bao","bap","bar","bas","bat","bau","bav","baw","bax","bay","baz","bba","bbb","bbc","bbd","bbe","bbf","bbg","bbh","bbi","bbj","bbk","bbl","bbm","bbn","bbo","bbp","bbq","bbr","bbs","bbt","bbu","bbv","bbw","bbx","bby","bbz","bca","bcb","bcc","bcd","bce","bcf","bcg","bch","bci","bcj","bck","bcl","bcm","bcn","bco","bcp","bcq","bcr","bcs","bct","bcu","bcv","bcw","bcy","bcz","bda","bdb","bdc","bdd","bde","bdf","bdg","bdh","bdi","bdj","bdk","bdl","bdm","bdn","bdo","bdp","bdq","bdr","bds","bdt","bdu","bdv","bdw","bdx","bdy","bdz","be","bea","beb","bec","bed","bee","bef","beg","beh","bei","bej","bek","bem","beo","bep","beq","ber","bes","bet","beu","bev","bew","bex","bey","bez","bfa","bfb","bfc","bfd","bfe","bff","bfg","bfh","bfi","bfj","bfk","bfl","bfm","bfn","bfo","bfp","bfq","bfr","bfs","bft","bfu","bfw","bfx","bfy","bfz","bg","bga","bgb","bgc","bgd","bge","bgf","bgg","bgi","bgj","bgk","bgl","bgm","bgn","bgo","bgp","bgq","bgr","bgs","bgt","bgu","bgv","bgw","bgx","bgy","bgz","bh","bha","bhb","bhc","bhd","bhe","bhf","bhg","bhh","bhi","bhj","bhk","bhl","bhm","bhn","bho","bhp","bhq","bhr","bhs","bht","bhu","bhv","bhw","bhx","bhy","bhz","bi","bia","bib","bic","bid","bie","bif","big","bij","bik","bil","bim","bin","bio","bip","biq","bir","bit","biu","biv","biw","bix","biy","biz","bja","bjb","bjc","bjd","bje","bjf","bjg","bjh","bji","bjj","bjk","bjl","bjm","bjn","bjo","bjp","bjq","bjr","bjs","bjt","bju","bjv","bjw","bjx","bjy","bjz","bka","bkb","bkc","bkd","bkf","bkg","bkh","bki","bkj","bkk","bkl","bkm","bkn","bko","bkp","bkq","bkr","bks","bkt","bku","bkv","bkw","bkx","bky","bkz","bla","blb","blc","bld","ble","blf","blg","blh","bli","blj","blk","bll","blm","bln","blo","blp","blq","blr","bls","blt","blv","blw","blx","bly","blz","bm","bma","bmb","bmc","bmd","bme","bmf","bmg","bmh","bmi","bmj","bmk","bml","bmm","bmn","bmo","bmp","bmq","bmr","bms","bmt","bmu","bmv","bmw","bmx","bmy","bmz","bn","bna","bnb","bnc","bnd","bne","bnf","bng","bni","bnj","bnk","bnl","bnm","bnn","bno","bnp","bnq","bnr","bns","bnt","bnu","bnv","bnw","bnx","bny","bnz","bo","boa","bob","boe","bof","bog","boh","boi","boj","bok","bol","bom","bon","boo","bop","boq","bor","bot","bou","bov","bow","box","boy","boz","bpa","bpb","bpd","bpg","bph","bpi","bpj","bpk","bpl","bpm","bpn","bpo","bpp","bpq","bpr","bps","bpt","bpu","bpv","bpw","bpx","bpy","bpz","bqa","bqb","bqc","bqd","bqf","bqg","bqh","bqi","bqj","bqk","bql","bqm","bqn","bqo","bqp","bqq","bqr","bqs","bqt","bqu","bqv","bqw","bqx","bqy","bqz","br","bra","brb","brc","brd","brf","brg","brh","bri","brj","brk","brl","brm","brn","bro","brp","brq","brr","brs","brt","bru","brv","brw","brx","bry","brz","bs","bsa","bsb","bsc","bse","bsf","bsg","bsh","bsi","bsj","bsk","bsl","bsm","bsn","bso","bsp","bsq","bsr","bss","bst","bsu","bsv","bsw","bsx","bsy","bta","btb","btc","btd","bte","btf","btg","bth","bti","btj","btk","btl","btm","btn","bto","btp","btq","btr","bts","btt","btu","btv","btw","btx","bty","btz","bua","bub","buc","bud","bue","buf","bug","buh","bui","buj","buk","bum","bun","buo","bup","buq","bus","but","buu","buv","buw","bux","buy","buz","bva","bvb","bvc","bvd","bve","bvf","bvg","bvh","bvi","bvj","bvk","bvl","bvm","bvn","bvo","bvp","bvq","bvr","bvt","bvu","bvv","bvw","bvx","bvy","bvz","bwa","bwb","bwc","bwd","bwe","bwf","bwg","bwh","bwi","bwj","bwk","bwl","bwm","bwn","bwo","bwp","bwq","bwr","bws","bwt","bwu","bww","bwx","bwy","bwz","bxa","bxb","bxc","bxd","bxe","bxf","bxg","bxh","bxi","bxj","bxk","bxl","bxm","bxn","bxo","bxp","bxq","bxr","bxs","bxu","bxv","bxw","bxx","bxz","bya","byb","byc","byd","bye","byf","byg","byh","byi","byj","byk","byl","bym","byn","byo","byp","byq","byr","bys","byt","byv","byw","byx","byy","byz","bza","bzb","bzc","bzd","bze","bzf","bzg","bzh","bzi","bzj","bzk","bzl","bzm","bzn","bzo","bzp","bzq","bzr","bzs","bzt","bzu","bzv","bzw","bzx","bzy","bzz","ca","caa","cab","cac","cad","cae","caf","cag","cah","cai","caj","cak","cal","cam","can","cao","cap","caq","car","cas","cau","cav","caw","cax","cay","caz","cba","cbb","cbc","cbd","cbe","cbg","cbh","cbi","cbj","cbk","cbl","cbn","cbo","cbq","cbr","cbs","cbt","cbu","cbv","cbw","cby","cca","ccc","ccd","cce","ccg","cch","ccj","ccl","ccm","ccn","cco","ccp","ccq","ccr","ccs","cda","cdc","cdd","cde","cdf","cdg","cdh","cdi","cdj","cdm","cdn","cdo","cdr","cds","cdy","cdz","ce","cea","ceb","ceg","cek","cel","cen","cet","cey","cfa","cfd","cfg","cfm","cga","cgc","cgg","cgk","ch","chb","chc","chd","chf","chg","chh","chj","chk","chl","chm","chn","cho","chp","chq","chr","cht","chw","chx","chy","chz","cia","cib","cic","cid","cie","cih","cik","cim","cin","cip","cir","ciw","ciy","cja","cje","cjh","cji","cjk","cjm","cjn","cjo","cjp","cjr","cjs","cjv","cjy","cka","ckb","ckh","ckl","ckn","cko","ckq","ckr","cks","ckt","cku","ckv","ckx","cky","ckz","cla","clc","cld","cle","clh","cli","clj","clk","cll","clm","clo","clt","clu","clw","cly","cma","cmc","cme","cmg","cmi","cmk","cml","cmm","cmn","cmo","cmr","cms","cmt","cna","cnb","cnc","cng","cnh","cni","cnk","cnl","cno","cnr","cns","cnt","cnu","cnw","cnx","co","coa","cob","coc","cod","coe","cof","cog","coh","coj","cok","col","com","con","coo","cop","coq","cot","cou","cov","cow","cox","coy","coz","cpa","cpb","cpc","cpe","cpf","cpg","cpi","cpn","cpo","cpp","cps","cpu","cpx","cpy","cqd","cqu","cr","cra","crb","crc","crd","crf","crg","crh","cri","crj","crk","crl","crm","crn","cro","crp","crq","crr","crs","crt","crv","crw","crx","cry","crz","cs","csa","csb","csc","csd","cse","csf","csg","csh","csi","csj","csk","csl","csm","csn","cso","csq","csr","css","cst","csu","csv","csw","csy","csz","cta","ctc","ctd","cte","ctg","cth","ctl","ctm","ctn","cto","ctp","cts","ctt","ctu","ctz","cu","cua","cub","cuc","cug","cuh","cui","cuj","cuk","cul","cum","cuo","cup","cuq","cur","cus","cut","cuu","cuv","cuw","cux","cuy","cv","cvg","cvn","cwa","cwb","cwd","cwe","cwg","cwt","cy","cya","cyb","cyo","czh","czk","czn","czo","czt","da","daa","dac","dad","dae","daf","dag","dah","dai","daj","dak","dal","dam","dao","dap","daq","dar","das","dau","dav","daw","dax","day","daz","dba","dbb","dbd","dbe","dbf","dbg","dbi","dbj","dbl","dbm","dbn","dbo","dbp","dbq","dbr","dbt","dbu","dbv","dbw","dby","dcc","dcr","dda","ddd","dde","ddg","ddi","ddj","ddn","ddo","ddr","dds","ddw","de","dec","ded","dee","def","deg","deh","dei","dek","del","dem","den","dep","deq","der","des","dev","dez","dga","dgb","dgc","dgd","dge","dgg","dgh","dgi","dgk","dgl","dgn","dgo","dgr","dgs","dgt","dgu","dgw","dgx","dgz","dha","dhd","dhg","dhi","dhl","dhm","dhn","dho","dhr","dhs","dhu","dhv","dhw","dhx","dia","dib","dic","did","dif","dig","dih","dii","dij","dik","dil","dim","din","dio","dip","diq","dir","dis","dit","diu","diw","dix","diy","diz","dja","djb","djc","djd","dje","djf","dji","djj","djk","djl","djm","djn","djo","djr","dju","djw","dka","dkk","dkl","dkr","dks","dkx","dlg","dlk","dlm","dln","dma","dmb","dmc","dmd","dme","dmg","dmk","dml","dmm","dmn","dmo","dmr","dms","dmu","dmv","dmw","dmx","dmy","dna","dnd","dne","dng","dni","dnj","dnk","dnn","dno","dnr","dnt","dnu","dnv","dnw","dny","doa","dob","doc","doe","dof","doh","doi","dok","dol","don","doo","dop","doq","dor","dos","dot","dov","dow","dox","doy","doz","dpp","dra","drb","drc","drd","dre","drg","drh","dri","drl","drn","dro","drq","drr","drs","drt","dru","drw","dry","dsb","dse","dsh","dsi","dsl","dsn","dso","dsq","dta","dtb","dtd","dth","dti","dtk","dtm","dtn","dto","dtp","dtr","dts","dtt","dtu","dty","dua","dub","duc","dud","due","duf","dug","duh","dui","duj","duk","dul","dum","dun","duo","dup","duq","dur","dus","duu","duv","duw","dux","duy","duz","dv","dva","dwa","dwl","dwr","dws","dwu","dww","dwy","dwz","dya","dyb","dyd","dyg","dyi","dym","dyn","dyo","dyu","dyy","dz","dza","dzd","dze","dzg","dzl","dzn","eaa","ebg","ebk","ebo","ebr","ebu","ecr","ecs","ecy","ee","eee","efa","efe","efi","ega","egl","ego","egx","egy","ehu","eip","eit","eiv","eja","eka","ekc","eke","ekg","eki","ekk","ekl","ekm","eko","ekp","ekr","eky","el","ele","elh","eli","elk","elm","elo","elp","elu","elx","ema","emb","eme","emg","emi","emk","emm","emn","emo","emp","ems","emu","emw","emx","emy","en","ena","enb","enc","end","enf","enh","enl","enm","enn","eno","enq","enr","enu","env","enw","enx","eo","eot","epi","era","erg","erh","eri","erk","ero","err","ers","ert","erw","es","ese","esg","esh","esi","esk","esl","esm","esn","eso","esq","ess","esu","esx","esy","et","etb","etc","eth","etn","eto","etr","ets","ett","etu","etx","etz","eu","euq","eve","evh","evn","ewo","ext","eya","eyo","eza","eze","fa","faa","fab","fad","faf","fag","fah","fai","faj","fak","fal","fam","fan","fap","far","fat","fau","fax","fay","faz","fbl","fcs","fer","ff","ffi","ffm","fgr","fi","fia","fie","fil","fip","fir","fit","fiu","fiw","fj","fkk","fkv","fla","flh","fli","fll","fln","flr","fly","fmp","fmu","fnb","fng","fni","fo","fod","foi","fom","fon","for","fos","fox","fpe","fqs","fr","frc","frd","frk","frm","fro","frp","frq","frr","frs","frt","fse","fsl","fss","fub","fuc","fud","fue","fuf","fuh","fui","fuj","fum","fun","fuq","fur","fut","fuu","fuv","fuy","fvr","fwa","fwe","fy","ga","gaa","gab","gac","gad","gae","gaf","gag","gah","gai","gaj","gak","gal","gam","gan","gao","gap","gaq","gar","gas","gat","gau","gav","gaw","gax","gay","gaz","gba","gbb","gbc","gbd","gbe","gbf","gbg","gbh","gbi","gbj","gbk","gbl","gbm","gbn","gbo","gbp","gbq","gbr","gbs","gbu","gbv","gbw","gbx","gby","gbz","gcc","gcd","gce","gcf","gcl","gcn","gcr","gct","gd","gda","gdb","gdc","gdd","gde","gdf","gdg","gdh","gdi","gdj","gdk","gdl","gdm","gdn","gdo","gdq","gdr","gds","gdt","gdu","gdx","gea","geb","gec","ged","geg","geh","gei","gej","gek","gel","gem","geq","ges","gev","gew","gex","gey","gez","gfk","gft","gfx","gga","ggb","ggd","gge","ggg","ggk","ggl","ggn","ggo","ggr","ggt","ggu","ggw","gha","ghc","ghe","ghh","ghk","ghl","ghn","gho","ghr","ghs","ght","gia","gib","gic","gid","gie","gig","gih","gil","gim","gin","gio","gip","giq","gir","gis","git","giu","giw","gix","giy","giz","gji","gjk","gjm","gjn","gjr","gju","gka","gkd","gke","gkn","gko","gkp","gku","gl","glc","gld","glh","gli","glj","glk","gll","glo","glr","glu","glw","gly","gma","gmb","gmd","gme","gmg","gmh","gml","gmm","gmn","gmq","gmu","gmv","gmw","gmx","gmy","gmz","gn","gna","gnb","gnc","gnd","gne","gng","gnh","gni","gnj","gnk","gnl","gnm","gnn","gno","gnq","gnr","gnt","gnu","gnw","gnz","goa","gob","goc","god","goe","gof","gog","goh","goi","goj","gok","gol","gom","gon","goo","gop","goq","gor","gos","got","gou","gow","gox","goy","goz","gpa","gpe","gpn","gqa","gqi","gqn","gqr","gqu","gra","grb","grc","grd","grg","grh","gri","grj","grk","grm","gro","grq","grr","grs","grt","gru","grv","grw","grx","gry","grz","gse","gsg","gsl","gsm","gsn","gso","gsp","gss","gsw","gta","gti","gtu","gu","gua","gub","guc","gud","gue","guf","gug","guh","gui","guk","gul","gum","gun","guo","gup","guq","gur","gus","gut","guu","guv","guw","gux","guz","gv","gva","gvc","gve","gvf","gvj","gvl","gvm","gvn","gvo","gvp","gvr","gvs","gvy","gwa","gwb","gwc","gwd","gwe","gwf","gwg","gwi","gwj","gwm","gwn","gwr","gwt","gwu","gww","gwx","gxx","gya","gyb","gyd","gye","gyf","gyg","gyi","gyl","gym","gyn","gyo","gyr","gyy","gza","gzi","gzn","ha","haa","hab","hac","had","hae","haf","hag","hah","hai","haj","hak","hal","ham","han","hao","hap","haq","har","has","hav","haw","hax","hay","haz","hba","hbb","hbn","hbo","hbu","hca","hch","hdn","hds","hdy","he","hea","hed","heg","heh","hei","hem","hgm","hgw","hhi","hhr","hhy","hi","hia","hib","hid","hif","hig","hih","hii","hij","hik","hil","him","hio","hir","hit","hiw","hix","hji","hka","hke","hkk","hkn","hks","hla","hlb","hld","hle","hlt","hlu","hma","hmb","hmc","hmd","hme","hmf","hmg","hmh","hmi","hmj","hmk","hml","hmm","hmn","hmp","hmq","hmr","hms","hmt","hmu","hmv","hmw","hmx","hmy","hmz","hna","hnd","hne","hnh","hni","hnj","hnn","hno","hns","hnu","ho","hoa","hob","hoc","hod","hoe","hoh","hoi","hoj","hok","hol","hom","hoo","hop","hor","hos","hot","hov","how","hoy","hoz","hpo","hps","hr","hra","hrc","hre","hrk","hrm","hro","hrp","hrr","hrt","hru","hrw","hrx","hrz","hsb","hsh","hsl","hsn","hss","ht","hti","hto","hts","htu","htx","hu","hub","huc","hud","hue","huf","hug","huh","hui","huj","huk","hul","hum","huo","hup","huq","hur","hus","hut","huu","huv","huw","hux","huy","huz","hvc","hve","hvk","hvn","hvv","hwa","hwc","hwo","hy","hya","hyw","hyx","hz","ia","iai","ian","iap","iar","iba","ibb","ibd","ibe","ibg","ibh","ibi","ibl","ibm","ibn","ibr","ibu","iby","ica","ich","icl","icr","id","ida","idb","idc","idd","ide","idi","idr","ids","idt","idu","ie","ifa","ifb","ife","iff","ifk","ifm","ifu","ify","ig","igb","ige","igg","igl","igm","ign","igo","igs","igw","ihb","ihi","ihp","ihw","ii","iin","iir","ijc","ije","ijj","ijn","ijo","ijs","ik","ike","iki","ikk","ikl","iko","ikp","ikr","iks","ikt","ikv","ikw","ikx","ikz","ila","ilb","ilg","ili","ilk","ill","ilm","ilo","ilp","ils","ilu","ilv","ilw","ima","ime","imi","iml","imn","imo","imr","ims","imy","in","inb","inc","ine","ing","inh","inj","inl","inm","inn","ino","inp","ins","int","inz","io","ior","iou","iow","ipi","ipo","iqu","iqw","ira","ire","irh","iri","irk","irn","iro","irr","iru","irx","iry","is","isa","isc","isd","ise","isg","ish","isi","isk","ism","isn","iso","isr","ist","isu","it","itb","itc","itd","ite","iti","itk","itl","itm","ito","itr","its","itt","itv","itw","itx","ity","itz","iu","ium","ivb","ivv","iw","iwk","iwm","iwo","iws","ixc","ixl","iya","iyo","iyx","izh","izi","izr","izz","ja","jaa","jab","jac","jad","jae","jaf","jah","jaj","jak","jal","jam","jan","jao","jaq","jar","jas","jat","jau","jax","jay","jaz","jbe","jbi","jbj","jbk","jbn","jbo","jbr","jbt","jbu","jbw","jcs","jct","jda","jdg","jdt","jeb","jee","jeg","jeh","jei","jek","jel","jen","jer","jet","jeu","jgb","jge","jgk","jgo","jhi","jhs","ji","jia","jib","jic","jid","jie","jig","jih","jii","jil","jim","jio","jiq","jit","jiu","jiv","jiy","jje","jjr","jka","jkm","jko","jkp","jkr","jku","jle","jls","jma","jmb","jmc","jmd","jmi","jml","jmn","jmr","jms","jmw","jmx","jna","jnd","jng","jni","jnj","jnl","jns","job","jod","jog","jor","jos","jow","jpa","jpr","jpx","jqr","jra","jrb","jrr","jrt","jru","jsl","jua","jub","juc","jud","juh","jui","juk","jul","jum","jun","juo","jup","jur","jus","jut","juu","juw","juy","jv","jvd","jvn","jw","jwi","jya","jye","jyy","ka","kaa","kab","kac","kad","kae","kaf","kag","kah","kai","kaj","kak","kam","kao","kap","kaq","kar","kav","kaw","kax","kay","kba","kbb","kbc","kbd","kbe","kbf","kbg","kbh","kbi","kbj","kbk","kbl","kbm","kbn","kbo","kbp","kbq","kbr","kbs","kbt","kbu","kbv","kbw","kbx","kby","kbz","kca","kcb","kcc","kcd","kce","kcf","kcg","kch","kci","kcj","kck","kcl","kcm","kcn","kco","kcp","kcq","kcr","kcs","kct","kcu","kcv","kcw","kcx","kcy","kcz","kda","kdc","kdd","kde","kdf","kdg","kdh","kdi","kdj","kdk","kdl","kdm","kdn","kdo","kdp","kdq","kdr","kdt","kdu","kdv","kdw","kdx","kdy","kdz","kea","keb","kec","ked","kee","kef","keg","keh","kei","kej","kek","kel","kem","ken","keo","kep","keq","ker","kes","ket","keu","kev","kew","kex","key","kez","kfa","kfb","kfc","kfd","kfe","kff","kfg","kfh","kfi","kfj","kfk","kfl","kfm","kfn","kfo","kfp","kfq","kfr","kfs","kft","kfu","kfv","kfw","kfx","kfy","kfz","kg","kga","kgb","kgc","kgd","kge","kgf","kgg","kgh","kgi","kgj","kgk","kgl","kgm","kgn","kgo","kgp","kgq","kgr","kgs","kgt","kgu","kgv","kgw","kgx","kgy","kha","khb","khc","khd","khe","khf","khg","khh","khi","khj","khk","khl","khn","kho","khp","khq","khr","khs","kht","khu","khv","khw","khx","khy","khz","ki","kia","kib","kic","kid","kie","kif","kig","kih","kii","kij","kil","kim","kio","kip","kiq","kis","kit","kiu","kiv","kiw","kix","kiy","kiz","kj","kja","kjb","kjc","kjd","kje","kjf","kjg","kjh","kji","kjj","kjk","kjl","kjm","kjn","kjo","kjp","kjq","kjr","kjs","kjt","kju","kjv","kjx","kjy","kjz","kk","kka","kkb","kkc","kkd","kke","kkf","kkg","kkh","kki","kkj","kkk","kkl","kkm","kkn","kko","kkp","kkq","kkr","kks","kkt","kku","kkv","kkw","kkx","kky","kkz","kl","kla","klb","klc","kld","kle","klf","klg","klh","kli","klj","klk","kll","klm","kln","klo","klp","klq","klr","kls","klt","klu","klv","klw","klx","kly","klz","km","kma","kmb","kmc","kmd","kme","kmf","kmg","kmh","kmi","kmj","kmk","kml","kmm","kmn","kmo","kmp","kmq","kmr","kms","kmt","kmu","kmv","kmw","kmx","kmy","kmz","kn","kna","knb","knc","knd","kne","knf","kng","kni","knj","knk","knl","knm","knn","kno","knp","knq","knr","kns","knt","knu","knv","knw","knx","kny","knz","ko","koa","koc","kod","koe","kof","kog","koh","koi","koj","kok","kol","koo","kop","koq","kos","kot","kou","kov","kow","kox","koy","koz","kpa","kpb","kpc","kpd","kpe","kpf","kpg","kph","kpi","kpj","kpk","kpl","kpm","kpn","kpo","kpp","kpq","kpr","kps","kpt","kpu","kpv","kpw","kpx","kpy","kpz","kqa","kqb","kqc","kqd","kqe","kqf","kqg","kqh","kqi","kqj","kqk","kql","kqm","kqn","kqo","kqp","kqq","kqr","kqs","kqt","kqu","kqv","kqw","kqx","kqy","kqz","kr","kra","krb","krc","krd","kre","krf","krh","kri","krj","krk","krl","krm","krn","kro","krp","krr","krs","krt","kru","krv","krw","krx","kry","krz","ks","ksa","ksb","ksc","ksd","kse","ksf","ksg","ksh","ksi","ksj","ksk","ksl","ksm","ksn","kso","ksp","ksq","ksr","kss","kst","ksu","ksv","ksw","ksx","ksy","ksz","kta","ktb","ktc","ktd","kte","ktf","ktg","kth","kti","ktj","ktk","ktl","ktm","ktn","kto","ktp","ktq","ktr","kts","ktt","ktu","ktv","ktw","ktx","kty","ktz","ku","kub","kuc","kud","kue","kuf","kug","kuh","kui","kuj","kuk","kul","kum","kun","kuo","kup","kuq","kus","kut","kuu","kuv","kuw","kux","kuy","kuz","kv","kva","kvb","kvc","kvd","kve","kvf","kvg","kvh","kvi","kvj","kvk","kvl","kvm","kvn","kvo","kvp","kvq","kvr","kvs","kvt","kvu","kvv","kvw","kvx","kvy","kvz","kw","kwa","kwb","kwc","kwd","kwe","kwf","kwg","kwh","kwi","kwj","kwk","kwl","kwm","kwn","kwo","kwp","kwq","kwr","kws","kwt","kwu","kwv","kww","kwx","kwy","kwz","kxa","kxb","kxc","kxd","kxe","kxf","kxh","kxi","kxj","kxk","kxl","kxm","kxn","kxo","kxp","kxq","kxr","kxs","kxt","kxu","kxv","kxw","kxx","kxy","kxz","ky","kya","kyb","kyc","kyd","kye","kyf","kyg","kyh","kyi","kyj","kyk","kyl","kym","kyn","kyo","kyp","kyq","kyr","kys","kyt","kyu","kyv","kyw","kyx","kyy","kyz","kza","kzb","kzc","kzd","kze","kzf","kzg","kzh","kzi","kzj","kzk","kzl","kzm","kzn","kzo","kzp","kzq","kzr","kzs","kzt","kzu","kzv","kzw","kzx","kzy","kzz","la","laa","lab","lac","lad","lae","laf","lag","lah","lai","laj","lak","lal","lam","lan","lap","laq","lar","las","lau","law","lax","lay","laz","lb","lba","lbb","lbc","lbe","lbf","lbg","lbi","lbj","lbk","lbl","lbm","lbn","lbo","lbq","lbr","lbs","lbt","lbu","lbv","lbw","lbx","lby","lbz","lcc","lcd","lce","lcf","lch","lcl","lcm","lcp","lcq","lcs","lda","ldb","ldd","ldg","ldh","ldi","ldj","ldk","ldl","ldm","ldn","ldo","ldp","ldq","lea","leb","lec","led","lee","lef","leg","leh","lei","lej","lek","lel","lem","len","leo","lep","leq","ler","les","let","leu","lev","lew","lex","ley","lez","lfa","lfn","lg","lga","lgb","lgg","lgh","lgi","lgk","lgl","lgm","lgn","lgq","lgr","lgt","lgu","lgz","lha","lhh","lhi","lhl","lhm","lhn","lhp","lhs","lht","lhu","li","lia","lib","lic","lid","lie","lif","lig","lih","lii","lij","lik","lil","lio","lip","liq","lir","lis","liu","liv","liw","lix","liy","liz","lja","lje","lji","ljl","ljp","ljw","ljx","lka","lkb","lkc","lkd","lke","lkh","lki","lkj","lkl","lkm","lkn","lko","lkr","lks","lkt","lku","lky","lla","llb","llc","lld","lle","llf","llg","llh","lli","llj","llk","lll","llm","lln","llo","llp","llq","lls","llu","llx","lma","lmb","lmc","lmd","lme","lmf","lmg","lmh","lmi","lmj","lmk","lml","lmm","lmn","lmo","lmp","lmq","lmr","lmu","lmv","lmw","lmx","lmy","lmz","ln","lna","lnb","lnd","lng","lnh","lni","lnj","lnl","lnm","lnn","lno","lns","lnu","lnw","lnz","lo","loa","lob","loc","loe","lof","log","loh","loi","loj","lok","lol","lom","lon","loo","lop","loq","lor","los","lot","lou","lov","low","lox","loy","loz","lpa","lpe","lpn","lpo","lpx","lra","lrc","lre","lrg","lri","lrk","lrl","lrm","lrn","lro","lrr","lrt","lrv","lrz","lsa","lsd","lse","lsg","lsh","lsi","lsl","lsm","lsn","lso","lsp","lsr","lss","lst","lsv","lsy","lt","ltc","ltg","lth","lti","ltn","lto","lts","ltu","lu","lua","luc","lud","lue","luf","lui","luj","luk","lul","lum","lun","luo","lup","luq","lur","lus","lut","luu","luv","luw","luy","luz","lv","lva","lvi","lvk","lvs","lvu","lwa","lwe","lwg","lwh","lwl","lwm","lwo","lws","lwt","lwu","lww","lya","lyg","lyn","lzh","lzl","lzn","lzz","maa","mab","mad","mae","maf","mag","mai","maj","mak","mam","man","map","maq","mas","mat","mau","mav","maw","max","maz","mba","mbb","mbc","mbd","mbe","mbf","mbh","mbi","mbj","mbk","mbl","mbm","mbn","mbo","mbp","mbq","mbr","mbs","mbt","mbu","mbv","mbw","mbx","mby","mbz","mca","mcb","mcc","mcd","mce","mcf","mcg","mch","mci","mcj","mck","mcl","mcm","mcn","mco","mcp","mcq","mcr","mcs","mct","mcu","mcv","mcw","mcx","mcy","mcz","mda","mdb","mdc","mdd","mde","mdf","mdg","mdh","mdi","mdj","mdk","mdl","mdm","mdn","mdp","mdq","mdr","mds","mdt","mdu","mdv","mdw","mdx","mdy","mdz","mea","meb","mec","med","mee","mef","meg","meh","mei","mej","mek","mel","mem","men","meo","mep","meq","mer","mes","met","meu","mev","mew","mey","mez","mfa","mfb","mfc","mfd","mfe","mff","mfg","mfh","mfi","mfj","mfk","mfl","mfm","mfn","mfo","mfp","mfq","mfr","mfs","mft","mfu","mfv","mfw","mfx","mfy","mfz","mg","mga","mgb","mgc","mgd","mge","mgf","mgg","mgh","mgi","mgj","mgk","mgl","mgm","mgn","mgo","mgp","mgq","mgr","mgs","mgt","mgu","mgv","mgw","mgx","mgy","mgz","mh","mha","mhb","mhc","mhd","mhe","mhf","mhg","mhh","mhi","mhj","mhk","mhl","mhm","mhn","mho","mhp","mhq","mhr","mhs","mht","mhu","mhw","mhx","mhy","mhz","mi","mia","mib","mic","mid","mie","mif","mig","mih","mii","mij","mik","mil","mim","min","mio","mip","miq","mir","mis","mit","miu","miw","mix","miy","miz","mja","mjb","mjc","mjd","mje","mjg","mjh","mji","mjj","mjk","mjl","mjm","mjn","mjo","mjp","mjq","mjr","mjs","mjt","mju","mjv","mjw","mjx","mjy","mjz","mk","mka","mkb","mkc","mke","mkf","mkg","mkh","mki","mkj","mkk","mkl","mkm","mkn","mko","mkp","mkq","mkr","mks","mkt","mku","mkv","mkw","mkx","mky","mkz","ml","mla","mlb","mlc","mld","mle","mlf","mlh","mli","mlj","mlk","mll","mlm","mln","mlo","mlp","mlq","mlr","mls","mlu","mlv","mlw","mlx","mlz","mma","mmb","mmc","mmd","mme","mmf","mmg","mmh","mmi","mmj","mmk","mml","mmm","mmn","mmo","mmp","mmq","mmr","mmt","mmu","mmv","mmw","mmx","mmy","mmz","mn","mna","mnb","mnc","mnd","mne","mnf","mng","mnh","mni","mnj","mnk","mnl","mnm","mnn","mno","mnp","mnq","mnr","mns","mnt","mnu","mnv","mnw","mnx","mny","mnz","mo","moa","moc","mod","moe","mof","mog","moh","moi","moj","mok","mom","moo","mop","moq","mor","mos","mot","mou","mov","mow","mox","moy","moz","mpa","mpb","mpc","mpd","mpe","mpg","mph","mpi","mpj","mpk","mpl","mpm","mpn","mpo","mpp","mpq","mpr","mps","mpt","mpu","mpv","mpw","mpx","mpy","mpz","mqa","mqb","mqc","mqe","mqf","mqg","mqh","mqi","mqj","mqk","mql","mqm","mqn","mqo","mqp","mqq","mqr","mqs","mqt","mqu","mqv","mqw","mqx","mqy","mqz","mr","mra","mrb","mrc","mrd","mre","mrf","mrg","mrh","mrj","mrk","mrl","mrm","mrn","mro","mrp","mrq","mrr","mrs","mrt","mru","mrv","mrw","mrx","mry","mrz","ms","msb","msc","msd","mse","msf","msg","msh","msi","msj","msk","msl","msm","msn","mso","msp","msq","msr","mss","mst","msu","msv","msw","msx","msy","msz","mt","mta","mtb","mtc","mtd","mte","mtf","mtg","mth","mti","mtj","mtk","mtl","mtm","mtn","mto","mtp","mtq","mtr","mts","mtt","mtu","mtv","mtw","mtx","mty","mua","mub","muc","mud","mue","mug","muh","mui","muj","muk","mul","mum","mun","muo","mup","muq","mur","mus","mut","muu","muv","mux","muy","muz","mva","mvb","mvd","mve","mvf","mvg","mvh","mvi","mvk","mvl","mvm","mvn","mvo","mvp","mvq","mvr","mvs","mvt","mvu","mvv","mvw","mvx","mvy","mvz","mwa","mwb","mwc","mwd","mwe","mwf","mwg","mwh","mwi","mwj","mwk","mwl","mwm","mwn","mwo","mwp","mwq","mwr","mws","mwt","mwu","mwv","mww","mwx","mwy","mwz","mxa","mxb","mxc","mxd","mxe","mxf","mxg","mxh","mxi","mxj","mxk","mxl","mxm","mxn","mxo","mxp","mxq","mxr","mxs","mxt","mxu","mxv","mxw","mxx","mxy","mxz","my","myb","myc","myd","mye","myf","myg","myh","myi","myj","myk","myl","mym","myn","myo","myp","myq","myr","mys","myt","myu","myv","myw","myx","myy","myz","mza","mzb","mzc","mzd","mze","mzg","mzh","mzi","mzj","mzk","mzl","mzm","mzn","mzo","mzp","mzq","mzr","mzs","mzt","mzu","mzv","mzw","mzx","mzy","mzz","na","naa","nab","nac","nad","nae","naf","nag","nah","nai","naj","nak","nal","nam","nan","nao","nap","naq","nar","nas","nat","naw","nax","nay","naz","nb","nba","nbb","nbc","nbd","nbe","nbf","nbg","nbh","nbi","nbj","nbk","nbm","nbn","nbo","nbp","nbq","nbr","nbs","nbt","nbu","nbv","nbw","nbx","nby","nca","ncb","ncc","ncd","nce","ncf","ncg","nch","nci","ncj","nck","ncl","ncm","ncn","nco","ncp","ncq","ncr","ncs","nct","ncu","ncx","ncz","nd","nda","ndb","ndc","ndd","ndf","ndg","ndh","ndi","ndj","ndk","ndl","ndm","ndn","ndp","ndq","ndr","nds","ndt","ndu","ndv","ndw","ndx","ndy","ndz","ne","nea","neb","nec","ned","nee","nef","neg","neh","nei","nej","nek","nem","nen","neo","neq","ner","nes","net","neu","nev","new","nex","ney","nez","nfa","nfd","nfl","nfr","nfu","ng","nga","ngb","ngc","ngd","nge","ngf","ngg","ngh","ngi","ngj","ngk","ngl","ngm","ngn","ngo","ngp","ngq","ngr","ngs","ngt","ngu","ngv","ngw","ngx","ngy","ngz","nha","nhb","nhc","nhd","nhe","nhf","nhg","nhh","nhi","nhk","nhm","nhn","nho","nhp","nhq","nhr","nht","nhu","nhv","nhw","nhx","nhy","nhz","nia","nib","nic","nid","nie","nif","nig","nih","nii","nij","nik","nil","nim","nin","nio","niq","nir","nis","nit","niu","niv","niw","nix","niy","niz","nja","njb","njd","njh","nji","njj","njl","njm","njn","njo","njr","njs","njt","nju","njx","njy","njz","nka","nkb","nkc","nkd","nke","nkf","nkg","nkh","nki","nkj","nkk","nkm","nkn","nko","nkp","nkq","nkr","nks","nkt","nku","nkv","nkw","nkx","nkz","nl","nla","nlc","nle","nlg","nli","nlj","nlk","nll","nlm","nln","nlo","nlq","nlr","nlu","nlv","nlw","nlx","nly","nlz","nma","nmb","nmc","nmd","nme","nmf","nmg","nmh","nmi","nmj","nmk","nml","nmm","nmn","nmo","nmp","nmq","nmr","nms","nmt","nmu","nmv","nmw","nmx","nmy","nmz","nn","nna","nnb","nnc","nnd","nne","nnf","nng","nnh","nni","nnj","nnk","nnl","nnm","nnn","nnp","nnq","nnr","nns","nnt","nnu","nnv","nnw","nnx","nny","nnz","no","noa","noc","nod","noe","nof","nog","noh","noi","noj","nok","nol","nom","non","noo","nop","noq","nos","not","nou","nov","now","noy","noz","npa","npb","npg","nph","npi","npl","npn","npo","nps","npu","npx","npy","nqg","nqk","nql","nqm","nqn","nqo","nqq","nqy","nr","nra","nrb","nrc","nre","nrf","nrg","nri","nrk","nrl","nrm","nrn","nrp","nrr","nrt","nru","nrx","nrz","nsa","nsc","nsd","nse","nsf","nsg","nsh","nsi","nsk","nsl","nsm","nsn","nso","nsp","nsq","nsr","nss","nst","nsu","nsv","nsw","nsx","nsy","nsz","ntd","nte","ntg","nti","ntj","ntk","ntm","nto","ntp","ntr","nts","ntu","ntw","ntx","nty","ntz","nua","nub","nuc","nud","nue","nuf","nug","nuh","nui","nuj","nuk","nul","num","nun","nuo","nup","nuq","nur","nus","nut","nuu","nuv","nuw","nux","nuy","nuz","nv","nvh","nvm","nvo","nwa","nwb","nwc","nwe","nwg","nwi","nwm","nwo","nwr","nwx","nwy","nxa","nxd","nxe","nxg","nxi","nxk","nxl","nxm","nxn","nxo","nxq","nxr","nxu","nxx","ny","nyb","nyc","nyd","nye","nyf","nyg","nyh","nyi","nyj","nyk","nyl","nym","nyn","nyo","nyp","nyq","nyr","nys","nyt","nyu","nyv","nyw","nyx","nyy","nza","nzb","nzd","nzi","nzk","nzm","nzs","nzu","nzy","nzz","oaa","oac","oar","oav","obi","obk","obl","obm","obo","obr","obt","obu","oc","oca","och","oco","ocu","oda","odk","odt","odu","ofo","ofs","ofu","ogb","ogc","oge","ogg","ogo","ogu","oht","ohu","oia","oin","oj","ojb","ojc","ojg","ojp","ojs","ojv","ojw","oka","okb","okd","oke","okg","okh","oki","okj","okk","okl","okm","okn","oko","okr","oks","oku","okv","okx","ola","old","ole","olk","olm","olo","olr","olt","olu","om","oma","omb","omc","ome","omg","omi","omk","oml","omn","omo","omp","omq","omr","omt","omu","omv","omw","omx","ona","onb","one","ong","oni","onj","onk","onn","ono","onp","onr","ons","ont","onu","onw","onx","ood","oog","oon","oor","oos","opa","opk","opm","opo","opt","opy","or","ora","orc","ore","org","orh","orn","oro","orr","ors","ort","oru","orv","orw","orx","ory","orz","os","osa","osc","osi","oso","osp","ost","osu","osx","ota","otb","otd","ote","oti","otk","otl","otm","otn","oto","otq","otr","ots","ott","otu","otw","otx","oty","otz","oua","oub","oue","oui","oum","oun","ovd","owi","owl","oyb","oyd","oym","oyy","ozm","pa","paa","pab","pac","pad","pae","paf","pag","pah","pai","pak","pal","pam","pao","pap","paq","par","pas","pat","pau","pav","paw","pax","pay","paz","pbb","pbc","pbe","pbf","pbg","pbh","pbi","pbl","pbm","pbn","pbo","pbp","pbr","pbs","pbt","pbu","pbv","pby","pbz","pca","pcb","pcc","pcd","pce","pcf","pcg","pch","pci","pcj","pck","pcl","pcm","pcn","pcp","pcr","pcw","pda","pdc","pdi","pdn","pdo","pdt","pdu","pea","peb","ped","pee","pef","peg","peh","pei","pej","pek","pel","pem","peo","pep","peq","pes","pev","pex","pey","pez","pfa","pfe","pfl","pga","pgd","pgg","pgi","pgk","pgl","pgn","pgs","pgu","pgy","pgz","pha","phd","phg","phh","phi","phk","phl","phm","phn","pho","phq","phr","pht","phu","phv","phw","pi","pia","pib","pic","pid","pie","pif","pig","pih","pii","pij","pil","pim","pin","pio","pip","pir","pis","pit","piu","piv","piw","pix","piy","piz","pjt","pka","pkb","pkc","pkg","pkh","pkn","pko","pkp","pkr","pks","pkt","pku","pl","pla","plb","plc","pld","ple","plf","plg","plh","plj","plk","pll","pln","plo","plp","plq","plr","pls","plt","plu","plv","plw","ply","plz","pma","pmb","pmc","pmd","pme","pmf","pmh","pmi","pmj","pmk","pml","pmm","pmn","pmo","pmq","pmr","pms","pmt","pmu","pmw","pmx","pmy","pmz","pna","pnb","pnc","pnd","pne","png","pnh","pni","pnj","pnk","pnl","pnm","pnn","pno","pnp","pnq","pnr","pns","pnt","pnu","pnv","pnw","pnx","pny","pnz","poc","pod","poe","pof","pog","poh","poi","pok","pom","pon","poo","pop","poq","pos","pot","pov","pow","pox","poy","poz","ppa","ppe","ppi","ppk","ppl","ppm","ppn","ppo","ppp","ppq","ppr","pps","ppt","ppu","pqa","pqe","pqm","pqw","pra","prb","prc","prd","pre","prf","prg","prh","pri","prk","prl","prm","prn","pro","prp","prq","prr","prs","prt","pru","prw","prx","pry","prz","ps","psa","psc","psd","pse","psg","psh","psi","psl","psm","psn","pso","psp","psq","psr","pss","pst","psu","psw","psy","pt","pta","pth","pti","ptn","pto","ptp","ptq","ptr","ptt","ptu","ptv","ptw","pty","pua","pub","puc","pud","pue","puf","pug","pui","puj","puk","pum","puo","pup","puq","pur","put","puu","puw","pux","puy","puz","pwa","pwb","pwg","pwi","pwm","pwn","pwo","pwr","pww","pxm","pye","pym","pyn","pys","pyu","pyx","pyy","pzn","qu","qua","qub","quc","qud","quf","qug","quh","qui","quk","qul","qum","qun","qup","quq","qur","qus","quv","quw","qux","quy","quz","qva","qvc","qve","qvh","qvi","qvj","qvl","qvm","qvn","qvo","qvp","qvs","qvw","qvy","qvz","qwa","qwc","qwe","qwh","qwm","qws","qwt","qxa","qxc","qxh","qxl","qxn","qxo","qxp","qxq","qxr","qxs","qxt","qxu","qxw","qya","qyp","raa","rab","rac","rad","raf","rag","rah","rai","raj","rak","ral","ram","ran","rao","rap","raq","rar","ras","rat","rau","rav","raw","rax","ray","raz","rbb","rbk","rbl","rbp","rcf","rdb","rea","reb","ree","reg","rei","rej","rel","rem","ren","rer","res","ret","rey","rga","rge","rgk","rgn","rgr","rgs","rgu","rhg","rhp","ria","rie","rif","ril","rim","rin","rir","rit","riu","rjg","rji","rjs","rka","rkb","rkh","rki","rkm","rkt","rkw","rm","rma","rmb","rmc","rmd","rme","rmf","rmg","rmh","rmi","rmk","rml","rmm","rmn","rmo","rmp","rmq","rmr","rms","rmt","rmu","rmv","rmw","rmx","rmy","rmz","rn","rna","rnd","rng","rnl","rnn","rnp","rnr","rnw","ro","roa","rob","roc","rod","roe","rof","rog","rol","rom","roo","rop","ror","rou","row","rpn","rpt","rri","rro","rrt","rsb","rsi","rsl","rsm","rtc","rth","rtm","rts","rtw","ru","rub","ruc","rue","ruf","rug","ruh","rui","ruk","ruo","rup","ruq","rut","ruu","ruy","ruz","rw","rwa","rwk","rwm","rwo","rwr","rxd","rxw","ryn","rys","ryu","rzh","sa","saa","sab","sac","sad","sae","saf","sah","sai","saj","sak","sal","sam","sao","sap","saq","sar","sas","sat","sau","sav","saw","sax","say","saz","sba","sbb","sbc","sbd","sbe","sbf","sbg","sbh","sbi","sbj","sbk","sbl","sbm","sbn","sbo","sbp","sbq","sbr","sbs","sbt","sbu","sbv","sbw","sbx","sby","sbz","sc","sca","scb","sce","scf","scg","sch","sci","sck","scl","scn","sco","scp","scq","scs","sct","scu","scv","scw","scx","sd","sda","sdb","sdc","sde","sdf","sdg","sdh","sdj","sdk","sdl","sdm","sdn","sdo","sdp","sdr","sds","sdt","sdu","sdv","sdx","sdz","se","sea","seb","sec","sed","see","sef","seg","seh","sei","sej","sek","sel","sem","sen","seo","sep","seq","ser","ses","set","seu","sev","sew","sey","sez","sfb","sfe","sfm","sfs","sfw","sg","sga","sgb","sgc","sgd","sge","sgg","sgh","sgi","sgj","sgk","sgl","sgm","sgn","sgo","sgp","sgr","sgs","sgt","sgu","sgw","sgx","sgy","sgz","sh","sha","shb","shc","shd","she","shg","shh","shi","shj","shk","shl","shm","shn","sho","shp","shq","shr","shs","sht","shu","shv","shw","shx","shy","shz","si","sia","sib","sid","sie","sif","sig","sih","sii","sij","sik","sil","sim","sio","sip","siq","sir","sis","sit","siu","siv","siw","six","siy","siz","sja","sjb","sjd","sje","sjg","sjk","sjl","sjm","sjn","sjo","sjp","sjr","sjs","sjt","sju","sjw","sk","ska","skb","skc","skd","ske","skf","skg","skh","ski","skj","skk","skm","skn","sko","skp","skq","skr","sks","skt","sku","skv","skw","skx","sky","skz","sl","sla","slc","sld","sle","slf","slg","slh","sli","slj","sll","slm","sln","slp","slq","slr","sls","slt","slu","slw","slx","sly","slz","sm","sma","smb","smc","smd","smf","smg","smh","smi","smj","smk","sml","smm","smn","smp","smq","smr","sms","smt","smu","smv","smw","smx","smy","smz","sn","snb","snc","sne","snf","sng","snh","sni","snj","snk","snl","snm","snn","sno","snp","snq","snr","sns","snu","snv","snw","snx","sny","snz","so","soa","sob","soc","sod","soe","sog","soh","soi","soj","sok","sol","son","soo","sop","soq","sor","sos","sou","sov","sow","sox","soy","soz","spb","spc","spd","spe","spg","spi","spk","spl","spm","spn","spo","spp","spq","spr","sps","spt","spu","spv","spx","spy","sq","sqa","sqh","sqj","sqk","sqm","sqn","sqo","sqq","sqr","sqs","sqt","squ","sr","sra","srb","src","sre","srf","srg","srh","sri","srk","srl","srm","srn","sro","srq","srr","srs","srt","sru","srv","srw","srx","sry","srz","ss","ssa","ssb","ssc","ssd","sse","ssf","ssg","ssh","ssi","ssj","ssk","ssl","ssm","ssn","sso","ssp","ssq","ssr","sss","sst","ssu","ssv","ssx","ssy","ssz","st","sta","stb","std","ste","stf","stg","sth","sti","stj","stk","stl","stm","stn","sto","stp","stq","str","sts","stt","stu","stv","stw","sty","su","sua","sub","suc","sue","sug","sui","suj","suk","sul","sum","suq","sur","sus","sut","suv","suw","sux","suy","suz","sv","sva","svb","svc","sve","svk","svm","svr","svs","svx","sw","swb","swc","swf","swg","swh","swi","swj","swk","swl","swm","swn","swo","swp","swq","swr","sws","swt","swu","swv","sww","swx","swy","sxb","sxc","sxe","sxg","sxk","sxl","sxm","sxn","sxo","sxr","sxs","sxu","sxw","sya","syb","syc","syd","syi","syk","syl","sym","syn","syo","syr","sys","syw","syx","syy","sza","szb","szc","szd","sze","szg","szl","szn","szp","szs","szv","szw","szy","ta","taa","tab","tac","tad","tae","taf","tag","tai","taj","tak","tal","tan","tao","tap","taq","tar","tas","tau","tav","taw","tax","tay","taz","tba","tbb","tbc","tbd","tbe","tbf","tbg","tbh","tbi","tbj","tbk","tbl","tbm","tbn","tbo","tbp","tbq","tbr","tbs","tbt","tbu","tbv","tbw","tbx","tby","tbz","tca","tcb","tcc","tcd","tce","tcf","tcg","tch","tci","tck","tcl","tcm","tcn","tco","tcp","tcq","tcs","tct","tcu","tcw","tcx","tcy","tcz","tda","tdb","tdc","tdd","tde","tdf","tdg","tdh","tdi","tdj","tdk","tdl","tdm","tdn","tdo","tdq","tdr","tds","tdt","tdu","tdv","tdx","tdy","te","tea","teb","tec","ted","tee","tef","teg","teh","tei","tek","tem","ten","teo","tep","teq","ter","tes","tet","teu","tev","tew","tex","tey","tez","tfi","tfn","tfo","tfr","tft","tg","tga","tgb","tgc","tgd","tge","tgf","tgg","tgh","tgi","tgj","tgn","tgo","tgp","tgq","tgr","tgs","tgt","tgu","tgv","tgw","tgx","tgy","tgz","th","thc","thd","the","thf","thh","thi","thk","thl","thm","thn","thp","thq","thr","ths","tht","thu","thv","thw","thx","thy","thz","ti","tia","tic","tid","tie","tif","tig","tih","tii","tij","tik","til","tim","tin","tio","tip","tiq","tis","tit","tiu","tiv","tiw","tix","tiy","tiz","tja","tjg","tji","tjj","tjl","tjm","tjn","tjo","tjp","tjs","tju","tjw","tk","tka","tkb","tkd","tke","tkf","tkg","tkk","tkl","tkm","tkn","tkp","tkq","tkr","tks","tkt","tku","tkv","tkw","tkx","tkz","tl","tla","tlb","tlc","tld","tlf","tlg","tlh","tli","tlj","tlk","tll","tlm","tln","tlo","tlp","tlq","tlr","tls","tlt","tlu","tlv","tlw","tlx","tly","tma","tmb","tmc","tmd","tme","tmf","tmg","tmh","tmi","tmj","tmk","tml","tmm","tmn","tmo","tmp","tmq","tmr","tms","tmt","tmu","tmv","tmw","tmy","tmz","tn","tna","tnb","tnc","tnd","tne","tnf","tng","tnh","tni","tnk","tnl","tnm","tnn","tno","tnp","tnq","tnr","tns","tnt","tnu","tnv","tnw","tnx","tny","tnz","to","tob","toc","tod","toe","tof","tog","toh","toi","toj","tol","tom","too","top","toq","tor","tos","tou","tov","tow","tox","toy","toz","tpa","tpc","tpe","tpf","tpg","tpi","tpj","tpk","tpl","tpm","tpn","tpo","tpp","tpq","tpr","tpt","tpu","tpv","tpw","tpx","tpy","tpz","tqb","tql","tqm","tqn","tqo","tqp","tqq","tqr","tqt","tqu","tqw","tr","tra","trb","trc","trd","tre","trf","trg","trh","tri","trj","trk","trl","trm","trn","tro","trp","trq","trr","trs","trt","tru","trv","trw","trx","try","trz","ts","tsa","tsb","tsc","tsd","tse","tsf","tsg","tsh","tsi","tsj","tsk","tsl","tsm","tsp","tsq","tsr","tss","tst","tsu","tsv","tsw","tsx","tsy","tsz","tt","tta","ttb","ttc","ttd","tte","ttf","ttg","tth","tti","ttj","ttk","ttl","ttm","ttn","tto","ttp","ttq","ttr","tts","ttt","ttu","ttv","ttw","tty","ttz","tua","tub","tuc","tud","tue","tuf","tug","tuh","tui","tuj","tul","tum","tun","tuo","tup","tuq","tus","tut","tuu","tuv","tuw","tux","tuy","tuz","tva","tvd","tve","tvk","tvl","tvm","tvn","tvo","tvs","tvt","tvu","tvw","tvx","tvy","tw","twa","twb","twc","twd","twe","twf","twg","twh","twl","twm","twn","two","twp","twq","twr","twt","twu","tww","twx","twy","txa","txb","txc","txe","txg","txh","txi","txj","txm","txn","txo","txq","txr","txs","txt","txu","txx","txy","ty","tya","tye","tyh","tyi","tyj","tyl","tyn","typ","tyr","tys","tyt","tyu","tyv","tyx","tyz","tza","tzh","tzj","tzl","tzm","tzn","tzo","tzx","uam","uan","uar","uba","ubi","ubl","ubr","ubu","uby","uda","ude","udg","udi","udj","udl","udm","udu","ues","ufi","ug","uga","ugb","uge","ugn","ugo","ugy","uha","uhn","uis","uiv","uji","uk","uka","ukg","ukh","ukk","ukl","ukp","ukq","uks","uku","ukw","uky","ula","ulb","ulc","ule","ulf","uli","ulk","ull","ulm","uln","ulu","ulw","uma","umb","umc","umd","umg","umi","umm","umn","umo","ump","umr","ums","umu","una","und","une","ung","unk","unm","unn","unp","unr","unu","unx","unz","uok","upi","upv","ur","ura","urb","urc","ure","urf","urg","urh","uri","urj","urk","url","urm","urn","uro","urp","urr","urt","uru","urv","urw","urx","ury","urz","usa","ush","usi","usk","usp","uss","usu","uta","ute","uth","utp","utr","utu","uum","uun","uur","uuu","uve","uvh","uvl","uwa","uya","uz","uzn","uzs","vaa","vae","vaf","vag","vah","vai","vaj","val","vam","van","vao","vap","var","vas","vau","vav","vay","vbb","vbk","ve","vec","ved","vel","vem","veo","vep","ver","vgr","vgt","vi","vic","vid","vif","vig","vil","vin","vis","vit","viv","vka","vki","vkj","vkk","vkl","vkm","vko","vkp","vkt","vku","vlp","vls","vma","vmb","vmc","vmd","vme","vmf","vmg","vmh","vmi","vmj","vmk","vml","vmm","vmp","vmq","vmr","vms","vmu","vmv","vmw","vmx","vmy","vmz","vnk","vnm","vnp","vo","vor","vot","vra","vro","vrs","vrt","vsi","vsl","vsv","vto","vum","vun","vut","vwa","wa","waa","wab","wac","wad","wae","waf","wag","wah","wai","waj","wak","wal","wam","wan","wao","wap","waq","war","was","wat","wau","wav","waw","wax","way","waz","wba","wbb","wbe","wbf","wbh","wbi","wbj","wbk","wbl","wbm","wbp","wbq","wbr","wbs","wbt","wbv","wbw","wca","wci","wdd","wdg","wdj","wdk","wdu","wdy","wea","wec","wed","weg","weh","wei","wem","wen","weo","wep","wer","wes","wet","weu","wew","wfg","wga","wgb","wgg","wgi","wgo","wgu","wgw","wgy","wha","whg","whk","whu","wib","wic","wie","wif","wig","wih","wii","wij","wik","wil","wim","win","wir","wit","wiu","wiv","wiw","wiy","wja","wji","wka","wkb","wkd","wkl","wkr","wku","wkw","wky","wla","wlc","wle","wlg","wli","wlk","wll","wlm","wlo","wlr","wls","wlu","wlv","wlw","wlx","wly","wma","wmb","wmc","wmd","wme","wmh","wmi","wmm","wmn","wmo","wms","wmt","wmw","wmx","wnb","wnc","wnd","wne","wng","wni","wnk","wnm","wnn","wno","wnp","wnu","wnw","wny","wo","woa","wob","woc","wod","woe","wof","wog","woi","wok","wom","won","woo","wor","wos","wow","woy","wpc","wra","wrb","wrd","wrg","wrh","wri","wrk","wrl","wrm","wrn","wro","wrp","wrr","wrs","wru","wrv","wrw","wrx","wry","wrz","wsa","wsg","wsi","wsk","wsr","wss","wsu","wsv","wtf","wth","wti","wtk","wtm","wtw","wua","wub","wud","wuh","wul","wum","wun","wur","wut","wuu","wuv","wux","wuy","wwa","wwb","wwo","wwr","www","wxa","wxw","wya","wyb","wyi","wym","wyr","wyy","xaa","xab","xac","xad","xae","xag","xai","xaj","xak","xal","xam","xan","xao","xap","xaq","xar","xas","xat","xau","xav","xaw","xay","xba","xbb","xbc","xbd","xbe","xbg","xbi","xbj","xbm","xbn","xbo","xbp","xbr","xbw","xbx","xby","xcb","xcc","xce","xcg","xch","xcl","xcm","xcn","xco","xcr","xct","xcu","xcv","xcw","xcy","xda","xdc","xdk","xdm","xdo","xdy","xeb","xed","xeg","xel","xem","xep","xer","xes","xet","xeu","xfa","xga","xgb","xgd","xgf","xgg","xgi","xgl","xgm","xgn","xgr","xgu","xgw","xh","xha","xhc","xhd","xhe","xhr","xht","xhu","xhv","xia","xib","xii","xil","xin","xip","xir","xis","xiv","xiy","xjb","xjt","xka","xkb","xkc","xkd","xke","xkf","xkg","xkh","xki","xkj","xkk","xkl","xkn","xko","xkp","xkq","xkr","xks","xkt","xku","xkv","xkw","xkx","xky","xkz","xla","xlb","xlc","xld","xle","xlg","xli","xln","xlo","xlp","xls","xlu","xly","xma","xmb","xmc","xmd","xme","xmf","xmg","xmh","xmj","xmk","xml","xmm","xmn","xmo","xmp","xmq","xmr","xms","xmt","xmu","xmv","xmw","xmx","xmy","xmz","xna","xnb","xnd","xng","xnh","xni","xnk","xnn","xno","xnr","xns","xnt","xnu","xny","xnz","xoc","xod","xog","xoi","xok","xom","xon","xoo","xop","xor","xow","xpa","xpc","xpe","xpg","xpi","xpj","xpk","xpm","xpn","xpo","xpp","xpq","xpr","xps","xpt","xpu","xpy","xqa","xqt","xra","xrb","xrd","xre","xrg","xri","xrm","xrn","xrq","xrr","xrt","xru","xrw","xsa","xsb","xsc","xsd","xse","xsh","xsi","xsj","xsl","xsm","xsn","xso","xsp","xsq","xsr","xss","xsu","xsv","xsy","xta","xtb","xtc","xtd","xte","xtg","xth","xti","xtj","xtl","xtm","xtn","xto","xtp","xtq","xtr","xts","xtt","xtu","xtv","xtw","xty","xtz","xua","xub","xud","xug","xuj","xul","xum","xun","xuo","xup","xur","xut","xuu","xve","xvi","xvn","xvo","xvs","xwa","xwc","xwd","xwe","xwg","xwj","xwk","xwl","xwo","xwr","xwt","xww","xxb","xxk","xxm","xxr","xxt","xya","xyb","xyj","xyk","xyl","xyt","xyy","xzh","xzm","xzp","yaa","yab","yac","yad","yae","yaf","yag","yah","yai","yaj","yak","yal","yam","yan","yao","yap","yaq","yar","yas","yat","yau","yav","yaw","yax","yay","yaz","yba","ybb","ybd","ybe","ybh","ybi","ybj","ybk","ybl","ybm","ybn","ybo","ybx","yby","ych","ycl","ycn","ycp","yda","ydd","yde","ydg","ydk","yds","yea","yec","yee","yei","yej","yel","yen","yer","yes","yet","yeu","yev","yey","yga","ygi","ygl","ygm","ygp","ygr","ygs","ygu","ygw","yha","yhd","yhl","yhs","yi","yia","yif","yig","yih","yii","yij","yik","yil","yim","yin","yip","yiq","yir","yis","yit","yiu","yiv","yix","yiy","yiz","yka","ykg","yki","ykk","ykl","ykm","ykn","yko","ykr","ykt","yku","yky","yla","ylb","yle","ylg","yli","yll","ylm","yln","ylo","ylr","ylu","yly","yma","ymb","ymc","ymd","yme","ymg","ymh","ymi","ymk","yml","ymm","ymn","ymo","ymp","ymq","ymr","yms","ymt","ymx","ymz","yna","ynd","yne","yng","ynh","ynk","ynl","ynn","yno","ynq","yns","ynu","yo","yob","yog","yoi","yok","yol","yom","yon","yos","yot","yox","yoy","ypa","ypb","ypg","yph","ypk","ypm","ypn","ypo","ypp","ypz","yra","yrb","yre","yri","yrk","yrl","yrm","yrn","yro","yrs","yrw","yry","ysc","ysd","ysg","ysl","ysn","yso","ysp","ysr","yss","ysy","yta","ytl","ytp","ytw","yty","yua","yub","yuc","yud","yue","yuf","yug","yui","yuj","yuk","yul","yum","yun","yup","yuq","yur","yut","yuu","yuw","yux","yuy","yuz","yva","yvt","ywa","ywg","ywl","ywn","ywq","ywr","ywt","ywu","yww","yxa","yxg","yxl","yxm","yxu","yxy","yyr","yyu","yyz","yzg","yzk","za","zaa","zab","zac","zad","zae","zaf","zag","zah","zai","zaj","zak","zal","zam","zao","zap","zaq","zar","zas","zat","zau","zav","zaw","zax","zay","zaz","zbc","zbe","zbl","zbt","zbw","zca","zch","zdj","zea","zeg","zeh","zen","zga","zgb","zgh","zgm","zgn","zgr","zh","zhb","zhd","zhi","zhn","zhw","zhx","zia","zib","zik","zil","zim","zin","zir","ziw","ziz","zka","zkb","zkd","zkg","zkh","zkk","zkn","zko","zkp","zkr","zkt","zku","zkv","zkz","zle","zlj","zlm","zln","zlq","zls","zlw","zma","zmb","zmc","zmd","zme","zmf","zmg","zmh","zmi","zmj","zmk","zml","zmm","zmn","zmo","zmp","zmq","zmr","zms","zmt","zmu","zmv","zmw","zmx","zmy","zmz","zna","znd","zne","zng","znk","zns","zoc","zoh","zom","zoo","zoq","zor","zos","zpa","zpb","zpc","zpd","zpe","zpf","zpg","zph","zpi","zpj","zpk","zpl","zpm","zpn","zpo","zpp","zpq","zpr","zps","zpt","zpu","zpv","zpw","zpx","zpy","zpz","zqe","zra","zrg","zrn","zro","zrp","zrs","zsa","zsk","zsl","zsm","zsr","zsu","zte","ztg","ztl","ztm","ztn","ztp","ztq","zts","ztt","ztu","ztx","zty","zu","zua","zuh","zum","zun","zuy","zwa","zxx","zyb","zyg","zyj","zyn","zyp","zza","zzj"],XQ=["aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","aed","aen","afb","afg","ajp","apc","apd","arb","arq","ars","ary","arz","ase","asf","asp","asq","asw","auz","avl","ayh","ayl","ayn","ayp","bbz","bfi","bfk","bjn","bog","bqn","bqy","btj","bve","bvl","bvu","bzs","cdo","cds","cjy","cmn","coa","cpx","csc","csd","cse","csf","csg","csl","csn","csq","csr","czh","czo","doq","dse","dsl","dup","ecs","esl","esn","eso","eth","fcs","fse","fsl","fss","gan","gds","gom","gse","gsg","gsm","gss","gus","hab","haf","hak","hds","hji","hks","hos","hps","hsh","hsl","hsn","icl","iks","ils","inl","ins","ise","isg","isr","jak","jax","jcs","jhs","jls","jos","jsl","jus","kgi","knn","kvb","kvk","kvr","kxd","lbs","lce","lcf","liw","lls","lsg","lsl","lsn","lso","lsp","lst","lsv","lsy","ltg","lvs","lws","lzh","max","mdl","meo","mfa","mfb","mfs","min","mnp","mqg","mre","msd","msi","msr","mui","mzc","mzg","mzy","nan","nbs","ncs","nsi","nsl","nsp","nsr","nzs","okl","orn","ors","pel","pga","pgz","pks","prl","prz","psc","psd","pse","psg","psl","pso","psp","psr","pys","rms","rsi","rsl","rsm","sdl","sfb","sfs","sgg","sgx","shu","slf","sls","sqk","sqs","ssh","ssp","ssr","svk","swc","swh","swl","syy","szs","tmw","tse","tsm","tsq","tss","tsy","tza","ugn","ugy","ukl","uks","urk","uzn","uzs","vgt","vkk","vkt","vsi","vsl","vsv","wbs","wuu","xki","xml","xmm","xms","yds","ygs","yhs","ysl","yue","zib","zlm","zmi","zsl","zsm"],JQ=["art-lojban","cel-gaulish","en-gb-oed","i-ami","i-bnn","i-default","i-enochian","i-hak","i-klingon","i-lux","i-mingo","i-navajo","i-pwn","i-tao","i-tay","i-tsu","no-bok","no-nyn","sgn-be-fr","sgn-be-nl","sgn-ch-de","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],ZQ=["001","002","003","005","009","011","013","014","015","017","018","019","021","029","030","034","035","039","053","054","057","061","142","143","145","150","151","154","155","202","419","aa","ac","ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bl","bm","bn","bo","bq","br","bs","bt","bu","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cp","cr","cs","cu","cv","cw","cx","cy","cz","dd","de","dg","dj","dk","dm","do","dz","ea","ec","ee","eg","eh","er","es","et","eu","ez","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","ic","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mf","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","ta","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","um","un","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","yd","ye","yt","yu","za","zm","zr","zw","zz"],eX=["adlm","afak","aghb","ahom","arab","aran","armi","armn","avst","bali","bamu","bass","batk","beng","bhks","blis","bopo","brah","brai","bugi","buhd","cakm","cans","cari","cham","cher","chrs","cirt","copt","cpmn","cprt","cyrl","cyrs","deva","diak","dogr","dsrt","dupl","egyd","egyh","egyp","elba","elym","ethi","geok","geor","glag","gong","gonm","goth","gran","grek","gujr","guru","hanb","hang","hani","hano","hans","hant","hatr","hebr","hira","hluw","hmng","hmnp","hrkt","hung","inds","ital","jamo","java","jpan","jurc","kali","kana","khar","khmr","khoj","kitl","kits","knda","kore","kpel","kthi","lana","laoo","latf","latg","latn","leke","lepc","limb","lina","linb","lisu","loma","lyci","lydi","mahj","maka","mand","mani","marc","maya","medf","mend","merc","mero","mlym","modi","mong","moon","mroo","mtei","mult","mymr","nand","narb","nbat","newa","nkdb","nkgb","nkoo","nshu","ogam","olck","orkh","orya","osge","osma","palm","pauc","perm","phag","phli","phlp","phlv","phnx","piqd","plrd","prti","rjng","rohg","roro","runr","samr","sara","sarb","saur","sgnw","shaw","shrd","shui","sidd","sind","sinh","sogd","sogo","sora","soyo","sund","sylo","syrc","syre","syrj","syrn","tagb","takr","tale","talu","taml","tang","tavt","telu","teng","tfng","tglg","thaa","thai","tibt","tirh","ugar","vaii","visp","wara","wcho","wole","xpeo","xsux","yezi","yiii","zanb","zinh","zmth","zsye","zsym","zxxx","zyyy","zzzz"],tX=["1606nict","1694acad","1901","1959acad","1994","1996","abl1943","akuapem","alalc97","aluku","ao1990","aranes","arevela","arevmda","asante","auvern","baku1926","balanka","barla","basiceng","bauddha","biscayan","biske","bohoric","boont","bornholm","cisaup","colb1945","cornu","creiss","dajnko","ekavsk","emodeng","fonipa","fonkirsh","fonnapa","fonupa","fonxsamp","gascon","grclass","grital","grmistr","hepburn","heploc","hognorsk","hsistemo","ijekavsk","itihasa","ivanchov","jauer","jyutping","kkcor","kociewie","kscor","laukika","lemosin","lengadoc","lipaw","luna1918","metelko","monoton","ndyuka","nedis","newfound","nicard","njiva","nulik","osojs","oxendict","pahawh2","pahawh3","pahawh4","pamaka","petr1708","pinyin","polyton","provenc","puter","rigik","rozaj","rumgr","scotland","scouse","simple","solba","sotav","spanglis","surmiran","sursilv","sutsilv","tarask","uccor","ucrcor","ulster","unifon","vaidika","valencia","vallader","vivaraup","wadegile","xsistemo"];const zA=QQ,nX=XQ,rX=JQ,zo=ZQ,sw=eX,uc=tX;function iX(e){return e instanceof RegExp}function yr(e,t){return!Array.isArray(e)||!e.length?!1:e.some(n=>iX(n)&&t.match(n)||typeof n=="string"&&t===n)}function aX(e){if(typeof e!="string")return{res:!1,message:"Not a string given."};if(!e.trim())return{res:!1,message:"Empty language tag string given."};const t=/^[a-z0-9]{1,8}(-[a-z0-9]{1,8})*$/gi,n=/^q[a-t][a-z]$/gi;zA.push(n);const r=/^qa[a-b][a-x]$/gi;sw.push(r);const i=/^q[m-z]$/gi;zo.push(i);const a=/^x[a-z]$/gi;zo.push(a);const o=/^[0-9a-wy-z]$/gi;if(!e.match(t))return{res:!1,message:"Does not resemble a language tag."};if(yr(rX,e))return{res:!0,message:null};const s=e.toLowerCase().split("-");let l,u,c,f,d,p,v;const w=[],A=[];for(let h=0,g=s.length;h<g;h++){if(v=!1,h===0&&(l=s[0]==="x"?"private":"normal"),s[h]==="x")return s[h+1]?{res:!0,message:null}:{res:!1,message:'Ends with private use subtag, "x".'};if(f&&zo.includes(s[h]))return{res:!1,message:`Two region subtags, "${f}" and "${s[h]}".`};if(h===0)l==="normal"&&yr(zA,s[h])&&(u=s[h],v=!0);else if(h===1){if(l==="normal"){if(yr(sw,s[h]))c=s[h],v=!0;else if(yr(nX,s[h]))p=s[h],v=!0;else if(yr(zo,s[h]))f=s[h],v=!0;else if(yr(uc,s[h]))if(d=s[h],v=!0,!w.includes(s[h]))w.push(s[h]);else return{res:!1,message:`Repeated variant subtag, "${s[h]}".`}}}else if(h===2){if(l==="normal"){if(u&&p)yr(sw,s[h])?(c=s[h],v=!0):yr(zo,s[h])&&(f=s[h],v=!0);else if(u&&c)yr(zo,s[h])&&(f=s[h],v=!0);else if(u&&f&&yr(uc,s[h]))if(d=s[h],v=!0,!w.includes(s[h]))w.push(s[h]);else return{res:!1,message:`Repeated variant subtag, "${s[h]}".`}}}else h===3&&l==="normal"&&(u&&p&&c?yr(zo,s[h])&&(f=s[h],v=!0):u&&c&&f&&yr(uc,s[h])&&(d=s[h],v=!0));if(s[h].match(o)){if(h===0)return{res:!1,message:`Starts with singleton, "${s[h]}".`};if(!u)return{res:!1,message:"Extension must follow at least a primary language subtag."};if(!A.includes(s[h]))A.push(s[h]);else return{res:!1,message:`Two extensions with same single-letter prefix "${s[h]}".`};if(s[h+1]){if(s[h+1].match(o))return{res:!1,message:`Multiple singleton sequence "${s[h]}", "${s[h+1]}".`};v=!0,p=s[h],h+=1;continue}else return{res:!1,message:`Ends with singleton, "${s[h]}".`}}if(!v&&d&&yr(uc,s[h]))if(h&&yr(uc,s[h-1])){if(!w.includes(s[h]))w.push(s[h]);else return{res:!1,message:`Repeated variant subtag, "${s[h]}".`};v=!0}else return w.push(s[h]),{res:!1,message:`Variant subtags ${w.map(b=>`"${b}"`).join(", ")}  not in a sequence.`};if(!v&&u&&p&&s[h].length>1&&(v=!0),!v)return{res:!1,message:`Unrecognised language subtag, "${s[h]}".`}}return{res:!0,message:null}}function oX(e,t){const n=e.trim(),r=t==="unknown"?void 0:t;if("Intl"in global&&"Segmenter"in global.Intl)if(!r||aX(r).res)try{const a=new Intl.Segmenter(r,{granularity:"word"}),s=Array.from(a.segment(n)).filter(l=>l.isWordLike).map(l=>l.segment);if(s.length)return s}catch(a){Fe.warn("Intl.Segmenter threw an error;",a)}else Fe.warn("languageCode given isn't valid, falling back to regex");const i=[" ",/[\u00B7\u02BB\u02BD\u0312-\u0315\u0326\u055D\u060C\u07F8\u1363\u1802\u1808\u201A\u2E32\u2E34\u2E41\u2E49\u3001\uA4FE\uA60D\uA6F5\uFE10\uFE11\uFE50\uFE51\uFF0C\uFF1B\uFF64]/,/[\u4e00-\u9fcc]/,/\u2014/,/\uD805\uDC4D/,/\uD836\uDE87/].map(a=>typeof a=="string"?a:a.source);return n.split(new RegExp(`(${i.join("|")})`,"g")).filter(a=>Boolean(a.trim()))}const BA="tag:shortlist AND (in:inbox OR in:later)",sX="in:shortlist",Eh="shortlist";function lw(e,t=!0){let n=e;return e===rt.New&&(n="inbox"),t?Bg(n):n}const lX=async({id:e,isFeedView:t},n)=>{var i,a;if(Es(Ct.getState().persistent.settings.documentLocations).includes(rt.Shortlist)){await uw(e,rt.Shortlist,n);return}const r=await sN(e,Eh,n);await uw(e,rt.Later,{...n,correlationId:(i=r.userEvent)==null?void 0:i.id,dontShowToast:!0}),vt({content:"Added to Shortlist",category:"success",link:`/filter/${BA}`,linkTooltipContent:"Go to shortlist",undoableUserEventId:(a=r.userEvent)==null?void 0:a.id})},UA=({isDryRun:e,newDocumentLocations:t,options:n,state:r})=>{if(!r.persistent.documents)throw new Error("state.persistent.documents does not exist");const i=[],a=Es(r.persistent.settings.documentLocations);e||(r.persistent.settings.documentLocations=t);const o=t.filter(u=>!a.includes(u)),s=a.filter(u=>!t.includes(u));s.includes(rt.New)&&i.push({action:u=>ks(u,rt.Later,!1),description:{fromDocumentLocation:rt.New,kind:"move-from-document-location-to-document-location",toDocumentLocation:rt.Later},filter:u=>u.triage_status===rt.New}),o.includes(rt.Shortlist)?(i.push({action:u=>{ks(u,rt.Shortlist,!1),wo(r,u.id,Eh)},description:{kind:"move-to-shortlist-location-and-remove-tag"},filter:u=>u.triage_status===rt.Later&&Eh in(u.tags||{})}),e||oE({shouldErrorIfItDoesntExist:!1,state:r,updates:{query:sX},viewId:"shortlist"})):s.includes(rt.Shortlist)&&(i.push({action:u=>{nu({documentId:u.id,options:n,state:r,tagName:Eh}),ks(u,rt.Later,!1)},description:{kind:"move-from-shortlist-location-and-add-tag"},filter:u=>u.triage_status===rt.Shortlist}),e||oE({shouldErrorIfItDoesntExist:!1,state:r,updates:{query:BA},viewId:"shortlist"}));const l=Object.values(r.persistent.documents);for(const u of l){if(!qi(u))continue;const c=i.filter(f=>f.filter(u));for(const f of c)e?f.description.count=(f.description.count||0)+1:f.action(u)}return i.map(({description:u})=>u)},uw=async(e,t,n)=>{if(ei&&t&&!Es(Ct.getState().persistent.settings.documentLocations).includes(t))throw new Error(`Can't move document to ${t} because it's not an enabled location`);const r=xs(e);if(!r)throw new Error("Document doesn't exist in state");const i=t&&lw(t)||void 0;if(ma(r)===t&&!n.dontShowToastIfSameDocumentLocation){n.userInteraction&&!n.dontShowToast&&vt({content:`Already in ${i}`,category:"error"});return}n.beforeStateUpdate&&await n.beforeStateUpdate();const a=await qo(e,o=>{ks(o,t)},{...n,eventName:eb});return t&&n.userInteraction&&!n.dontShowToast&&vt({content:`Moved to ${i}`,category:"success",link:`/${[ow(),t].filter(Boolean).join("/")}`,linkTooltipContent:`Go to ${i}`,undoableUserEventId:a.userEvent.id}),a},uX=async(e,t)=>{if(!dm.some(n=>ys(e,n)))throw new Error("Invalid configuration");await re(n=>{UA({newDocumentLocations:e,options:t,state:n})},{...t,eventName:"document-locations-setting-updated"})};var cX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",addToShortlist:lX,runDocumentLocationsUpdateActions:UA,updateDocumentLocation:uw,updateDocumentLocationsSetting:uX}),fX=uS,dX=Ul,hX=Al,pX=Fn,gX=da,mX=lo.exports,vX=Bl,yX=Cf,wX="[object Map]",bX="[object Set]",_X=Object.prototype,SX=_X.hasOwnProperty;function EX(e){if(e==null)return!0;if(gX(e)&&(pX(e)||typeof e=="string"||typeof e.splice=="function"||mX(e)||yX(e)||hX(e)))return!e.length;var t=dX(e);if(t==wX||t==bX)return!e.size;if(vX(e))return!fX(e).length;for(var n in e)if(SX.call(e,n))return!1;return!0}var xX=EX,HA=(...e)=>{Fe.log(...e)};const qA=[];Mc()||ct.runtime.onMessage.addListener(async(e,t)=>{const{message:n,data:r}=e;HA("[Messenger]","onMessage",n,"start",r);let i;for(const a of qA)if(i=await a(e,t),typeof i!="undefined")break;return HA("[Messenger]","onMessage",n,"end",typeof i=="string"&&i.length>23?`${i.substr(0,20)}...`:i),i});const kX=e=>{qA.push(e)};function TX(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var AX=TX,CX=ug;function RX(e,t,n,r){return CX(e,function(i,a,o){t(r,i,n(i),o)}),r}var NX=RX,OX=AX,IX=NX,DX=ql,PX=Fn;function LX(e,t){return function(n,r){var i=PX(n)?OX:IX,a=t?t():{};return i(n,e,DX(r),a)}}var $X=LX,FX=Qc,jX=$X,MX=jX(function(e,t,n){FX(e,n,t)}),zX=MX;const BX=()=>{},UX=async()=>{};new Ka.exports.EventEmitter2;const HX=BX,qX=UX,WX=(...e)=>_N(...e),VX=(...e)=>EN(...e),GX=(...e)=>CN(...e),KX=(...e)=>kN(...e),YX=async()=>zX(Ct.getState().persistent.documents,"parsed_doc_id"),QX=(...e)=>RN(...e),XX=(...e)=>NN(...e),JX=(...e)=>ON(...e),ZX=(...e)=>LN(...e);var WA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",setProfile:WX,onBackgroundStateUpdates:VX,fetchRelatedRSS:GX,filterPotentialStateUpdates:KX,getDocumentsByParsedDocId:YX,onRSSFeedsLoaded:QX,getCurrentPersistentState:XX,runForegroundStateChecksum:JX,updateDocumentLinks:ZX,initSearchDB:HX,setSearchContent:qX});const cw=!Mc();let cc=null;const eJ=async()=>{if(cc)return cc;if(cc=await ct.runtime.sendMessage({message:"getTabId"}),!cc)throw new Error("Could not get tab ID");return cc},Kr=cw?new Zc({getGateName:async()=>`Foreground-${await eJ()}`,localMethods:WA,loggingPrefix:"\u{1F5BC}",loggingColor:"darkgreen",portalName:"background-foreground",sendMessage:async e=>{await ct.runtime.sendMessage(e)},shouldLog:!1}):{};cw&&kX(async(...e)=>await Kr.handleIncomingMessage(...e)||void 0);var Yr=cw?Kr.methods:{};function nr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function fl(e){nr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function tJ(e,t){nr(2,arguments);var n=fl(e),r=fl(t);return n.getTime()>r.getTime()}function fw(e){nr(1,arguments);var t=fl(e);return t.setHours(0,0,0,0),t}function nJ(e,t){nr(2,arguments);var n=fw(e),r=fw(t);return n.getTime()===r.getTime()}function rJ(){return fw(Date.now())}function yi(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function VA(e,t){nr(2,arguments);var n=fl(e),r=yi(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function GA(e,t){nr(2,arguments);var n=yi(t);return VA(e,-n)}function iJ(e,t){nr(2,arguments);var n=fl(e).getTime(),r=yi(t);return new Date(n+r)}var aJ=36e5;function oJ(e,t){nr(2,arguments);var n=yi(t);return iJ(e,n*aJ)}function sJ(e,t){nr(2,arguments);var n=yi(t);return oJ(e,-n)}function KA(e,t){nr(2,arguments);var n=fl(e),r=yi(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function lJ(e,t){nr(2,arguments);var n=yi(t);return KA(e,-n)}function uJ(e,t){nr(2,arguments);var n=yi(t),r=n*7;return VA(e,r)}function cJ(e,t){nr(2,arguments);var n=yi(t);return uJ(e,-n)}function fJ(e,t){nr(2,arguments);var n=yi(t);return KA(e,n*12)}function dJ(e,t){nr(2,arguments);var n=yi(t);return fJ(e,-n)}var hJ=e=>typeof e=="string"?new Date(e.replace(/-/g,"/")):new Date(e),pJ=e=>{if(typeof e=="string"){let t=new Date(`${e} 00:00:00`).getTime();return t||(t=new Date(`${e.replaceAll("-","/")} 00:00:00`).getTime()),t}return e},gJ=Pf;function mJ(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:gJ(e,t,n)}var vJ=mJ,yJ="\\ud800-\\udfff",wJ="\\u0300-\\u036f",bJ="\\ufe20-\\ufe2f",_J="\\u20d0-\\u20ff",SJ=wJ+bJ+_J,EJ="\\ufe0e\\ufe0f",xJ="\\u200d",kJ=RegExp("["+xJ+yJ+SJ+EJ+"]");function TJ(e){return kJ.test(e)}var YA=TJ;function AJ(e){return e.split("")}var CJ=AJ,QA="\\ud800-\\udfff",RJ="\\u0300-\\u036f",NJ="\\ufe20-\\ufe2f",OJ="\\u20d0-\\u20ff",IJ=RJ+NJ+OJ,DJ="\\ufe0e\\ufe0f",PJ="["+QA+"]",dw="["+IJ+"]",hw="\\ud83c[\\udffb-\\udfff]",LJ="(?:"+dw+"|"+hw+")",XA="[^"+QA+"]",JA="(?:\\ud83c[\\udde6-\\uddff]){2}",ZA="[\\ud800-\\udbff][\\udc00-\\udfff]",$J="\\u200d",eC=LJ+"?",tC="["+DJ+"]?",FJ="(?:"+$J+"(?:"+[XA,JA,ZA].join("|")+")"+tC+eC+")*",jJ=tC+eC+FJ,MJ="(?:"+[XA+dw+"?",dw,JA,ZA,PJ].join("|")+")",zJ=RegExp(hw+"(?="+hw+")|"+MJ+jJ,"g");function BJ(e){return e.match(zJ)||[]}var UJ=BJ,HJ=CJ,qJ=YA,WJ=UJ;function VJ(e){return qJ(e)?WJ(e):HJ(e)}var GJ=VJ,KJ=vJ,YJ=YA,QJ=GJ,XJ=kl;function JJ(e){return function(t){t=XJ(t);var n=YJ(t)?QJ(t):void 0,r=n?n[0]:t.charAt(0),i=n?KJ(n,1).join(""):t.slice(1);return r[e]()+i}}var ZJ=JJ,eZ=ZJ,tZ=eZ("toUpperCase"),nZ=tZ,rZ=kl,iZ=nZ;function aZ(e){return iZ(rZ(e).toLowerCase())}var nC=aZ;function oZ(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}var sZ=oZ;function lZ(e){return function(t){return e==null?void 0:e[t]}}var uZ=lZ,cZ=uZ,fZ={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},dZ=cZ(fZ),hZ=dZ,pZ=hZ,gZ=kl,mZ=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vZ="\\u0300-\\u036f",yZ="\\ufe20-\\ufe2f",wZ="\\u20d0-\\u20ff",bZ=vZ+yZ+wZ,_Z="["+bZ+"]",SZ=RegExp(_Z,"g");function EZ(e){return e=gZ(e),e&&e.replace(mZ,pZ).replace(SZ,"")}var xZ=EZ,kZ=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function TZ(e){return e.match(kZ)||[]}var AZ=TZ,CZ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function RZ(e){return CZ.test(e)}var NZ=RZ,rC="\\ud800-\\udfff",OZ="\\u0300-\\u036f",IZ="\\ufe20-\\ufe2f",DZ="\\u20d0-\\u20ff",PZ=OZ+IZ+DZ,iC="\\u2700-\\u27bf",aC="a-z\\xdf-\\xf6\\xf8-\\xff",LZ="\\xac\\xb1\\xd7\\xf7",$Z="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FZ="\\u2000-\\u206f",jZ=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oC="A-Z\\xc0-\\xd6\\xd8-\\xde",MZ="\\ufe0e\\ufe0f",sC=LZ+$Z+FZ+jZ,lC="['\u2019]",uC="["+sC+"]",zZ="["+PZ+"]",cC="\\d+",BZ="["+iC+"]",fC="["+aC+"]",dC="[^"+rC+sC+cC+iC+aC+oC+"]",UZ="\\ud83c[\\udffb-\\udfff]",HZ="(?:"+zZ+"|"+UZ+")",qZ="[^"+rC+"]",hC="(?:\\ud83c[\\udde6-\\uddff]){2}",pC="[\\ud800-\\udbff][\\udc00-\\udfff]",dl="["+oC+"]",WZ="\\u200d",gC="(?:"+fC+"|"+dC+")",VZ="(?:"+dl+"|"+dC+")",mC="(?:"+lC+"(?:d|ll|m|re|s|t|ve))?",vC="(?:"+lC+"(?:D|LL|M|RE|S|T|VE))?",yC=HZ+"?",wC="["+MZ+"]?",GZ="(?:"+WZ+"(?:"+[qZ,hC,pC].join("|")+")"+wC+yC+")*",KZ="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YZ="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",QZ=wC+yC+GZ,XZ="(?:"+[BZ,hC,pC].join("|")+")"+QZ,JZ=RegExp([dl+"?"+fC+"+"+mC+"(?="+[uC,dl,"$"].join("|")+")",VZ+"+"+vC+"(?="+[uC,dl+gC,"$"].join("|")+")",dl+"?"+gC+"+"+mC,dl+"+"+vC,YZ,KZ,cC,XZ].join("|"),"g");function ZZ(e){return e.match(JZ)||[]}var eee=ZZ,tee=AZ,nee=NZ,ree=kl,iee=eee;function aee(e,t,n){return e=ree(e),t=n?void 0:t,t===void 0?nee(e)?iee(e):tee(e):e.match(t)||[]}var oee=aee,see=sZ,lee=xZ,uee=oee,cee="['\u2019]",fee=RegExp(cee,"g");function dee(e){return function(t){return see(uee(lee(t).replace(fee,"")),e,"")}}var hee=dee,pee=nC,gee=hee,mee=gee(function(e,t,n){return t=t.toLowerCase(),e+(n?pee(t):t)}),bC=mee,vee=e=>{const t=so(e)&&e.url&&q2(e.url);return e.category===He.Video||t?e.listening_time_seconds:void 0};function xh(e,t){return e.overrides&&Object.keys(e.overrides).includes(t)?e.overrides[t]:e[t]||""}const yee=e=>Math.max(Math.ceil(e/265),1);var _C=e=>{try{const{host:t}=new URL(e);return t.replace("www.","")}catch(t){if(t instanceof TypeError)return"";throw t}};function fc(e){return Object.keys(e).reduce((t,n)=>n.includes("_")?{...t,[bC(n)]:e[n],[n]:e[n]}:{...t,[n]:e[n]},{})}const pw=fc({last_status:e=>e.last_status_update,moved:e=>pw.last_status(e),saved:e=>e.saved_at,last_opened:e=>e.lastOpenedAt,published:e=>H2(e)?e.published_date:void 0}),dc=fc({id:e=>e.id,domain:e=>so(e)?e.url&&_C(e.url):"",language:e=>e.language,url:e=>so(e)?e.url:"",category:e=>e.category,type:e=>dc.category(e),rss_source:e=>{var t;return(t=e.source_specific_data)==null?void 0:t.rss_feed},saved_using:e=>e.source,author:e=>W_(e)?xh(e,"author"):void 0,triage_status:(e,t)=>t==="inbox"&&e.triage_status===rt.New?"inbox":ma(e),location:(e,t)=>dc.triage_status(e,t),in:(e,t)=>dc.triage_status(e,t),title:e=>og(e)?xh(e,"title"):""}),gw=fc({words:e=>U2(e)?e.word_count:0,minutes:e=>{const t=vee(e);return t?(t||0)/60:yee(gw.words(e)||0)},progress:e=>{var t;return(t=e.readingPosition)!=null&&t.scrollDepth?Math.floor(e.readingPosition.scrollDepth*100):0},highlights:e=>{var t;return Af(e)?(t=e.children)==null?void 0:t.length:0},saved_count:e=>{var t,n;return(n=(t=e.saved_at_history)==null?void 0:t.length)!=null?n:1}}),Ma=fc({feed:e=>ma(e)===rt.Feed,opened:e=>Boolean(e.firstOpenedAt),open:e=>Ma.opened(e),seen:e=>Ma.opened(e),unseen:e=>!e.firstOpenedAt,has_highlights:e=>{var t;return Af(e)?((t=e.children)==null?void 0:t.length)>0:!1},has_tags:e=>Boolean(e.tags&&Object.keys(e.tags).length>0),has_notes:e=>Boolean(e.notes),has_note:e=>Ma.has_notes(e),has:(e,t)=>t==="highlights"?Ma.has_highlights(e):t==="tags"?Ma.has_tags(e):t==="notes"||t==="note"?Ma.has_notes(e):!1,shared:e=>B2(e)?Boolean(e.sharedAt):!1}),SC=fc({tag:e=>{const t=e.tags;if(!!t)return Object.keys(t).map(n=>t[n].name)}}),EC=Object.keys(pw),xC=Object.keys(dc),kC=Object.keys(gw),TC=Object.keys(Ma),AC=Object.keys(SC);[...EC,...xC,...kC,...TC,...AC];const CC={...pw,...dc,...gw,...Ma,...SC},wee=new Set(Jc(["id","category","type","rss_source","triage_status","in","location"].map(e=>[e,bC(e)])));function bee(e,t,n){return Object.keys(CC).includes(t)?CC[t](e,n):xh(e,t)}var kh=(e=>(e.OR="OR",e.AND="AND",e.NOT="NOT",e))(kh||{}),Ft=(e=>(e.GreaterThan="__gt:",e.LessThan="__lt:",e.GreaterThanOrEqual="__gte:",e.LessThanOrEqual="__lte:",e.After="__after:",e.Before="__before:",e.Contains="__contains:",e.Exact="__exact:",e.Fuzzy=":",e.Not="__not:",e))(Ft||{}),RC=(e=>(e.Logical="logical",e.Node="node",e))(RC||{});const _ee=e=>qi(e),See=({docValue:e,expected:t,operator:n})=>{switch(n){case Ft.Fuzzy:case Ft.Exact:return e===t;case Ft.GreaterThan:return e>t;case Ft.LessThan:return e<t;case Ft.GreaterThanOrEqual:return e>=t;case Ft.LessThanOrEqual:return e<=t;case Ft.Not:return e!==t;default:return!1}},NC=e=>e.replaceAll(/\s/g,""),mw=(e,t)=>NC(e).toLowerCase().includes(NC(t).toLowerCase()),OC=({docValue:e,expected:t,operator:n})=>{switch(n){case Ft.Fuzzy:case Ft.Contains:return mw(e,t);case Ft.Exact:return e===t;case Ft.Not:return!mw(e,t);default:return!1}},Th=(e,t)=>tJ(e,t),Ah=(e,t)=>nJ(e,t),Eee=e=>{const t=Number(e);return t||pJ(e)},vw={},xee=e=>(vw[e]||(vw[e]=kee(e)),vw[e]),kee=e=>{if(e.includes("-"))return hJ(`${e} 00:00`).getTime();const[t,n]=e.split(" ");if(t==="today")return new Date().getTime();const r=rJ();if(t==="yesterday")return GA(r,1).getTime();const a=t==="last"?1:Number(t);if(a)switch(n.toLowerCase()){case"years":case"year":return dJ(r,a).getTime();case"months":case"month":return lJ(r,a).getTime();case"weeks":case"week":return cJ(r,a).getTime();case"days":case"day":return GA(r,a).getTime();case"hours":case"hour":return sJ(new Date,a).getTime();default:throw new Error(`Invalid unit of time after ${a}`)}else throw new Error(`Invalid unit of time after ${a}`)},IC=e=>typeof e=="string"&&e.includes("-"),Tee=({docValue:e,expected:t,operator:n})=>{const r=n===Ft.Fuzzy||n===Ft.Exact,i=IC(e),a=IC(t);if(r&&i&&a)return e===t;const o=Eee(e),s=xee(t);switch(n){case Ft.After:case Ft.GreaterThan:return Th(o,s);case Ft.Before:case Ft.LessThan:return Th(s,o);case Ft.GreaterThanOrEqual:return Th(o,s)||Ah(o,s);case Ft.LessThanOrEqual:return Th(s,o)||Ah(o,s);case Ft.Fuzzy:case Ft.Exact:return Ah(o,s);case Ft.Not:return!Ah(o,s);default:return!1}},Aee=({docValue:e,expected:t,operator:n})=>t==="true"?Boolean(e):t==="false"||n===Ft.Not?!e:Boolean(e),Cee=({docValue:e,expected:t,operator:n})=>{if(n===Ft.Not){for(const i of e)if(mw(i,t))return!1;return!0}const r=e.find(i=>OC({docValue:i,expected:t,operator:n}));return Boolean(r)},Ree=({operator:e})=>e===Ft.Not,Nee=({ast:e,doc:t})=>{const{key:n,operator:r,value:i}=e,a=bee(t,n,i);if(a==null)return Ree({operator:r});if(AC.includes(n)){const o=n==="tag"&&r===Ft.Fuzzy?Ft.Exact:r;return Cee({docValue:a,expected:i,operator:o})}if(EC.includes(n))return Tee({docValue:a,expected:i,operator:r});if(TC.includes(n))return Aee({docValue:Boolean(a),expected:i,operator:r});if(kC.includes(n))return See({docValue:Number(a),expected:Number(i),operator:r});if(xC.includes(n)){const o=wee.has(n)&&r===Ft.Fuzzy?Ft.Exact:r;return OC({docValue:a.toString(),expected:i,operator:o})}return!1};function yw({ast:e,doc:t}){if(e.type===RC.Node)return Nee({ast:e,doc:t});const{left:n,right:r,operator:i}=e,a=yw({ast:n,doc:t}),o=()=>yw({ast:r,doc:t});return i===kh.AND?a?o():!1:i===kh.OR?a?!0:o():a&&!o()}function DC({ast:e,doc:t}){return!e||!_ee(t)?!1:yw({ast:e,doc:t})}const Oee=({doc:e,splitByKey:t,splitByValue:n})=>{switch(t){case ao.DocumentLocation:return ma(e)===n;case ao.Seen:{if(!n)return!0;const r=$C.seen,i=r.name,a=r.queryParamValue;return n===i||n===a?Boolean(e.firstOpenedAt):!e.firstOpenedAt}default:return!0}};function Iee({categoryToFilterAndSortWith:e,doc:t,filterAst:n,filterByDocumentLocation:r,shouldRunSplit:i,splitByKey:a,splitByValue:o}){return!(e&&t.category!==e||!qi(t)||r&&!(ma(t)===r)||i&&a&&!Oee({doc:t,splitByKey:a,splitByValue:o})||n&&!DC({ast:n,doc:t}))}const Dee=async({allLists:e,deletedDocumentIds:t=[],force:n=!1,listId:r,updatedDocIds:i,allDocuments:a=Ct.getState().persistent.documents})=>{if(!a||xX(a))return;const o=e[r],s=[],l=[];for(const u of i){if(!u||!a[u])continue;const c=Iee({categoryToFilterAndSortWith:o.deps.categoryToFilterAndSortWith,doc:a[u],filterAst:o.deps.filterAst,filterByDocumentLocation:o.deps.filterByDocumentLocation,shouldRunSplit:o.deps.shouldRunSplit,splitByKey:o.deps.splitByKey,splitByValue:o.deps.splitByValue});c&&(!(u in o.docIdsMap)||n)&&s.push(u),!c&&u in o.docIdsMap&&l.push(u)}return l.push(...t),{docIdsToAdd:s,docIdsToRemove:l}};async function Pee(e,t,n,r,i,a){const o=(e==null?void 0:e.lists)||{},s={};for(const l of Object.keys(o)){const u=await Dee({allLists:o,allDocuments:r,deletedDocumentIds:Array.from(n),force:i,listId:l,updatedDocIds:t});u&&(u.docIdsToAdd.length||u.docIdsToRemove.length)&&(s[l]=u)}Object.keys(s).length===0&&!a||await re(l=>{var u;a&&(l.documentListCache=e);for(const c of Object.keys(s)){if(!((u=l.documentListCache)!=null&&u.lists[c]))throw new Error("Can't update documents in list, list cache or list doesn't exist in state");const{docIdsToAdd:f,docIdsToRemove:d}=s[c];Fe.log("listState: updating listId ",c,s[c]);for(const p of f)l.documentListCache.lists[c].docIdsMap[p]=!0;for(const p of d)delete l.documentListCache.lists[c].docIdsMap[p]}},{eventName:a?"document-list-cache-loaded-from-disk":"document-list-cache-list-doc-ids-updated",shouldCreateUserEvent:!1,userInteraction:null})}async function Lee(e,t){var l,u;const n=new Set([]),r=new Set([]);let i=!1;const a=Object.values($t);for(const c of t){const f=(l=c.path)==null?void 0:l[3];if(!(c.path.length>2&&c.path[0]==="persistent"&&c.path[1]==="documents"&&!(f&&M_.includes(f.toString()))))continue;const d=c.op==="remove"&&c.path.length===3,p=c.path[2];if(d)n.add(p);else if(e.persistent.documents){const v=(u=c.path)==null?void 0:u[3];v&&a.includes(v.toString())&&(i=!0),r.add(p)}}if(n.size===0&&r.size===0)return;const o=Array.from(r),s=Array.from(n);await Pee(e.documentListCache,o,s,e.persistent.documents,i,!1),Yr.cacheUpdatedDocuments(o,s)}const $ee=["/settings/documentLocations/"];function Fee({lastState:e,nextState:t,operations:n}){let r=n;for(const i of $ee){const a=r.findIndex(f=>f.path.startsWith(i));if(a===-1)continue;r=r.filter(f=>!f.path.startsWith(i));const o=i.split("/").filter(Boolean),s=["persistent",...o].join("."),l=Hl(t,s),u=`/${o.join("/")}`;let c;typeof l=="undefined"?c={op:"remove",path:u}:c={op:typeof Hl(e,s)=="undefined"?"add":"replace",path:u,value:l},r.splice(a,0,c)}return r}let jee,Mee,zee,Bee,Uee;const Hee=({correlationId:e,dataUpdates:t,eventName:n,userInteraction:r})=>{let i;if(t){const o=I1(t.forwardPatch,s=>{const[l,u]=s.path.split("/").filter(Boolean);return`${l}#${u}`}).map(s=>{const[l,u]=s.path.split("/").filter(Boolean);return{id:u,type:l}});i={forwardPatch:t.forwardPatch,itemsUpdated:o,reversePatch:t.reversePatch}}const a=Si();return{correlationId:e||a,dataUpdates:i,environment:{agent:{category:Uc,version:Gb},app:{category:Uc,commitId:Yb,page:zee,sessions:{focusSessionId:jee,instanceSessionId:Mee,pageSessionId:Bee,windowSessionId:Uee},version:Gb},browser:{...$I,userAgent:navigator.userAgent},channel:Kb,device:FI,os:Xb},id:a,name:n,timestamp:Date.now(),userInteraction:r?{name:r}:void 0}};HV();function Pr(e,t=4){let n=0;return Object.keys(Bt).reduce((r,i,a)=>{const o=a===0?e:n+t;return n=o,{...r,[i]:o}},{})}Pr(16,1),Pr(16,2),Pr(504,72),Bt.XS+"",Bt.S+"",Bt.M+"",Bt.L+"",Bt.XL+"",Bt.XS+"",Bt.S+"",Bt.M+"",Bt.L+"",Bt.XL+"",Bt.XS+"",Pr(20),Bt.S+"",Pr(20),Bt.M+"",Pr(24),Bt.L+"",Pr(28),Bt.XL+"",Pr(28),Bt.XS+"",Pr(20),Bt.S+"",Pr(24),Bt.M+"",Pr(24),Bt.L+"",Pr(28),Bt.XL+"",Pr(28);const ww=({categoryToFilterAndSortWith:e,filterByDocumentLocation:t,filterByFeedDocumentLocation:n,filter:r,splitByKey:i,splitByValue:a})=>`category:${e}-documentLocation:${t}-feedDocumentLocation:${n}-filter:${r==null?void 0:r.query}-splitByKey:${i}-splitByValue:${a}`;Object.entries(rt).reduce((e,[t,n])=>t==="Feed"?e:{...e,[t]:n},{});var PC=(e=>(e.SplitByNothing="splitByNothing",e.SplitByDocumentLocationNew="splitByDocumentLocationNew",e.SplitByDocumentLocationLater="splitByDocumentLocationLater",e.SplitByDocumentLocationShortlist="splitByDocumentLocationShortlist",e.SplitByDocumentLocationArchive="splitByDocumentLocationArchive",e.SplitBySeenStatusUnseen="splitBySeenStatusUnseen",e.SplitBySeenStatusSeen="splitBySeenStatusSeen",e))(PC||{});Object.values(PC).filter(e=>e.startsWith("splitBySeen")),rt.Archive,rt.Later,rt.New,rt.Shortlist,Pl.New,Pl.Seen;const LC=wt.SourceSerif,qee={shared:{[wt.Literata]:"Literata-Regular",[wt.Piazzolla]:"Piazzolla-Regular",[wt.SourceSerif]:"SourceSerif4Roman-DisplayRegular"},ios:{},android:{}},Wee={shared:{[wt.Inter]:"Inter-Regular",[wt.IBMPlexSans]:"IBMPlexSans-Regular",[wt.SourceSans]:"SourceSans3-Regular",[wt.OpenDyslexic]:"OpenDyslexic-Regular",[wt.AtkinsonHyperlegible]:"AtkinsonHyperlegible-Regular",[wt.RobotoMono]:"RobotoMono-Regular"},ios:{},android:{[wt.AtkinsonHyperlegible]:"default"}},Vee=T1({},qee,Wee);wt.Literata,wt.Piazzolla,wt.SourceSerif,wt.AtkinsonHyperlegible,wt.Inter,wt.IBMPlexSans,wt.SourceSans,wt.OpenDyslexic,wt.Inter+"",wt.AtkinsonHyperlegible+"",wt.Literata+"",wt.IBMPlexSans+"",wt.Piazzolla+"",wt.SourceSans+"",wt.SourceSerif+"",wt.OpenDyslexic+"",wt.Inter+"",wt.AtkinsonHyperlegible+"",wt.Literata+"",wt.IBMPlexSans+"",wt.Piazzolla+"",wt.SourceSans+"",wt.SourceSerif+"",wt.OpenDyslexic+"";const Gee=wt.SourceSerif,Kee=[wt.Literata,wt.Piazzolla,wt.SourceSerif],Yee=[wt.AtkinsonHyperlegible,wt.Inter,wt.IBMPlexSans,wt.SourceSans,wt.OpenDyslexic];$t.LastStatusUpdate+"",$t.SavedAt+"",$t.ReadingProgress+"",$t.Title+"",$t.Author+"",$t.Category+"",$t.LastOpenedAt+"",$t.WordCount+"",$t.Published+"",$t.Random+"";const Qr={date:{[dn.Asc]:"Old \u2192 Recent",[dn.Desc]:"Recent \u2192 Old"},string:{[dn.Asc]:"A \u2192 Z",[dn.Desc]:"Z \u2192 A"},integer:{[dn.Asc]:"0 \u2192 100",[dn.Desc]:"100 \u2192 0"}};$t.LastStatusUpdate+"",Qr.date,$t.SavedAt+"",Qr.date,$t.LastOpenedAt+"",Qr.date,$t.Published+"",Qr.date,$t.Title+"",Qr.string,$t.Author+"",Qr.string,$t.Category+"",Qr.string,$t.ReadingProgress+"",Qr.integer,$t.WordCount+"",Qr.integer,ii.Name+"",ii.Documents+"",ii.LastUpdated+"",ii.Manual+"",ii.Name+"",Qr.string,ii.Documents+"",Qr.integer,ii.LastUpdated+"",Qr.date;const Qee={rules:{[rt.New]:[{id:"1",key:$t.LastStatusUpdate,order:dn.Desc}],[rt.Later]:[{id:"2",key:$t.LastStatusUpdate,order:dn.Desc}],[rt.Archive]:[{id:"3",key:$t.LastStatusUpdate,order:dn.Desc}],filterPage:[{id:"5",key:$t.SavedAt,order:dn.Desc}],"feed-seen":[{id:"6",key:$t.SavedAt,order:dn.Desc}],"feed-unseen":[{id:"7",key:$t.SavedAt,order:dn.Desc}]}};$t.LastStatusUpdate,dn.Desc;const Xee={...Object.fromEntries(Object.values(rt).map((e,t)=>[ww({filterByDocumentLocation:e}),[{id:(t+1).toString(),key:$t.LastStatusUpdate,order:dn.Desc}]])),[ww({filterByDocumentLocation:rt.Feed,filterByFeedDocumentLocation:Pl.Seen})]:[{id:"6",key:$t.SavedAt,order:dn.Desc}],[ww({filterByDocumentLocation:rt.Feed,filterByFeedDocumentLocation:Pl.New})]:[{id:"7",key:$t.SavedAt,order:dn.Desc}]};ao.DocumentLocation+"",ao.Seen+"";const $C={unseen:{name:"unseen",queryParamValue:"false"},seen:{name:"seen",queryParamValue:"true"}};ao.DocumentLocation+"",Object.values(rt).reduce((e,t)=>t===rt.Feed?e:{...e,[t]:{name:t,queryParamValue:t}},{}),ao.Seen+"",Er.AllDocs+"",Er.AboveFocusedDoc+"",Er.BelowFocusedDoc+"",Er.AllDocs+"",Tf.AllDocumentsInList,Er.AboveFocusedDoc+"",Tf.AboveFocusedDoc,Er.BelowFocusedDoc+"",Tf.BelowFocusedDoc,Er.AllDocs+"",Xn.BulkActionsTagsAll,Er.AboveFocusedDoc+"",Xn.BulkActionsTagsAbove,Er.BelowFocusedDoc+"",Xn.BulkActionsTagsBelow,Xn.BulkActionsTagsAll+"",Er.AllDocs,Xn.BulkActionsTagsAbove+"",Er.AboveFocusedDoc,Xn.BulkActionsTagsBelow+"",Er.BelowFocusedDoc,z_.Guy;const Jee=(...e)=>{const[t,n]=e;return{update:async i=>{const a=n(),o=Qf(a,s=>{i(s)});t(()=>o,void 0)},focusedHighlightId:null}},Zee=cm(fm((...e)=>Jee(...e))),ete=(...e)=>{const[t,n]=e;return{update:async i=>{const a=n(),o=Qf(a,s=>{i(s)});t(()=>o,void 0)}}},bw=cm(fm((...e)=>ete(...e))),FC=({documentLocations:e})=>({theme:lr.System,recentSearches:[],documentsSortMenu:Qee,profile:null,dailyDigestHomeNudgeDisabled:!1,rightSidebarHiddenInList:!1,hideRightPanelOnEnteringReadingView:!1,hideLeftPanelOnEnteringReadingView:!1,readerSettings:{desktop:{fontSize:Bt.M,lineHeight:Bt.M,lineLength:Bt.M,font:Gee,direction:ig.LeftToRight},mobile:{fontSize:Bt.M,lineHeight:Bt.M,lineLength:Bt.XS,font:LC,direction:ig.LeftToRight}},listSortRules:Xee,largeFeedView:!1,documents:{},askToPasteUrls:!0,mobileHapticsEnabled:!0,openLinksInApp:!0,swipeConfig:QV(e),autoAdvance:!1,youtube:{autoScroll:!0,playbackRate:1},mobileLastAnnotationSubpanelOpened:void 0,sortViewsByKey:ii.Documents,sortViewsByOrder:dn.Desc,sortFeedsByKey:ii.Documents,sortFeedsByOrder:dn.Desc,sortTagsByKey:ii.Documents,sortTagsByOrder:dn.Desc,headphoneGestures:{previousTrack:ag.JumpBackward,nextTrack:ag.JumpForward}}),tte=()=>{const e=[rt.Feed,rt.New,rt.Later,rt.Archive];return{allTags:{},canUndoAction:!1,client:FC({documentLocations:e}),clientStateLoaded:!1,persistentStateLoaded:!1,cmdPalette:{isOpen:!1,subMenu:Xn.Normal,openSubmenus:[]},currentDocumentIdsList:[],documentListCache:void 0,documentsListScrolled:!1,documentsLoaded:!1,filterPreviousRoute:"/",filterDirtyState:!1,focusedDocumentId:null,focusedFeedId:null,focusedTagId:null,focusedViewId:null,focusedHighlightId:null,gptPromptLoading:!1,gptPrompt:null,documentPromptInput:null,highlightIdToOpenAt:null,isAppearancePanelShown:!1,isVideoSettingsPanelShown:!1,isDeleteDocumentDialogOpen:!1,isDocMoreActionsDropdownOpen:!1,isEditTagsPopoverShown:!1,isDocumentMetadataShown:!1,isDocumentsSortMenuShown:!1,isInboxZero:!1,isOnline:!0,isReading:!1,keyboardShortcuts:{},leftSidebarHiddenForNarrowScreen:!1,leftSidebarHiddenInReadingView:!1,linkActionsUrl:null,mobileAppState:"active",mobileCurrentFocusedDocumentListId:void 0,mobileDocumentImageModalSrc:void 0,mobileDocumentTableOfContents:[],mobileActiveTableOfContentsHeadingId:void 0,mobileFocusedListState:{isFilteredView:!1,isFeedView:!1,savedFilterView:void 0,filterQuery:void 0,routeName:""},mobileHomeNavBarHeight:56,mobileIsEmptyListState:!1,mobileLoggedIn:null,mobileIsHomeTabActive:!1,mobileSelectedFilteredViewQuery:null,mobileStatusBarHeight:0,networkStatus:si.Offline,persistent:{settings:{defaultPage:"library",documentLocations:e,web:{isAutoHighlightingEnabled:!0}}},possibleRssFeeds:{},rightSidebarHiddenForNarrowScreen:!1,rightSidebarHiddenInReadingView:!1,routeStack:[],screenWidth:0,selectedHighlightId:null,tagNamesUsedRecently:[],userEvents:[],webEffectiveTheme:lr.Dark,zenModeEnabled:!1,youtube:{seekTo:null,isPlaying:!1},filterQueryToCreate:void 0}},nte=e=>e,rte=({shouldMinimize:e}={},...t)=>{const[n,r]=t,i=async(a,o)=>{const s=r();let l=[],u=Qf(s,v=>{a(v)},(v,w)=>{l=v});const c=u!==s,f=o.shouldCreateUserEvent!==!1&&(Boolean(o.userInteraction)||c);let d;const p=o.eventName;if(!f&&!c)return{userEvent:d};if(f){let v;if(c&&o.allowPersistence!==!1){let w=rE(s.persistent,u.persistent);w.length&&(w=Fee({lastState:s,nextState:u,operations:w}),v={forwardPatch:w,reversePatch:rE(u.persistent,s.persistent)})}if(d=Hee({correlationId:o.correlationId,dataUpdates:v,eventName:p,userInteraction:o.userInteraction}),o.onSentToServer){const w=o.onSentToServer,A=d.id,h=g=>{!g.includes(A)||(Kr.off("backgroundToServerUpdatesConsumed",h),w())};Kr.on("backgroundToServerUpdatesConsumed",h)}u=Qf(u,w=>{w.userEvents.push(d)})}if(n(v=>(ei&&(v!==s?Fe.warn("updateState: state has changed between get() and set() calls",{draft:v,eventName:p,lastState:s}):ys(v,u)&&Fe.warn("updateState: state unchanged in set()",{eventName:p})),u),void 0,p),d!=null&&d.dataUpdates){const v=d;(o==null?void 0:o.undoable)!==!1&&(jC.push(v),await rb(!0)),await Yr.queueStateUpdateFromForeground(v)}return c&&(Lee(u,l),ite(s,u)),{userEvent:d}};return{isStateMinimized:Boolean(e),update:i,...tte()}},Ct=cm(fm(nte((...e)=>rte({shouldMinimize:Jt},...e))));ip&&(window._globalState=Ct,window._actions=SI,window._documentLocationActions=cX);const ite=async(e,t)=>{e.client!==t.client&&await Yr.setCacheItem("clientData",t.client)},jC=[],MC=()=>jC,za=[],re=Ct.getState().update,ate=Zee.getState().update,ote=bw.getState().update,ste=[Xn.FeatureRequest,Xn.BugReport,Xn.ParseError],lte={[Xn.FeatureRequest]:"feedback",[Xn.BugReport]:"bug report",[Xn.ParseError]:"parse error"};function ute(e){if(Kn)return!0;const t=document.querySelector("#cp-input");return(t==null?void 0:t.value)&&ste.includes(e)?confirm(`Are you sure you want to close the in-app ${lte[e]} dialog? Anything you've written will be lost.`):!0}const cte=async(e,t)=>{if(Ct.getState().cmdPalette.isOpen===e)return;const n=Ct.getState().cmdPalette.subMenu;!e&&!ute(n)||await re(r=>{r.cmdPalette.isOpen=e,e||(r.cmdPalette.subMenu=Xn.Normal,r.cmdPalette.openSubmenus=[])},{...t,eventName:"cmd-palette-opened"})},Xe={white:"#FFFFFF",white60:"rgba(255,255,255,0.6)",black:"#000000",blackish:"#252525",black3:"rgba(23,30,39,0.8)",danger:"#e80000",emeraldGreen:"#32936F",lightGrey:"#F1F1F1F1",grey:"#A6A6A6",darkGrey:"#898A8C",veryDarkGrey:"#3E3E40",darkPrimaryDarker:"#090f13",darkPrimary:"#111B24",darkPrimaryLight:"#1B2834",darkPrimaryLighter:"#242D39",darkPrimaryLightest:"#2E3745",borderFocus:"#438FFF",blue30:"#293E9B",blue50:"#376EF2",blue60:"#598EF4",blue70:"#84ACF1",blue80:"#AEC8F1",neutral05:"#0c1117",neutral07:"#10161D",neutral10:"#151C23",neutral15:"#1E272F",neutral20:"#28313B",neutral30:"#3E4853",neutral40:"#555F6B",neutral45:"#616C77",neutral50:"#6E7883",neutral60:"#88929C",neutral65:"#959FAA",neutral70:"#A3ACB7",neutral75:"#B2B9C2",neutral80:"#C1C7CE",neutral90:"#E0E3E6",neutral95:"#F0F1F2",neutral97:"#F9F9FA",neutral100:"#FFFFFF",neutralWarm05:"#180f09",neutralWarm10:"#251912",neutralWarm15:"#30231a",neutralWarm20:"#3c2d23",neutralWarm25:"#48382c",neutralWarm30:"#544335",neutralWarm35:"#614f3f",neutralWarm40:"#6d5b4a",neutralWarm45:"#7a6755",neutralWarm50:"#867460",neutralWarm55:"#93816b",neutralWarm60:"#a08e77",eutralWarm65:"#ad9b84",neutralWarm70:"#baa990",neutralWarm75:"#c7b79d",neutralWarm80:"#d4c5ab",neutralWarm85:"#e1d3b9",neutralWarm90:"#eae2d2",neutralWarm95:"#f4f0e9",neutralWarm97:"#faf9f6",neutralWarm100:"#FFFFFF",red20:"#4e2422",red50:"#DB3C2F",red60:"#F26159",red97:"#FEF4F4",purple40:"#8938B0",purple50:"#9748FF",purple60:"#BB72E4",indigo40:"#5749CF",indigo60:"#8D86E4",yellow80:"#EBC300",orange70:"#FB9100",orange100:"#FF7A00",cyan100:"#00B2F6",green20:"#02382a",green50:"#20866B",green80:"#81d7ba",green97:"#EEF9F4",white50Opacity:"rgba(255,255,255,0.5)",sepiaBackground:"#FBF0D9",sepiaText:"#5F4B32",teal70:"#00B7FA"},hl={uAlpha100:"rgba(62, 72, 83, 0.03)",uAlpha200:"rgba(40, 49, 59, 0.06)",uAlpha300:"rgba(40, 49, 59, 0.09)",uAlpha400:"rgba(40, 49, 59, 0.12)",uAlpha500:"rgba(40, 49, 59, 0.15)",uAlphaRed200:"rgba(219,60,47,0.06)",uAlphaBlue300:"rgba(24, 90, 189, 0.09)"},hc={uAlpha100:"rgba(92, 105, 119, 0.2)",uAlpha200:"rgba(92, 105, 119, 0.26)",uAlpha300:"rgba(92, 105, 119, 0.34)",uAlpha400:"rgba(92, 105, 119, 0.42)",uAlpha500:"rgba(92, 105, 119, 0.52)",uAlpha600:"rgba(92, 105, 119, 0.62)",uAlphaRed200:"rgba(219,60,47,0.26)",uAlphaBlue300:"rgba(24, 90, 189, 0.09)"},fte={shadow100:{shadowColor:"#000000",shadowOffset:{width:0,height:1},shadowOpacity:.15,shadowRadius:1,elevation:1},shadow200:{shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.17,shadowRadius:2.54,elevation:3},shadow300:{shadowColor:"#000000",shadowOffset:{width:0,height:6},shadowOpacity:.2,shadowRadius:5.62,elevation:8},shadow400:{shadowColor:"#000000",shadowOffset:{width:0,height:12},shadowOpacity:.23,shadowRadius:12.81,elevation:16}},zC="rgba(255, 243, 134, 0.5)",dte="#0b5173",_w={...fte,...Xe,type:lr.Default,...hl,annotationBarPopoverDeleteButtonBackground:Xe.red97,text:Xe.neutral20,textInverse:Xe.neutral100,secondaryText:Xe.neutral45,textTertiary:Xe.neutral60,textError:Xe.red50,textPlaceholder:Xe.neutral65,textDisabled:Xe.neutral75,textInteractive:Xe.blue50,readingTitleText:Xe.neutral05,background:Xe.neutral100,bgBlurred:Xe.neutral80,bgCanvas:Xe.neutral95,bgInteractive:Xe.blue50,bgSurface:Xe.neutral100,bgSurfaceSecondary:Xe.neutral97,bgSurfaceTertiary:Xe.neutral95,backgroundElevated:Xe.neutral100,backgroundBackdrop:hl.uAlpha300,borderPrimary:Xe.neutral80,borderSecondary:Xe.neutral90,borderSecondaryAlpha:hl.uAlpha300,borderTertiaryAlpha:hl.uAlpha200,playbackControlsBg:"#F9F9FA",readerBackground:Xe.neutral97,readerOverlay:"rgba(0,0,0,0.75)",readerHeaderBorder:"#E4E6EA",inboxDropShadow:Xe.veryDarkGrey,infoMetadataTitle:"#B1B6BB",infoMetadataValue:"#4B4D52",infoCountBackground:"#ECECEC",tagBackgroundColor:Xe.lightGrey,highlightColorTop:zC,highlightColorBottom:zC,highlightTextColor:"black",buttonPrimaryDefaultColor:"rgba(24, 90, 189, 0.06)",buttonPrimaryDefaultColorInverse:"rgba(51, 108, 255, 0.26)",buttonSecondaryDefaultColor:hl.uAlpha200,progressBarBackground:Xe.indigo40,progressBarScrollBackground:"#b8b9bd",currentlyReadingBackground:"#FAFCFF",activityIndicatorColor:Xe.darkGrey,iconDanger:Xe.red50,iconFaint:Xe.neutral90,iconPrimary:Xe.neutral20,iconSecondary:Xe.neutral45,iconTertiary:Xe.neutral60,iconInteractive:Xe.blue50,iconDisabled:Xe.neutral75,toastBackground:Xe.neutral10,toastText:"#F9F9FA",toastButtonText:"#AEC8F1",selection:"rgba(55,110,242,0.25)",teleprompt:Xe.blue50,inboxTabBarSelection:hl.uAlpha400,searchHighlight:"#B3D5FF",iconInverse:Xe.neutral97,digestNavButton:Xe.purple40,pdfDigestBackground:Xe.neutral90},BC={...Xe,..._w,...hc,type:lr.Dark,annotationBarPopoverDeleteButtonBackground:"rgba(244, 143, 139, 0.1)",text:Xe.neutral95,textInverse:Xe.neutral20,textInteractive:Xe.blue70,secondaryText:Xe.neutral65,textTertiary:Xe.neutral50,textError:Xe.red60,textPlaceholder:Xe.neutral45,textDisabled:Xe.neutral40,readingTitleText:Xe.neutral20,bgCanvas:Xe.neutral05,background:Xe.neutral10,bgSurface:Xe.neutral10,bgSurfaceSecondary:Xe.neutral15,bgSurfaceTertiary:Xe.neutral20,bgInteractive:Xe.blue70,bgBlurred:"#2690ff",backgroundElevated:Xe.neutral20,backgroundBackdrop:"rgba(0,0,0,0.4)",borderPrimary:Xe.neutral30,borderSecondary:Xe.neutral20,borderSecondaryAlpha:hc.uAlpha300,borderTertiaryAlpha:hc.uAlpha200,playbackControlsBg:"#1E272F",readerBackground:Xe.neutral05,readerOverlay:"rgba(21,28,35,0.75)",readerHeaderBorder:Xe.darkPrimaryLightest,inboxDropShadow:"black",infoMetadataTitle:"#ABABAB",infoMetadataValue:"#E8E8E8",infoCountBackground:"#445064",tagBackgroundColor:"rgba(255,255,255,0.1)",highlightColorTop:dte,highlightColorBottom:"rgba(0,178,255,0.36)",highlightTextColor:"white",buttonPrimaryDefaultColor:"rgba(51, 108, 255, 0.26)",buttonPrimaryDefaultColorInverse:"rgba(24, 90, 189, 0.06)",buttonSecondaryDefaultColor:hc.uAlpha200,progressBarBackground:Xe.purple50,progressBarScrollBackground:Xe.neutral65,currentlyReadingBackground:Xe.darkPrimaryLighter,activityIndicatorColor:Xe.white,iconFaint:Xe.neutral30,iconPrimary:Xe.neutral95,iconSecondary:Xe.neutral70,iconTertiary:Xe.neutral45,iconInteractive:Xe.blue70,iconDisabled:Xe.neutral40,toastBackground:Xe.neutral100,toastText:"#28313B",toastButtonText:"#376EF2",selection:"rgba(89,142,244,0.35)",inboxTabBarSelection:hc.uAlpha400,searchHighlight:"#092E5C",iconInverse:Xe.neutral20,digestNavButton:Xe.purple60,pdfDigestBackground:Xe.neutral20};lr.Default+"",lr.Dark+"",lr.Default+"",lr.Dark+"";const UC={baseHorizontalMargin:16,readerHeaderHeight:60,readerBottomPadding:200,maxDocumentWidth:1024,minTabletDocumentWidth:350};lr.Dark+"",lr.Default+"";function hte(e,t,n=0){const r=UC.baseHorizontalMargin+e+n,i=Math.max(UC.baseHorizontalMargin+n,0);return t?`#document-text-content { padding-left: ${r}px; padding-right: ${r}px} .header-content { padding-left: ${r}px; padding-right: ${r}px} #bottom-divider { margin-left: ${r}px; margin-right: ${r}px}`:`#document-text-content { padding-left: ${i}px; padding-right: ${i}px} .header-content { padding-left: ${i}px; padding-right: ${i}px} #bottom-divider { margin-left: ${i}px; margin-right: ${i}px}`}function Sw(e){return e.charAt(0)==="#"?e.substring(1,7):e}var HC=e=>[parseInt(Sw(e).substring(0,2),16),parseInt(Sw(e).substring(2,4),16),parseInt(Sw(e).substring(4,6),16)];const qC=(e,t,n)=>{const r=[e,t,n].map(i=>(i/=255,i<=.03928?i/12.92:((i+.055)/1.055)**2.4));return r[0]*.2126+r[1]*.7152+r[2]*.0722};var pte=(e,t)=>{const n=qC(e[0],e[1],e[2]),r=qC(t[0],t[1],t[2]),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)},gte=e=>{if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return/^[a-zA-Z]:\\/.test(e)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)};const mte=gte;var vte=e=>!mte(e),WC=function(t,n){n===!0&&(n=0);var r=t.indexOf("://"),i=t.substring(0,r).split("+").filter(Boolean);return typeof n=="number"?i[n]:i},yte=WC;function VC(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=yte(e);if(e=e.substring(e.indexOf("://")+3),VC(t))return!0;var n=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(n)&&e.indexOf("@")<e.indexOf(":")}var wte=VC,GC={},bte=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),KC="%[a-f0-9]{2}",YC=new RegExp(KC,"gi"),QC=new RegExp("("+KC+")+","gi");function Ew(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Ew(n),Ew(r))}function _te(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(YC),n=1;n<t.length;n++)e=Ew(t,n).join(""),t=e.match(YC);return e}}function Ste(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=QC.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var r=_te(n[0]);r!==n[0]&&(t[n[0]]=r)}n=QC.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),a=0;a<i.length;a++){var o=i[a];e=e.replace(new RegExp(o,"g"),t[o])}return e}var Ete=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Ste(e)}},xte=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]},kte=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),a=0;a<r.length;a++){var o=r[a],s=e[o];(i?t.indexOf(o)!==-1:t(o,s,e))&&(n[o]=s)}return n};(function(e){const t=bte,n=Ete,r=xte,i=kte,a=h=>h==null;function o(h){switch(h.arrayFormat){case"index":return g=>(b,m)=>{const y=b.length;return m===void 0||h.skipNull&&m===null||h.skipEmptyString&&m===""?b:m===null?[...b,[u(g,h),"[",y,"]"].join("")]:[...b,[u(g,h),"[",u(y,h),"]=",u(m,h)].join("")]};case"bracket":return g=>(b,m)=>m===void 0||h.skipNull&&m===null||h.skipEmptyString&&m===""?b:m===null?[...b,[u(g,h),"[]"].join("")]:[...b,[u(g,h),"[]=",u(m,h)].join("")];case"comma":case"separator":return g=>(b,m)=>m==null||m.length===0?b:b.length===0?[[u(g,h),"=",u(m,h)].join("")]:[[b,u(m,h)].join(h.arrayFormatSeparator)];default:return g=>(b,m)=>m===void 0||h.skipNull&&m===null||h.skipEmptyString&&m===""?b:m===null?[...b,u(g,h)]:[...b,[u(g,h),"=",u(m,h)].join("")]}}function s(h){let g;switch(h.arrayFormat){case"index":return(b,m,y)=>{if(g=/\[(\d*)\]$/.exec(b),b=b.replace(/\[\d*\]$/,""),!g){y[b]=m;return}y[b]===void 0&&(y[b]={}),y[b][g[1]]=m};case"bracket":return(b,m,y)=>{if(g=/(\[\])$/.exec(b),b=b.replace(/\[\]$/,""),!g){y[b]=m;return}if(y[b]===void 0){y[b]=[m];return}y[b]=[].concat(y[b],m)};case"comma":case"separator":return(b,m,y)=>{const _=typeof m=="string"&&m.includes(h.arrayFormatSeparator),x=typeof m=="string"&&!_&&c(m,h).includes(h.arrayFormatSeparator);m=x?c(m,h):m;const S=_||x?m.split(h.arrayFormatSeparator).map(M=>c(M,h)):m===null?m:c(m,h);y[b]=S};default:return(b,m,y)=>{if(y[b]===void 0){y[b]=m;return}y[b]=[].concat(y[b],m)}}}function l(h){if(typeof h!="string"||h.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(h,g){return g.encode?g.strict?t(h):encodeURIComponent(h):h}function c(h,g){return g.decode?n(h):h}function f(h){return Array.isArray(h)?h.sort():typeof h=="object"?f(Object.keys(h)).sort((g,b)=>Number(g)-Number(b)).map(g=>h[g]):h}function d(h){const g=h.indexOf("#");return g!==-1&&(h=h.slice(0,g)),h}function p(h){let g="";const b=h.indexOf("#");return b!==-1&&(g=h.slice(b)),g}function v(h){h=d(h);const g=h.indexOf("?");return g===-1?"":h.slice(g+1)}function w(h,g){return g.parseNumbers&&!Number.isNaN(Number(h))&&typeof h=="string"&&h.trim()!==""?h=Number(h):g.parseBooleans&&h!==null&&(h.toLowerCase()==="true"||h.toLowerCase()==="false")&&(h=h.toLowerCase()==="true"),h}function A(h,g){g=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},g),l(g.arrayFormatSeparator);const b=s(g),m=Object.create(null);if(typeof h!="string"||(h=h.trim().replace(/^[?#&]/,""),!h))return m;for(const y of h.split("&")){if(y==="")continue;let[_,x]=r(g.decode?y.replace(/\+/g," "):y,"=");x=x===void 0?null:["comma","separator"].includes(g.arrayFormat)?x:c(x,g),b(c(_,g),x,m)}for(const y of Object.keys(m)){const _=m[y];if(typeof _=="object"&&_!==null)for(const x of Object.keys(_))_[x]=w(_[x],g);else m[y]=w(_,g)}return g.sort===!1?m:(g.sort===!0?Object.keys(m).sort():Object.keys(m).sort(g.sort)).reduce((y,_)=>{const x=m[_];return Boolean(x)&&typeof x=="object"&&!Array.isArray(x)?y[_]=f(x):y[_]=x,y},Object.create(null))}e.extract=v,e.parse=A,e.stringify=(h,g)=>{if(!h)return"";g=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},g),l(g.arrayFormatSeparator);const b=x=>g.skipNull&&a(h[x])||g.skipEmptyString&&h[x]==="",m=o(g),y={};for(const x of Object.keys(h))b(x)||(y[x]=h[x]);const _=Object.keys(y);return g.sort!==!1&&_.sort(g.sort),_.map(x=>{const S=h[x];return S===void 0?"":S===null?u(x,g):Array.isArray(S)?S.reduce(m(x),[]).join("&"):u(x,g)+"="+u(S,g)}).filter(x=>x.length>0).join("&")},e.parseUrl=(h,g)=>{g=Object.assign({decode:!0},g);const[b,m]=r(h,"#");return Object.assign({url:b.split("?")[0]||"",query:A(v(h),g)},g&&g.parseFragmentIdentifier&&m?{fragmentIdentifier:c(m,g)}:{})},e.stringifyUrl=(h,g)=>{g=Object.assign({encode:!0,strict:!0},g);const b=d(h.url).split("?")[0]||"",m=e.extract(h.url),y=e.parse(m,{sort:!1}),_=Object.assign(y,h.query);let x=e.stringify(_,g);x&&(x=`?${x}`);let S=p(h.url);return h.fragmentIdentifier&&(S=`#${u(h.fragmentIdentifier,g)}`),`${b}${x}${S}`},e.pick=(h,g,b)=>{b=Object.assign({parseFragmentIdentifier:!0},b);const{url:m,query:y,fragmentIdentifier:_}=e.parseUrl(h,b);return e.stringifyUrl({url:m,query:i(y,g),fragmentIdentifier:_},b)},e.exclude=(h,g,b)=>{const m=Array.isArray(g)?y=>!g.includes(y):(y,_)=>!g(y,_);return e.pick(h,m,b)}})(GC);var Tte=WC,Ate=wte,Cte=GC;function Rte(e){e=(e||"").trim();var t={protocols:Tte(e),protocol:null,port:null,resource:"",user:"",pathname:"",hash:"",search:"",href:e,query:Object.create(null)},n=e.indexOf("://"),r=null,i=null;e.startsWith(".")&&(e.startsWith("./")&&(e=e.substring(2)),t.pathname=e,t.protocol="file");var a=e.charAt(1);return t.protocol||(t.protocol=t.protocols[0],t.protocol||(Ate(e)?t.protocol="ssh":((a==="/"||a==="~")&&(e=e.substring(2)),t.protocol="file"))),n!==-1&&(e=e.substring(n+3)),i=e.split(/\/|\\/),t.protocol!=="file"?t.resource=i.shift():t.resource="",r=t.resource.split("@"),r.length===2&&(t.user=r[0],t.resource=r[1]),r=t.resource.split(":"),r.length===2&&(t.resource=r[0],r[1]?(t.port=Number(r[1]),isNaN(t.port)&&(t.port=null,i.unshift(r[1]))):t.port=null),i=i.filter(Boolean),t.protocol==="file"?t.pathname=t.href:t.pathname=t.pathname||(t.protocol!=="file"||t.href[0]==="/"?"/":"")+i.join("/"),r=t.pathname.split("#"),r.length===2&&(t.pathname=r[0],t.hash=r[1]),r=t.pathname.split("?"),r.length===2&&(t.pathname=r[0],t.search=r[1]),t.query=Cte.parse(t.search),t.href=t.href.replace(/\/$/,""),t.pathname=t.pathname.replace(/\/$/,""),t}var Nte=Rte;const Ote=Nte,Ite=Uf.exports;function Dte(e,t=!1){if(typeof e!="string"||!e.trim())throw new Error("Invalid url.");return t&&(typeof t!="object"&&(t={stripHash:!1}),e=Ite(e,t)),Ote(e)}var XC=Dte;function Pte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function xw(e,t){return Array(t+1).join(e)}function Lte(e){return e.replace(/^\n*/,"")}function $te(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var Fte=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function kw(e){return Tw(e,Fte)}var JC=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function ZC(e){return Tw(e,JC)}function jte(e){return tR(e,JC)}var eR=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Mte(e){return Tw(e,eR)}function zte(e){return tR(e,eR)}function Tw(e,t){return t.indexOf(e.nodeName)>=0}function tR(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Wn={};Wn.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}},Wn.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}},Wn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=xw(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+xw("#",r)+" "+e+`

`}},Wn.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}},Wn.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}},Wn.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var a=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,t);r=(a?Number(a)+o:o+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}},Wn.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Wn.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,o=n.fence.charAt(0),s=3,l=new RegExp("^"+o+"{3,}","gm"),u;u=l.exec(a);)u[0].length>=s&&(s=u[0].length+1);var c=xw(o,s);return`

`+c+i+`
`+a.replace(/\n$/,"")+`
`+c+`

`}},Wn.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}},Wn.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=Ch(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}},Wn.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=Ch(t.getAttribute("title"));i&&(i=' "'+i+'"');var a,o;switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",o="["+e+"]: "+r+i;break;case"shortcut":a="["+e+"]",o="["+e+"]: "+r+i;break;default:var s=this.references.length+1;a="["+e+"]["+s+"]",o="["+s+"]: "+r+i}return this.references.push(o),a},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}},Wn.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},Wn.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},Wn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}},Wn.image={filter:"img",replacement:function(e,t){var n=Ch(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=Ch(t.getAttribute("title")),a=i?' "'+i+'"':"";return r?"!["+n+"]("+r+a+")":""}};function Ch(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function nR(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}nR.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Aw(this.array,e,this.options))||(t=Aw(this._keep,e,this.options))||(t=Aw(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Aw(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(Bte(i,t,n))return i}}function Bte(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Ute(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var a=null,o=!1,s=null,l=rR(s,t,i);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!o&&u[0]===" "&&(u=u.substr(1)),!u){l=Cw(l);continue}l.data=u,a=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,o=!1):r(l)||i(l)?(a=null,o=!0):a&&(o=!1);else{l=Cw(l);continue}var c=rR(s,l,i);s=l,l=c}a&&(a.data=a.data.replace(/ $/,""),a.data||Cw(a))}}function Cw(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function rR(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var iR=typeof window!="undefined"?window:{};function Hte(){var e=iR.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function qte(){var e=function(){};return Wte()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function Wte(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var Vte=Hte()?iR.DOMParser:qte();function Gte(e,t){var n;if(typeof e=="string"){var r=Kte().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return Ute({element:n,isBlock:kw,isVoid:ZC,isPre:t.preformattedCode?Yte:null}),n}var Rw;function Kte(){return Rw=Rw||new Vte,Rw}function Yte(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Qte(e,t){return e.isBlock=kw(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Xte(e),e.flankingWhitespace=Jte(e,t),e}function Xte(e){return!ZC(e)&&!Mte(e)&&/^\s*$/i.test(e.textContent)&&!jte(e)&&!zte(e)}function Jte(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=Zte(e.textContent);return n.leadingAscii&&aR("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&aR("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Zte(e){var t=e.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function aR(e,t,n){var r,i,a;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?a=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?a=!1:r.nodeType===1&&!kw(r)&&(a=i.test(r.textContent))),a}var ene=Array.prototype.reduce,tne=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function pc(e){if(!(this instanceof pc))return new pc(e);var t={rules:Wn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Pte({},t,e),this.rules=new nR(this.options)}pc.prototype={turndown:function(e){if(!ine(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=oR.call(this,new Gte(e,this.options));return nne.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return tne.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function oR(e){var t=this;return ene.call(e.childNodes,function(n,r){r=new Qte(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=rne.call(t,r)),sR(n,i)},"")}function nne(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=sR(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function rne(e){var t=this.rules.forNode(e),n=oR.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function sR(e,t){var n=$te(e),r=Lte(t),i=Math.max(e.length-n.length,t.length-r.length),a=`

`.substring(0,i);return n+a+r}function ine(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var lR={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():n[t]=r()})("urljoin",or,function(){function t(n){var r=[];if(n.length===0)return"";if(typeof n[0]!="string")throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var i=n.shift();n[0]=i+n[0]}n[0].match(/^file:\/\/\//)?n[0]=n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0]=n[0].replace(/^([^/:]+):\/*/,"$1://");for(var a=0;a<n.length;a++){var o=n[a];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(a>0&&(o=o.replace(/^[\/]+/,"")),a<n.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),r.push(o))}var s=r.join("/");s=s.replace(/\/(\?|&|#[^!])/g,"$1");var l=s.split("?");return s=l.shift()+(l.length>0?"?":"")+l.join("&"),s}return function(){var n;return typeof arguments[0]=="object"?n=arguments[0]:n=[].slice.call(arguments),t(n)}})})(lR);var ane=lR.exports;function uR(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function cR(e,t){if(!e||!vte(e)||!t)return e;if(e.startsWith("//"))return`${XC(t,!1).protocol}:${e}`;let n;if(e.startsWith("/")){const r=XC(t,!1);n=`${r.protocol}://${r.resource}`}else n=t;return ane(z1(n,{removeQueryParameters:!0,stripHash:!0,stripWWW:!1}),e)}pc.prototype.escape=e=>e;const one=(e,t)=>{const n=new pc({bulletListMarker:"\u2022",emDelimiter:"*"});return n.addRule("inlineLink",{filter(r,i){return i.linkStyle==="inlined"&&r.nodeName==="A"&&r.getAttribute("href")},replacement(r,i){if(!("getAttribute"in i))throw new Error("node.getAttribute does not exist");const a=i.getAttribute("href");if(!a)throw new Error("No href found");const o=cR(a,t);return`[${r}](${o})`}}),n.addRule("heading",{filter:["h1","h2","h3","h4","h5","h6"],replacement:r=>r}),n.addRule("image",{filter:"img",replacement(r,i){var c,f,d;const a=i,o=uR((c=a.getAttribute)==null?void 0:c.call(a,"alt")),s=cR(((f=a.getAttribute)==null?void 0:f.call(a,"src"))||"",t),l=uR((d=a.getAttribute)==null?void 0:d.call(a,"title")),u=l?` "${l}"`:"";return s?`![${o}](${s}${u})`:""}}),n.remove("del"),n.remove("style"),n.turndown(e).trim()};var An=(e=>(e.DeserializationFailed="deserialization-failed",e.EnlargementFailed="enlargement-failed",e.EnlargementInProgress="enlargement-in-progress",e.NonRendered="non-rendered",e.RemovalInProgress="removal-in-progress",e.RenderInProgress="render-in-progress",e.Rendered="rendered",e))(An||{});function sne(e,...t){if(!e)throw new Error("No element given");if(!!t.filter(r=>!e.classList.contains(r)).length)return e.classList.add(...t)}function lne(e,...t){if(!e)throw new Error("No element given");if(!!t.filter(r=>e.classList.contains(r)).length)return e.classList.remove(...t)}var Rh={add:sne,remove:lne};const Nh=(e,t,n)=>{const r=e.replace(t,n);if(r===e){const i="String replace had no effect";throw Fe.error(i,{input:e,lookup:t,replaceValue:n}),new Error(i)}return r};function une(e){var i;let t=e.trim();const n=/^<([\w-]+)[^>]*>/s,r=(i=t.match(n))==null?void 0:i[1];if(r){const a=new RegExp(`</${r}[^>]*>$`,"s");if(a.test(t)&&(t=Nh(t,n,""),t=Nh(t,a,""),!new RegExp(`</?${r}[^>]*>`,"s").test(t)))return t.trim()}return e}var Oh=e=>une(e.trim()).replace(/rw-image-highlight/gm,"").replace(/ data-highlight-id="[^"]+?"/gm,"").replace(/ data-double-click-token="[^"]+?"/gm,"").replace(/ id="[^"]+?"/gm,"").replace(cV,"").replace(/\s+class="(\s+)?"/gm,"").replace(/<p><\/p>$/m,"").replace(/<\/?rw-highlight[^>]*?>/gm,"").replace(/<span\s+class="rw-highlight-icon-wrapper"[^>]*?>.+?<\/span>/gm,"").trim();const gc=(e,t,n=document.documentElement)=>{if(!!e){if(t(e))return e;if(!(e===n||!e.parentNode))return gc(e.parentNode,t)}};var mc={exports:{}};(function(e,t){(function(n,r){e.exports=n()})(function(){var n="object",r="function",i="undefined",a=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],l=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(O,H){var J=typeof O[H];return J==r||!!(J==n&&O[H])||J=="unknown"}function c(O,H){return!!(typeof O[H]==n&&O[H])}function f(O,H){return typeof O[H]!=i}function d(O){return function(H,J){for(var ve=J.length;ve--;)if(!O(H,J[ve]))return!1;return!0}}var p=d(u),v=d(c),w=d(f);function A(O){return O&&p(O,l)&&w(O,s)}function h(O){return c(O,"body")?O.body:O.getElementsByTagName("body")[0]}var g=[].forEach?function(O,H){O.forEach(H)}:function(O,H){for(var J=0,ve=O.length;J<ve;++J)H(O[J],J)},b={},m=typeof window!=i&&typeof document!=i,y={isHostMethod:u,isHostObject:c,isHostProperty:f,areHostMethods:p,areHostObjects:v,areHostProperties:w,isTextRange:A,getBody:h,forEach:g},_={version:"1.3.0",initialized:!1,isBrowser:m,supported:!0,util:y,features:{},modules:b,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==i?!0:rangyAutoInitialize}};function x(O){typeof console!=i&&u(console,"log")&&console.log(O)}function S(O,H){m&&H?alert(O):x(O)}function M(O){_.initialized=!0,_.supported=!1,S("Rangy is not supported in this environment. Reason: "+O,_.config.alertOnFail)}_.fail=M;function V(O){S("Rangy warning: "+O,_.config.alertOnWarn)}_.warn=V;var Z;({}).hasOwnProperty?(y.extend=Z=function(O,H,J){var ve,_e;for(var Ee in H)H.hasOwnProperty(Ee)&&(ve=O[Ee],_e=H[Ee],J&&ve!==null&&typeof ve=="object"&&_e!==null&&typeof _e=="object"&&Z(ve,_e,!0),O[Ee]=_e);return H.hasOwnProperty("toString")&&(O.toString=H.toString),O},y.createOptions=function(O,H){var J={};return Z(J,H),O&&Z(J,O),J}):M("hasOwnProperty not supported"),m||M("Rangy can only run in a browser"),function(){var O;if(m){var H=document.createElement("div");H.appendChild(document.createElement("span"));var J=[].slice;try{J.call(H.childNodes,0)[0].nodeType==1&&(O=function(ve){return J.call(ve,0)})}catch{}}O||(O=function(ve){for(var _e=[],Ee=0,Re=ve.length;Ee<Re;++Ee)_e[Ee]=ve[Ee];return _e}),y.toArray=O}();var pe;m&&(u(document,"addEventListener")?pe=function(O,H,J){O.addEventListener(H,J,!1)}:u(document,"attachEvent")?pe=function(O,H,J){O.attachEvent("on"+H,J)}:M("Document does not have required addEventListener or attachEvent method"),y.addListener=pe);var ge=[];function we(O){return O.message||O.description||String(O)}function ee(){if(!(!m||_.initialized)){var O,H=!1,J=!1;u(document,"createRange")&&(O=document.createRange(),p(O,o)&&w(O,a)&&(H=!0));var ve=h(document);if(!ve||ve.nodeName.toLowerCase()!="body"){M("No body element found");return}if(ve&&u(ve,"createTextRange")&&(O=ve.createTextRange(),A(O)&&(J=!0)),!H&&!J){M("Neither Range nor TextRange are available");return}_.initialized=!0,_.features={implementsDomRange:H,implementsTextRange:J};var _e,Ee;for(var Re in b)(_e=b[Re])instanceof k&&_e.init(_e,_);for(var Ke=0,lt=ge.length;Ke<lt;++Ke)try{ge[Ke](_)}catch(ft){Ee="Rangy init listener threw an exception. Continuing. Detail: "+we(ft),x(Ee)}}}function Le(O,H,J){J&&(O+=" in module "+J.name),_.warn("DEPRECATED: "+O+" is deprecated. Please use "+H+" instead.")}function je(O,H,J,ve){O[H]=function(){return Le(H,J,ve),O[J].apply(O,y.toArray(arguments))}}y.deprecationNotice=Le,y.createAliasForDeprecatedMethod=je,_.init=ee,_.addInitListener=function(O){_.initialized?O(_):ge.push(O)};var E=[];_.addShimListener=function(O){E.push(O)};function C(O){O=O||window,ee();for(var H=0,J=E.length;H<J;++H)E[H](O)}m&&(_.shim=_.createMissingNativeApi=C,je(_,"createMissingNativeApi","shim"));function k(O,H,J){this.name=O,this.dependencies=H,this.initialized=!1,this.supported=!1,this.initializer=J}k.prototype={init:function(){for(var O=this.dependencies||[],H=0,J=O.length,ve,_e;H<J;++H){if(_e=O[H],ve=b[_e],!ve||!(ve instanceof k))throw new Error("required module '"+_e+"' not found");if(ve.init(),!ve.supported)throw new Error("required module '"+_e+"' not supported")}this.initializer(this)},fail:function(O){throw this.initialized=!0,this.supported=!1,new Error(O)},warn:function(O){_.warn("Module "+this.name+": "+O)},deprecationNotice:function(O,H){_.warn("DEPRECATED: "+O+" in module "+this.name+" is deprecated. Please use "+H+" instead")},createError:function(O){return new Error("Error in Rangy "+this.name+" module: "+O)}};function L(O,H,J){var ve=new k(O,H,function(_e){if(!_e.initialized){_e.initialized=!0;try{J(_,_e),_e.supported=!0}catch(Re){var Ee="Module '"+O+"' failed to load: "+we(Re);x(Ee),Re.stack&&x(Re.stack)}}});return b[O]=ve,ve}_.createModule=function(O){var H,J;arguments.length==2?(H=arguments[1],J=[]):(H=arguments[2],J=arguments[1]);var ve=L(O,J,H);_.initialized&&_.supported&&ve.init()},_.createCoreModule=function(O,H,J){L(O,H,J)};function z(){}_.RangePrototype=z,_.rangePrototype=new z;function K(){}_.selectionPrototype=new K,_.createCoreModule("DomUtil",[],function(O,H){var J="undefined",ve=O.util,_e=ve.getBody;ve.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||H.fail("document missing a Node creation method"),ve.isHostMethod(document,"getElementsByTagName")||H.fail("document missing getElementsByTagName method");var Ee=document.createElement("div");ve.areHostMethods(Ee,["insertBefore","appendChild","cloneNode"])||H.fail("Incomplete Element implementation"),ve.isHostProperty(Ee,"innerHTML")||H.fail("Element is missing innerHTML property");var Re=document.createTextNode("test");ve.areHostMethods(Re,["splitText","deleteData","insertData","appendData","cloneNode"])||H.fail("Incomplete Text Node implementation");var Ke=function(ue,xe){for(var dt=ue.length;dt--;)if(ue[dt]===xe)return!0;return!1};function lt(ue){var xe;return typeof ue.namespaceURI==J||(xe=ue.namespaceURI)===null||xe=="http://www.w3.org/1999/xhtml"}function ft(ue){var xe=ue.parentNode;return xe.nodeType==1?xe:null}function tt(ue){for(var xe=0;ue=ue.previousSibling;)++xe;return xe}function it(ue){switch(ue.nodeType){case 7:case 10:return 0;case 3:case 8:return ue.length;default:return ue.childNodes.length}}function yt(ue,xe){var dt=[],ot;for(ot=ue;ot;ot=ot.parentNode)dt.push(ot);for(ot=xe;ot;ot=ot.parentNode)if(Ke(dt,ot))return ot;return null}function N(ue,xe,dt){for(var ot=dt?xe:xe.parentNode;ot;){if(ot===ue)return!0;ot=ot.parentNode}return!1}function j(ue,xe){return N(ue,xe,!0)}function W(ue,xe,dt){for(var ot,Et=dt?ue:ue.parentNode;Et;){if(ot=Et.parentNode,ot===xe)return Et;Et=ot}return null}function ce(ue){var xe=ue.nodeType;return xe==3||xe==4||xe==8}function G(ue){if(!ue)return!1;var xe=ue.nodeType;return xe==3||xe==8}function be(ue,xe){var dt=xe.nextSibling,ot=xe.parentNode;return dt?ot.insertBefore(ue,dt):ot.appendChild(ue),ue}function fe(ue,xe,dt){var ot=ue.cloneNode(!1);if(ot.deleteData(0,xe),ue.deleteData(xe,ue.length-xe),be(ot,ue),dt)for(var Et=0,$;$=dt[Et++];)$.node==ue&&$.offset>xe?($.node=ot,$.offset-=xe):$.node==ue.parentNode&&$.offset>tt(ue)&&++$.offset;return ot}function de(ue){if(ue.nodeType==9)return ue;if(typeof ue.ownerDocument!=J)return ue.ownerDocument;if(typeof ue.document!=J)return ue.document;if(ue.parentNode)return de(ue.parentNode);throw H.createError("getDocument: no document found for node")}function Ce(ue){var xe=de(ue);if(typeof xe.defaultView!=J)return xe.defaultView;if(typeof xe.parentWindow!=J)return xe.parentWindow;throw H.createError("Cannot get a window object for node")}function De(ue){if(typeof ue.contentDocument!=J)return ue.contentDocument;if(typeof ue.contentWindow!=J)return ue.contentWindow.document;throw H.createError("getIframeDocument: No Document object found for iframe element")}function Me(ue){if(typeof ue.contentWindow!=J)return ue.contentWindow;if(typeof ue.contentDocument!=J)return ue.contentDocument.defaultView;throw H.createError("getIframeWindow: No Window object found for iframe element")}function at(ue){return ue&&ve.isHostMethod(ue,"setTimeout")&&ve.isHostObject(ue,"document")}function We(ue,xe,dt){var ot;if(ue?ve.isHostProperty(ue,"nodeType")?ot=ue.nodeType==1&&ue.tagName.toLowerCase()=="iframe"?De(ue):de(ue):at(ue)&&(ot=ue.document):ot=document,!ot)throw xe.createError(dt+"(): Parameter must be a Window object or DOM node");return ot}function $e(ue){for(var xe;xe=ue.parentNode;)ue=xe;return ue}function ht(ue,xe,dt,ot){var Et,$,U,q,te;if(ue==dt)return xe===ot?0:xe<ot?-1:1;if(Et=W(dt,ue,!0))return xe<=tt(Et)?-1:1;if(Et=W(ue,dt,!0))return tt(Et)<ot?-1:1;if($=yt(ue,dt),!$)throw new Error("comparePoints error: nodes have no common ancestor");if(U=ue===$?$:W(ue,$,!0),q=dt===$?$:W(dt,$,!0),U===q)throw H.createError("comparePoints got to case 4 and childA and childB are the same!");for(te=$.firstChild;te;){if(te===U)return-1;if(te===q)return 1;te=te.nextSibling}}var X=!1;function me(ue){var xe;try{return xe=ue.parentNode,!1}catch{return!0}}(function(){var ue=document.createElement("b");ue.innerHTML="1";var xe=ue.firstChild;ue.innerHTML="<br />",X=me(xe),O.features.crashyTextNodes=X})();function Be(ue){if(!ue)return"[No node]";if(X&&me(ue))return"[Broken node]";if(ce(ue))return'"'+ue.data+'"';if(ue.nodeType==1){var xe=ue.id?' id="'+ue.id+'"':"";return"<"+ue.nodeName+xe+">[index:"+tt(ue)+",length:"+ue.childNodes.length+"]["+(ue.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return ue.nodeName}function Qe(ue){for(var xe=de(ue).createDocumentFragment(),dt;dt=ue.firstChild;)xe.appendChild(dt);return xe}var Je;typeof window.getComputedStyle!=J?Je=function(ue,xe){return Ce(ue).getComputedStyle(ue,null)[xe]}:typeof document.documentElement.currentStyle!=J?Je=function(ue,xe){return ue.currentStyle?ue.currentStyle[xe]:""}:H.fail("No means of obtaining computed style properties found");function Rt(ue,xe,dt){var ot=_e(ue),Et=ue.createElement("div");Et.contentEditable=""+!!dt,xe&&(Et.innerHTML=xe);var $=ot.firstChild;return $?ot.insertBefore(Et,$):ot.appendChild(Et),Et}function bt(ue){return ue.parentNode.removeChild(ue)}function Tt(ue){this.root=ue,this._next=ue}Tt.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var ue=this._current=this._next,xe,dt;if(this._current)if(xe=ue.firstChild,xe)this._next=xe;else{for(dt=null;ue!==this.root&&!(dt=ue.nextSibling);)ue=ue.parentNode;this._next=dt}return this._current},detach:function(){this._current=this._next=this.root=null}};function sn(ue){return new Tt(ue)}function At(ue,xe){this.node=ue,this.offset=xe}At.prototype={equals:function(ue){return!!ue&&this.node===ue.node&&this.offset==ue.offset},inspect:function(){return"[DomPosition("+Be(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function ln(ue){this.code=this[ue],this.codeName=ue,this.message="DOMException: "+this.codeName}ln.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},ln.prototype.toString=function(){return this.message},O.dom={arrayContains:Ke,isHtmlNamespace:lt,parentElement:ft,getNodeIndex:tt,getNodeLength:it,getCommonAncestor:yt,isAncestorOf:N,isOrIsAncestorOf:j,getClosestAncestorIn:W,isCharacterDataNode:ce,isTextOrCommentNode:G,insertAfter:be,splitDataNode:fe,getDocument:de,getWindow:Ce,getIframeWindow:Me,getIframeDocument:De,getBody:_e,isWindow:at,getContentDocument:We,getRootContainer:$e,comparePoints:ht,isBrokenNode:me,inspectNode:Be,getComputedStyleProperty:Je,createTestElement:Rt,removeNode:bt,fragmentFromNodeChildren:Qe,createIterator:sn,DomPosition:At},O.DOMException=ln}),_.createCoreModule("DomRange",["DomUtil"],function(O,H){var J=O.dom,ve=O.util,_e=J.DomPosition,Ee=O.DOMException,Re=J.isCharacterDataNode,Ke=J.getNodeIndex,lt=J.isOrIsAncestorOf,ft=J.getDocument,tt=J.comparePoints,it=J.splitDataNode,yt=J.getClosestAncestorIn,N=J.getNodeLength,j=J.arrayContains,W=J.getRootContainer,ce=O.features.crashyTextNodes,G=J.removeNode;function be(I,oe){return I.nodeType!=3&&(lt(I,oe.startContainer)||lt(I,oe.endContainer))}function fe(I){return I.document||ft(I.startContainer)}function de(I){return W(I.startContainer)}function Ce(I){return new _e(I.parentNode,Ke(I))}function De(I){return new _e(I.parentNode,Ke(I)+1)}function Me(I,oe,Ae){var Ve=I.nodeType==11?I.firstChild:I;return Re(oe)?Ae==oe.length?J.insertAfter(I,oe):oe.parentNode.insertBefore(I,Ae==0?oe:it(oe,Ae)):Ae>=oe.childNodes.length?oe.appendChild(I):oe.insertBefore(I,oe.childNodes[Ae]),Ve}function at(I,oe,Ae){if(le(I),le(oe),fe(oe)!=fe(I))throw new Ee("WRONG_DOCUMENT_ERR");var Ve=tt(I.startContainer,I.startOffset,oe.endContainer,oe.endOffset),ut=tt(I.endContainer,I.endOffset,oe.startContainer,oe.startOffset);return Ae?Ve<=0&&ut>=0:Ve<0&&ut>0}function We(I){for(var oe,Ae,Ve=fe(I.range).createDocumentFragment(),ut;Ae=I.next();){if(oe=I.isPartiallySelectedSubtree(),Ae=Ae.cloneNode(!oe),oe&&(ut=I.getSubtreeIterator(),Ae.appendChild(We(ut)),ut.detach()),Ae.nodeType==10)throw new Ee("HIERARCHY_REQUEST_ERR");Ve.appendChild(Ae)}return Ve}function $e(I,oe,Ae){var Ve,ut;Ae=Ae||{stop:!1};for(var T,P;T=I.next();)if(I.isPartiallySelectedSubtree()){if(oe(T)===!1){Ae.stop=!0;return}else if(P=I.getSubtreeIterator(),$e(P,oe,Ae),P.detach(),Ae.stop)return}else for(Ve=J.createIterator(T);ut=Ve.next();)if(oe(ut)===!1){Ae.stop=!0;return}}function ht(I){for(var oe;I.next();)I.isPartiallySelectedSubtree()?(oe=I.getSubtreeIterator(),ht(oe),oe.detach()):I.remove()}function X(I){for(var oe,Ae=fe(I.range).createDocumentFragment(),Ve;oe=I.next();){if(I.isPartiallySelectedSubtree()?(oe=oe.cloneNode(!1),Ve=I.getSubtreeIterator(),oe.appendChild(X(Ve)),Ve.detach()):I.remove(),oe.nodeType==10)throw new Ee("HIERARCHY_REQUEST_ERR");Ae.appendChild(oe)}return Ae}function me(I,oe,Ae){var Ve=!!(oe&&oe.length),ut,T=!!Ae;Ve&&(ut=new RegExp("^("+oe.join("|")+")$"));var P=[];return $e(new Qe(I,!1),function(R){if(!(Ve&&!ut.test(R.nodeType))&&!(T&&!Ae(R))){var B=I.startContainer;if(!(R==B&&Re(B)&&I.startOffset==B.length)){var Y=I.endContainer;R==Y&&Re(Y)&&I.endOffset==0||P.push(R)}}}),P}function Be(I){var oe=typeof I.getName=="undefined"?"Range":I.getName();return"["+oe+"("+J.inspectNode(I.startContainer)+":"+I.startOffset+", "+J.inspectNode(I.endContainer)+":"+I.endOffset+")]"}function Qe(I,oe){if(this.range=I,this.clonePartiallySelectedTextNodes=oe,!I.collapsed){this.sc=I.startContainer,this.so=I.startOffset,this.ec=I.endContainer,this.eo=I.endOffset;var Ae=I.commonAncestorContainer;this.sc===this.ec&&Re(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===Ae&&!Re(this.sc)?this.sc.childNodes[this.so]:yt(this.sc,Ae,!0),this._last=this.ec===Ae&&!Re(this.ec)?this.ec.childNodes[this.eo-1]:yt(this.ec,Ae,!0))}}Qe.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var I=this._current=this._next;return I&&(this._next=I!==this._last?I.nextSibling:null,Re(I)&&this.clonePartiallySelectedTextNodes&&(I===this.ec&&(I=I.cloneNode(!0)).deleteData(this.eo,I.length-this.eo),this._current===this.sc&&(I=I.cloneNode(!0)).deleteData(0,this.so))),I},remove:function(){var I=this._current,oe,Ae;Re(I)&&(I===this.sc||I===this.ec)?(oe=I===this.sc?this.so:0,Ae=I===this.ec?this.eo:I.length,oe!=Ae&&I.deleteData(oe,Ae-oe)):I.parentNode&&G(I)},isPartiallySelectedSubtree:function(){var I=this._current;return be(I,this.range)},getSubtreeIterator:function(){var I;if(this.isSingleCharacterDataNode)I=this.range.cloneRange(),I.collapse(!1);else{I=new nn(fe(this.range));var oe=this._current,Ae=oe,Ve=0,ut=oe,T=N(oe);lt(oe,this.sc)&&(Ae=this.sc,Ve=this.so),lt(oe,this.ec)&&(ut=this.ec,T=this.eo),bn(I,Ae,Ve,ut,T)}return new Qe(I,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Je=[1,3,4,5,7,8,10],Rt=[2,9,11],bt=[5,6,10,12],Tt=[1,3,4,5,7,8,10,11],sn=[1,3,4,5,7,8];function At(I){return function(oe,Ae){for(var Ve,ut=Ae?oe:oe.parentNode;ut;){if(Ve=ut.nodeType,j(I,Ve))return ut;ut=ut.parentNode}return null}}var ln=At([9,11]),ue=At(bt),xe=At([6,10,12]);function dt(I,oe){if(xe(I,oe))throw new Ee("INVALID_NODE_TYPE_ERR")}function ot(I,oe){if(!j(oe,I.nodeType))throw new Ee("INVALID_NODE_TYPE_ERR")}function Et(I,oe){if(oe<0||oe>(Re(I)?I.length:I.childNodes.length))throw new Ee("INDEX_SIZE_ERR")}function $(I,oe){if(ln(I,!0)!==ln(oe,!0))throw new Ee("WRONG_DOCUMENT_ERR")}function U(I){if(ue(I,!0))throw new Ee("NO_MODIFICATION_ALLOWED_ERR")}function q(I,oe){if(!I)throw new Ee(oe)}function te(I,oe){return oe<=(Re(I)?I.length:I.childNodes.length)}function se(I){return!!I.startContainer&&!!I.endContainer&&!(ce&&(J.isBrokenNode(I.startContainer)||J.isBrokenNode(I.endContainer)))&&W(I.startContainer)==W(I.endContainer)&&te(I.startContainer,I.startOffset)&&te(I.endContainer,I.endOffset)}function le(I){if(!se(I))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+I.inspect()+")")}var Oe=document.createElement("style"),Pe=!1;try{Oe.innerHTML="<b>x</b>",Pe=Oe.firstChild.nodeType==3}catch{}O.features.htmlParsingConforms=Pe;var ke=Pe?function(I){var oe=this.startContainer,Ae=ft(oe);if(!oe)throw new Ee("INVALID_STATE_ERR");var Ve=null;return oe.nodeType==1?Ve=oe:Re(oe)&&(Ve=J.parentElement(oe)),Ve===null||Ve.nodeName=="HTML"&&J.isHtmlNamespace(ft(Ve).documentElement)&&J.isHtmlNamespace(Ve)?Ve=Ae.createElement("body"):Ve=Ve.cloneNode(!1),Ve.innerHTML=I,J.fragmentFromNodeChildren(Ve)}:function(I){var oe=fe(this),Ae=oe.createElement("body");return Ae.innerHTML=I,J.fragmentFromNodeChildren(Ae)};function F(I,oe){le(I);var Ae=I.startContainer,Ve=I.startOffset,ut=I.endContainer,T=I.endOffset,P=Ae===ut;Re(ut)&&T>0&&T<ut.length&&it(ut,T,oe),Re(Ae)&&Ve>0&&Ve<Ae.length&&(Ae=it(Ae,Ve,oe),P?(T-=Ve,ut=Ae):ut==Ae.parentNode&&T>=Ke(Ae)&&T++,Ve=0),I.setStartAndEnd(Ae,Ve,ut,T)}function he(I){le(I);var oe=I.commonAncestorContainer.parentNode.cloneNode(!1);return oe.appendChild(I.cloneContents()),oe.innerHTML}var Se=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],nt=0,mt=1,Nt=2,It=3,Xt=0,On=1,D=2,ne=3;ve.extend(O.rangePrototype,{compareBoundaryPoints:function(I,oe){le(this),$(this.startContainer,oe.startContainer);var Ae,Ve,ut,T,P=I==It||I==nt?"start":"end",R=I==mt||I==nt?"start":"end";return Ae=this[P+"Container"],Ve=this[P+"Offset"],ut=oe[R+"Container"],T=oe[R+"Offset"],tt(Ae,Ve,ut,T)},insertNode:function(I){if(le(this),ot(I,Tt),U(this.startContainer),lt(I,this.startContainer))throw new Ee("HIERARCHY_REQUEST_ERR");var oe=Me(I,this.startContainer,this.startOffset);this.setStartBefore(oe)},cloneContents:function(){le(this);var I,oe;if(this.collapsed)return fe(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Re(this.startContainer))return I=this.startContainer.cloneNode(!0),I.data=I.data.slice(this.startOffset,this.endOffset),oe=fe(this).createDocumentFragment(),oe.appendChild(I),oe;var Ae=new Qe(this,!0);return I=We(Ae),Ae.detach(),I},canSurroundContents:function(){le(this),U(this.startContainer),U(this.endContainer);var I=new Qe(this,!0),oe=I._first&&be(I._first,this)||I._last&&be(I._last,this);return I.detach(),!oe},surroundContents:function(I){if(ot(I,sn),!this.canSurroundContents())throw new Ee("INVALID_STATE_ERR");var oe=this.extractContents();if(I.hasChildNodes())for(;I.lastChild;)I.removeChild(I.lastChild);Me(I,this.startContainer,this.startOffset),I.appendChild(oe),this.selectNode(I)},cloneRange:function(){le(this);for(var I=new nn(fe(this)),oe=Se.length,Ae;oe--;)Ae=Se[oe],I[Ae]=this[Ae];return I},toString:function(){le(this);var I=this.startContainer;if(I===this.endContainer&&Re(I))return I.nodeType==3||I.nodeType==4?I.data.slice(this.startOffset,this.endOffset):"";var oe=[],Ae=new Qe(this,!0);return $e(Ae,function(Ve){(Ve.nodeType==3||Ve.nodeType==4)&&oe.push(Ve.data)}),Ae.detach(),oe.join("")},compareNode:function(I){le(this);var oe=I.parentNode,Ae=Ke(I);if(!oe)throw new Ee("NOT_FOUND_ERR");var Ve=this.comparePoint(oe,Ae),ut=this.comparePoint(oe,Ae+1);return Ve<0?ut>0?D:Xt:ut>0?On:ne},comparePoint:function(I,oe){return le(this),q(I,"HIERARCHY_REQUEST_ERR"),$(I,this.startContainer),tt(I,oe,this.startContainer,this.startOffset)<0?-1:tt(I,oe,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ke,toHtml:function(){return he(this)},intersectsNode:function(I,oe){if(le(this),W(I)!=de(this))return!1;var Ae=I.parentNode,Ve=Ke(I);if(!Ae)return!0;var ut=tt(Ae,Ve,this.endContainer,this.endOffset),T=tt(Ae,Ve+1,this.startContainer,this.startOffset);return oe?ut<=0&&T>=0:ut<0&&T>0},isPointInRange:function(I,oe){return le(this),q(I,"HIERARCHY_REQUEST_ERR"),$(I,this.startContainer),tt(I,oe,this.startContainer,this.startOffset)>=0&&tt(I,oe,this.endContainer,this.endOffset)<=0},intersectsRange:function(I){return at(this,I,!1)},intersectsOrTouchesRange:function(I){return at(this,I,!0)},intersection:function(I){if(this.intersectsRange(I)){var oe=tt(this.startContainer,this.startOffset,I.startContainer,I.startOffset),Ae=tt(this.endContainer,this.endOffset,I.endContainer,I.endOffset),Ve=this.cloneRange();return oe==-1&&Ve.setStart(I.startContainer,I.startOffset),Ae==1&&Ve.setEnd(I.endContainer,I.endOffset),Ve}return null},union:function(I){if(this.intersectsOrTouchesRange(I)){var oe=this.cloneRange();return tt(I.startContainer,I.startOffset,this.startContainer,this.startOffset)==-1&&oe.setStart(I.startContainer,I.startOffset),tt(I.endContainer,I.endOffset,this.endContainer,this.endOffset)==1&&oe.setEnd(I.endContainer,I.endOffset),oe}else throw new Ee("Ranges do not intersect")},containsNode:function(I,oe){return oe?this.intersectsNode(I,!1):this.compareNode(I)==ne},containsNodeContents:function(I){return this.comparePoint(I,0)>=0&&this.comparePoint(I,N(I))<=0},containsRange:function(I){var oe=this.intersection(I);return oe!==null&&I.equals(oe)},containsNodeText:function(I){var oe=this.cloneRange();oe.selectNode(I);var Ae=oe.getNodes([3]);if(Ae.length>0){oe.setStart(Ae[0],0);var Ve=Ae.pop();return oe.setEnd(Ve,Ve.length),this.containsRange(oe)}else return this.containsNodeContents(I)},getNodes:function(I,oe){return le(this),me(this,I,oe)},getDocument:function(){return fe(this)},collapseBefore:function(I){this.setEndBefore(I),this.collapse(!1)},collapseAfter:function(I){this.setStartAfter(I),this.collapse(!0)},getBookmark:function(I){var oe=fe(this),Ae=O.createRange(oe);I=I||J.getBody(oe),Ae.selectNodeContents(I);var Ve=this.intersection(Ae),ut=0,T=0;return Ve&&(Ae.setEnd(Ve.startContainer,Ve.startOffset),ut=Ae.toString().length,T=ut+Ve.toString().length),{start:ut,end:T,containerNode:I}},moveToBookmark:function(I){var oe=I.containerNode,Ae=0;this.setStart(oe,0),this.collapse(!0);for(var Ve=[oe],ut,T=!1,P=!1,R,B,Y;!P&&(ut=Ve.pop());)if(ut.nodeType==3)R=Ae+ut.length,!T&&I.start>=Ae&&I.start<=R&&(this.setStart(ut,I.start-Ae),T=!0),T&&I.end>=Ae&&I.end<=R&&(this.setEnd(ut,I.end-Ae),P=!0),Ae=R;else for(Y=ut.childNodes,B=Y.length;B--;)Ve.push(Y[B])},getName:function(){return"DomRange"},equals:function(I){return nn.rangesEqual(this,I)},isValid:function(){return se(this)},inspect:function(){return Be(this)},detach:function(){}});function Te(I){I.START_TO_START=nt,I.START_TO_END=mt,I.END_TO_END=Nt,I.END_TO_START=It,I.NODE_BEFORE=Xt,I.NODE_AFTER=On,I.NODE_BEFORE_AND_AFTER=D,I.NODE_INSIDE=ne}function Ze(I){Te(I),Te(I.prototype)}function pt(I,oe){return function(){le(this);var Ae=this.startContainer,Ve=this.startOffset,ut=this.commonAncestorContainer,T=new Qe(this,!0),P,R;Ae!==ut&&(P=yt(Ae,ut,!0),R=De(P),Ae=R.node,Ve=R.offset),$e(T,U),T.reset();var B=I(T);return T.detach(),oe(this,Ae,Ve,Ae,Ve),B}}function Dt(I,oe){function Ae(P,R){return function(B){ot(B,Je),ot(W(B),Rt);var Y=(P?Ce:De)(B);(R?Ve:ut)(this,Y.node,Y.offset)}}function Ve(P,R,B){var Y=P.endContainer,Q=P.endOffset;(R!==P.startContainer||B!==P.startOffset)&&((W(R)!=W(Y)||tt(R,B,Y,Q)==1)&&(Y=R,Q=B),oe(P,R,B,Y,Q))}function ut(P,R,B){var Y=P.startContainer,Q=P.startOffset;(R!==P.endContainer||B!==P.endOffset)&&((W(R)!=W(Y)||tt(R,B,Y,Q)==-1)&&(Y=R,Q=B),oe(P,Y,Q,R,B))}var T=function(){};T.prototype=O.rangePrototype,I.prototype=new T,ve.extend(I.prototype,{setStart:function(P,R){dt(P,!0),Et(P,R),Ve(this,P,R)},setEnd:function(P,R){dt(P,!0),Et(P,R),ut(this,P,R)},setStartAndEnd:function(){var P=arguments,R=P[0],B=P[1],Y=R,Q=B;switch(P.length){case 3:Q=P[2];break;case 4:Y=P[2],Q=P[3];break}oe(this,R,B,Y,Q)},setBoundary:function(P,R,B){this["set"+(B?"Start":"End")](P,R)},setStartBefore:Ae(!0,!0),setStartAfter:Ae(!1,!0),setEndBefore:Ae(!0,!1),setEndAfter:Ae(!1,!1),collapse:function(P){le(this),P?oe(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):oe(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(P){dt(P,!0),oe(this,P,0,P,N(P))},selectNode:function(P){dt(P,!1),ot(P,Je);var R=Ce(P),B=De(P);oe(this,R.node,R.offset,B.node,B.offset)},extractContents:pt(X,oe),deleteContents:pt(ht,oe),canSurroundContents:function(){le(this),U(this.startContainer),U(this.endContainer);var P=new Qe(this,!0),R=P._first&&be(P._first,this)||P._last&&be(P._last,this);return P.detach(),!R},splitBoundaries:function(){F(this)},splitBoundariesPreservingPositions:function(P){F(this,P)},normalizeBoundaries:function(){le(this);var P=this.startContainer,R=this.startOffset,B=this.endContainer,Y=this.endOffset,Q=function(Ye){var gt=Ye.nextSibling;gt&&gt.nodeType==Ye.nodeType&&(B=Ye,Y=Ye.length,Ye.appendData(gt.data),G(gt))},ye=function(Ye){var gt=Ye.previousSibling;if(gt&&gt.nodeType==Ye.nodeType){P=Ye;var Pt=Ye.length;if(R=gt.length,Ye.insertData(0,gt.data),G(gt),P==B)Y+=R,B=P;else if(B==Ye.parentNode){var Lt=Ke(Ye);Y==Lt?(B=Ye,Y=Pt):Y>Lt&&Y--}}},Ie=!0,Ne;if(Re(B))Y==B.length?Q(B):Y==0&&(Ne=B.previousSibling,Ne&&Ne.nodeType==B.nodeType&&(Y=Ne.length,P==B&&(Ie=!1),Ne.appendData(B.data),G(B),B=Ne));else{if(Y>0){var Ue=B.childNodes[Y-1];Ue&&Re(Ue)&&Q(Ue)}Ie=!this.collapsed}if(Ie){if(Re(P))R==0?ye(P):R==P.length&&(Ne=P.nextSibling,Ne&&Ne.nodeType==P.nodeType&&(B==Ne&&(B=P,Y+=P.length),P.appendData(Ne.data),G(Ne)));else if(R<P.childNodes.length){var qe=P.childNodes[R];qe&&Re(qe)&&ye(qe)}}else P=B,R=Y;oe(this,P,R,B,Y)},collapseToPoint:function(P,R){dt(P,!0),Et(P,R),this.setStartAndEnd(P,R)}}),Ze(I)}function In(I){I.collapsed=I.startContainer===I.endContainer&&I.startOffset===I.endOffset,I.commonAncestorContainer=I.collapsed?I.startContainer:J.getCommonAncestor(I.startContainer,I.endContainer)}function bn(I,oe,Ae,Ve,ut){I.startContainer=oe,I.startOffset=Ae,I.endContainer=Ve,I.endOffset=ut,I.document=J.getDocument(oe),In(I)}function nn(I){this.startContainer=I,this.startOffset=0,this.endContainer=I,this.endOffset=0,this.document=I,In(this)}Dt(nn,bn),ve.extend(nn,{rangeProperties:Se,RangeIterator:Qe,copyComparisonConstants:Ze,createPrototypeRange:Dt,inspect:Be,toHtml:he,getRangeDocument:fe,rangesEqual:function(I,oe){return I.startContainer===oe.startContainer&&I.startOffset===oe.startOffset&&I.endContainer===oe.endContainer&&I.endOffset===oe.endOffset}}),O.DomRange=nn}),_.createCoreModule("WrappedRange",["DomRange"],function(O,H){var J,ve,_e=O.dom,Ee=O.util,Re=_e.DomPosition,Ke=O.DomRange,lt=_e.getBody,ft=_e.getContentDocument,tt=_e.isCharacterDataNode;if(O.features.implementsDomRange&&function(){var G,be=Ke.rangeProperties;function fe(X){for(var me=be.length,Be;me--;)Be=be[me],X[Be]=X.nativeRange[Be];X.collapsed=X.startContainer===X.endContainer&&X.startOffset===X.endOffset}function de(X,me,Be,Qe,Je){var Rt=X.startContainer!==me||X.startOffset!=Be,bt=X.endContainer!==Qe||X.endOffset!=Je,Tt=!X.equals(X.nativeRange);(Rt||bt||Tt)&&(X.setEnd(Qe,Je),X.setStart(me,Be))}var Ce;J=function(X){if(!X)throw H.createError("WrappedRange: Range must be specified");this.nativeRange=X,fe(this)},Ke.createPrototypeRange(J,de),G=J.prototype,G.selectNode=function(X){this.nativeRange.selectNode(X),fe(this)},G.cloneContents=function(){return this.nativeRange.cloneContents()},G.surroundContents=function(X){this.nativeRange.surroundContents(X),fe(this)},G.collapse=function(X){this.nativeRange.collapse(X),fe(this)},G.cloneRange=function(){return new J(this.nativeRange.cloneRange())},G.refresh=function(){fe(this)},G.toString=function(){return this.nativeRange.toString()};var De=document.createTextNode("test");lt(document).appendChild(De);var Me=document.createRange();Me.setStart(De,0),Me.setEnd(De,0);try{Me.setStart(De,1),G.setStart=function(X,me){this.nativeRange.setStart(X,me),fe(this)},G.setEnd=function(X,me){this.nativeRange.setEnd(X,me),fe(this)},Ce=function(X){return function(me){this.nativeRange[X](me),fe(this)}}}catch{G.setStart=function(me,Be){try{this.nativeRange.setStart(me,Be)}catch{this.nativeRange.setEnd(me,Be),this.nativeRange.setStart(me,Be)}fe(this)},G.setEnd=function(me,Be){try{this.nativeRange.setEnd(me,Be)}catch{this.nativeRange.setStart(me,Be),this.nativeRange.setEnd(me,Be)}fe(this)},Ce=function(me,Be){return function(Qe){try{this.nativeRange[me](Qe)}catch{this.nativeRange[Be](Qe),this.nativeRange[me](Qe)}fe(this)}}}G.setStartBefore=Ce("setStartBefore","setEndBefore"),G.setStartAfter=Ce("setStartAfter","setEndAfter"),G.setEndBefore=Ce("setEndBefore","setStartBefore"),G.setEndAfter=Ce("setEndAfter","setStartAfter"),G.selectNodeContents=function(X){this.setStartAndEnd(X,0,_e.getNodeLength(X))},Me.selectNodeContents(De),Me.setEnd(De,3);var at=document.createRange();at.selectNodeContents(De),at.setEnd(De,4),at.setStart(De,2),Me.compareBoundaryPoints(Me.START_TO_END,at)==-1&&Me.compareBoundaryPoints(Me.END_TO_START,at)==1?G.compareBoundaryPoints=function(X,me){return me=me.nativeRange||me,X==me.START_TO_END?X=me.END_TO_START:X==me.END_TO_START&&(X=me.START_TO_END),this.nativeRange.compareBoundaryPoints(X,me)}:G.compareBoundaryPoints=function(X,me){return this.nativeRange.compareBoundaryPoints(X,me.nativeRange||me)};var We=document.createElement("div");We.innerHTML="123";var $e=We.firstChild,ht=lt(document);ht.appendChild(We),Me.setStart($e,1),Me.setEnd($e,2),Me.deleteContents(),$e.data=="13"&&(G.deleteContents=function(){this.nativeRange.deleteContents(),fe(this)},G.extractContents=function(){var X=this.nativeRange.extractContents();return fe(this),X}),ht.removeChild(We),ht=null,Ee.isHostMethod(Me,"createContextualFragment")&&(G.createContextualFragment=function(X){return this.nativeRange.createContextualFragment(X)}),lt(document).removeChild(De),G.getName=function(){return"WrappedRange"},O.WrappedRange=J,O.createNativeRange=function(X){return X=ft(X,H,"createNativeRange"),X.createRange()}}(),O.features.implementsTextRange){var it=function(G){var be=G.parentElement(),fe=G.duplicate();fe.collapse(!0);var de=fe.parentElement();fe=G.duplicate(),fe.collapse(!1);var Ce=fe.parentElement(),De=de==Ce?de:_e.getCommonAncestor(de,Ce);return De==be?De:_e.getCommonAncestor(be,De)},yt=function(G){return G.compareEndPoints("StartToEnd",G)==0},N=function(G,be,fe,de,Ce){var De=G.duplicate();De.collapse(fe);var Me=De.parentElement();if(_e.isOrIsAncestorOf(be,Me)||(Me=be),!Me.canHaveHTML){var at=new Re(Me.parentNode,_e.getNodeIndex(Me));return{boundaryPosition:at,nodeInfo:{nodeIndex:at.offset,containerElement:at.node}}}var We=_e.getDocument(Me).createElement("span");We.parentNode&&_e.removeNode(We);for(var $e,ht=fe?"StartToStart":"StartToEnd",X,me,Be,Qe,Je=Ce&&Ce.containerElement==Me?Ce.nodeIndex:0,Rt=Me.childNodes.length,bt=Rt,Tt=bt;Tt==Rt?Me.appendChild(We):Me.insertBefore(We,Me.childNodes[Tt]),De.moveToElementText(We),$e=De.compareEndPoints(ht,G),!($e==0||Je==bt);){if($e==-1){if(bt==Je+1)break;Je=Tt}else bt=bt==Je+1?Je:Tt;Tt=Math.floor((Je+bt)/2),Me.removeChild(We)}if(Qe=We.nextSibling,$e==-1&&Qe&&tt(Qe)){De.setEndPoint(fe?"EndToStart":"EndToEnd",G);var sn;if(/[\r\n]/.test(Qe.data)){var At=De.duplicate(),ln=At.text.replace(/\r\n/g,"\r").length;for(sn=At.moveStart("character",ln);($e=At.compareEndPoints("StartToEnd",At))==-1;)sn++,At.moveStart("character",1)}else sn=De.text.length;Be=new Re(Qe,sn)}else X=(de||!fe)&&We.previousSibling,me=(de||fe)&&We.nextSibling,me&&tt(me)?Be=new Re(me,0):X&&tt(X)?Be=new Re(X,X.data.length):Be=new Re(Me,_e.getNodeIndex(We));return _e.removeNode(We),{boundaryPosition:Be,nodeInfo:{nodeIndex:Tt,containerElement:Me}}},j=function(G,be){var fe,de,Ce=G.offset,De=_e.getDocument(G.node),Me,at,We=lt(De).createTextRange(),$e=tt(G.node);return $e?(fe=G.node,de=fe.parentNode):(at=G.node.childNodes,fe=Ce<at.length?at[Ce]:null,de=G.node),Me=De.createElement("span"),Me.innerHTML="&#feff;",fe?de.insertBefore(Me,fe):de.appendChild(Me),We.moveToElementText(Me),We.collapse(!be),de.removeChild(Me),$e&&We[be?"moveStart":"moveEnd"]("character",Ce),We};ve=function(G){this.textRange=G,this.refresh()},ve.prototype=new Ke(document),ve.prototype.refresh=function(){var G,be,fe,de=it(this.textRange);yt(this.textRange)?be=G=N(this.textRange,de,!0,!0).boundaryPosition:(fe=N(this.textRange,de,!0,!1),G=fe.boundaryPosition,be=N(this.textRange,de,!1,!1,fe.nodeInfo).boundaryPosition),this.setStart(G.node,G.offset),this.setEnd(be.node,be.offset)},ve.prototype.getName=function(){return"WrappedTextRange"},Ke.copyComparisonConstants(ve);var W=function(G){if(G.collapsed)return j(new Re(G.startContainer,G.startOffset),!0);var be=j(new Re(G.startContainer,G.startOffset),!0),fe=j(new Re(G.endContainer,G.endOffset),!1),de=lt(Ke.getRangeDocument(G)).createTextRange();return de.setEndPoint("StartToStart",be),de.setEndPoint("EndToEnd",fe),de};if(ve.rangeToTextRange=W,ve.prototype.toTextRange=function(){return W(this)},O.WrappedTextRange=ve,!O.features.implementsDomRange||O.config.preferTextRange){var ce=function(G){return G("return this;")()}(Function);typeof ce.Range=="undefined"&&(ce.Range=ve),O.createNativeRange=function(G){return G=ft(G,H,"createNativeRange"),lt(G).createTextRange()},O.WrappedRange=ve}}O.createRange=function(G){return G=ft(G,H,"createRange"),new O.WrappedRange(O.createNativeRange(G))},O.createRangyRange=function(G){return G=ft(G,H,"createRangyRange"),new Ke(G)},Ee.createAliasForDeprecatedMethod(O,"createIframeRange","createRange"),Ee.createAliasForDeprecatedMethod(O,"createIframeRangyRange","createRangyRange"),O.addShimListener(function(G){var be=G.document;typeof be.createRange=="undefined"&&(be.createRange=function(){return O.createRange(be)}),be=G=null})}),_.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(O,H){O.config.checkSelectionRanges=!0;var J="boolean",ve="number",_e=O.dom,Ee=O.util,Re=Ee.isHostMethod,Ke=O.DomRange,lt=O.WrappedRange,ft=O.DOMException,tt=_e.DomPosition,it,yt,N=O.features,j="Control",W=_e.getDocument,ce=_e.getBody,G=Ke.rangesEqual;function be(D){return typeof D=="string"?/^backward(s)?$/i.test(D):!!D}function fe(D,ne){if(D){if(_e.isWindow(D))return D;if(D instanceof se)return D.win;var Te=_e.getContentDocument(D,H,ne);return _e.getWindow(Te)}else return window}function de(D){return fe(D,"getWinSelection").getSelection()}function Ce(D){return fe(D,"getDocSelection").document.selection}function De(D){var ne=!1;return D.anchorNode&&(ne=_e.comparePoints(D.anchorNode,D.anchorOffset,D.focusNode,D.focusOffset)==1),ne}var Me=Re(window,"getSelection"),at=Ee.isHostObject(document,"selection");N.implementsWinGetSelection=Me,N.implementsDocSelection=at;var We=at&&(!Me||O.config.preferTextRange);if(We)it=Ce,O.isSelectionValid=function(D){var ne=fe(D,"isSelectionValid").document,Te=ne.selection;return Te.type!="None"||W(Te.createRange().parentElement())==ne};else if(Me)it=de,O.isSelectionValid=function(){return!0};else return H.fail("Neither document.selection or window.getSelection() detected."),!1;O.getNativeSelection=it;var $e=it();if(!$e)return H.fail("Native selection was null (possibly issue 138?)"),!1;var ht=O.createNativeRange(document),X=ce(document),me=Ee.areHostProperties($e,["anchorNode","focusNode","anchorOffset","focusOffset"]);N.selectionHasAnchorAndFocus=me;var Be=Re($e,"extend");N.selectionHasExtend=Be;var Qe=typeof $e.rangeCount==ve;N.selectionHasRangeCount=Qe;var Je=!1,Rt=!0,bt=Be?function(D,ne){var Te=Ke.getRangeDocument(ne),Ze=O.createRange(Te);Ze.collapseToPoint(ne.endContainer,ne.endOffset),D.addRange(xe(Ze)),D.extend(ne.startContainer,ne.startOffset)}:null;Ee.areHostMethods($e,["addRange","getRangeAt","removeAllRanges"])&&typeof $e.rangeCount==ve&&N.implementsDomRange&&function(){let D={document,window};const ne=[];try{const nn=document.createElement("iframe");nn.style.position="absolute",nn.style.left="-10000px",document.body.appendChild(nn),ne.push(nn);const I=nn.contentWindow.document;I.open(),I.write("<html><head></head><body>12</body></html>"),I.close(),D={document:I,window:nn.contentWindow}}catch{}var Te=D.window.getSelection();if(Te){var Ze=_e.createTestElement(D.document,"",!1);ne.push(Ze);var pt=Ze.appendChild(D.document.createTextNode("\xA0\xA0\xA0")),Dt=D.document.createRange();Dt.setStart(pt,1),Dt.collapse(!0),Te.removeAllRanges(),Te.addRange(Dt),Rt=Te.rangeCount==1,Te.removeAllRanges();{var In=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(In&&parseInt(In[1])>=36)Je=!1;else{var bn=Dt.cloneRange();Dt.setStart(pt,0),bn.setEnd(pt,3),bn.setStart(pt,2),Te.addRange(Dt),Te.addRange(bn),Je=Te.rangeCount==2}}for(const nn of ne)try{_e.removeNode(nn)}catch{}}}(),N.selectionSupportsMultipleRanges=Je,N.collapsedNonEditableSelectionsSupported=Rt;var Tt=!1,sn;X&&Re(X,"createControlRange")&&(sn=X.createControlRange(),Ee.areHostProperties(sn,["item","add"])&&(Tt=!0)),N.implementsControlRange=Tt,me?yt=function(D){return D.anchorNode===D.focusNode&&D.anchorOffset===D.focusOffset}:yt=function(D){return D.rangeCount?D.getRangeAt(D.rangeCount-1).collapsed:!1};function At(D,ne,Te){var Ze=Te?"end":"start",pt=Te?"start":"end";D.anchorNode=ne[Ze+"Container"],D.anchorOffset=ne[Ze+"Offset"],D.focusNode=ne[pt+"Container"],D.focusOffset=ne[pt+"Offset"]}function ln(D){var ne=D.nativeSelection;D.anchorNode=ne.anchorNode,D.anchorOffset=ne.anchorOffset,D.focusNode=ne.focusNode,D.focusOffset=ne.focusOffset}function ue(D){D.anchorNode=D.focusNode=null,D.anchorOffset=D.focusOffset=0,D.rangeCount=0,D.isCollapsed=!0,D._ranges.length=0}function xe(D){var ne;return D instanceof Ke?(ne=O.createNativeRange(D.getDocument()),ne.setEnd(D.endContainer,D.endOffset),ne.setStart(D.startContainer,D.startOffset)):D instanceof lt?ne=D.nativeRange:N.implementsDomRange&&D instanceof _e.getWindow(D.startContainer).Range&&(ne=D),ne}function dt(D){if(!D.length||D[0].nodeType!=1)return!1;for(var ne=1,Te=D.length;ne<Te;++ne)if(!_e.isAncestorOf(D[0],D[ne]))return!1;return!0}function ot(D){var ne=D.getNodes();if(!dt(ne))throw H.createError("getSingleElementFromRange: range "+D.inspect()+" did not consist of a single element");return ne[0]}function Et(D){return!!D&&typeof D.text!="undefined"}function $(D,ne){var Te=new lt(ne);D._ranges=[Te],At(D,Te,!1),D.rangeCount=1,D.isCollapsed=Te.collapsed}function U(D){if(D._ranges.length=0,D.docSelection.type=="None")ue(D);else{var ne=D.docSelection.createRange();if(Et(ne))$(D,ne);else{D.rangeCount=ne.length;for(var Te,Ze=W(ne.item(0)),pt=0;pt<D.rangeCount;++pt)Te=O.createRange(Ze),Te.selectNode(ne.item(pt)),D._ranges.push(Te);D.isCollapsed=D.rangeCount==1&&D._ranges[0].collapsed,At(D,D._ranges[D.rangeCount-1],!1)}}}function q(D,ne){for(var Te=D.docSelection.createRange(),Ze=ot(ne),pt=W(Te.item(0)),Dt=ce(pt).createControlRange(),In=0,bn=Te.length;In<bn;++In)Dt.add(Te.item(In));try{Dt.add(Ze)}catch{throw H.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}Dt.select(),U(D)}var te;Re($e,"getRangeAt")?te=function(D,ne){try{return D.getRangeAt(ne)}catch{return null}}:me&&(te=function(D){var ne=W(D.anchorNode),Te=O.createRange(ne);return Te.setStartAndEnd(D.anchorNode,D.anchorOffset,D.focusNode,D.focusOffset),Te.collapsed!==this.isCollapsed&&Te.setStartAndEnd(D.focusNode,D.focusOffset,D.anchorNode,D.anchorOffset),Te});function se(D,ne,Te){this.nativeSelection=D,this.docSelection=ne,this._ranges=[],this.win=Te,this.refresh()}se.prototype=O.selectionPrototype;function le(D){D.win=D.anchorNode=D.focusNode=D._ranges=null,D.rangeCount=D.anchorOffset=D.focusOffset=0,D.detached=!0}var Oe=[];function Pe(D,ne){for(var Te=Oe.length,Ze,pt;Te--;)if(Ze=Oe[Te],pt=Ze.selection,ne=="deleteAll")le(pt);else if(Ze.win==D)return ne=="delete"?(Oe.splice(Te,1),!0):pt;return ne=="deleteAll"&&(Oe.length=0),null}var ke=function(D){if(D&&D instanceof se)return D.refresh(),D;D=fe(D,"getNativeSelection");var ne=Pe(D),Te=it(D),Ze=at?Ce(D):null;return ne?(ne.nativeSelection=Te,ne.docSelection=Ze,ne.refresh()):(ne=new se(Te,Ze,D),Oe.push({win:D,selection:ne})),ne};O.getSelection=ke,Ee.createAliasForDeprecatedMethod(O,"getIframeSelection","getSelection");var F=se.prototype;function he(D,ne){for(var Te=W(ne[0].startContainer),Ze=ce(Te).createControlRange(),pt=0,Dt,In=ne.length;pt<In;++pt){Dt=ot(ne[pt]);try{Ze.add(Dt)}catch{throw H.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}Ze.select(),U(D)}if(!We&&me&&Ee.areHostMethods($e,["removeAllRanges","addRange"])){F.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),ue(this)};var Se=function(D,ne){bt(D.nativeSelection,ne),D.refresh()};Qe?F.addRange=function(D,ne){if(Tt&&at&&this.docSelection.type==j)q(this,D);else if(be(ne)&&Be)Se(this,D);else{var Te;Je?Te=this.rangeCount:(this.removeAllRanges(),Te=0);var Ze=xe(D).cloneRange();try{this.nativeSelection.addRange(Ze)}catch{}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==Te+1){if(O.config.checkSelectionRanges){var pt=te(this.nativeSelection,this.rangeCount-1);pt&&!G(pt,D)&&(D=new lt(pt))}this._ranges[this.rangeCount-1]=D,At(this,D,Nt(this.nativeSelection)),this.isCollapsed=yt(this)}else this.refresh()}}:F.addRange=function(D,ne){be(ne)&&Be?Se(this,D):(this.nativeSelection.addRange(xe(D)),this.refresh())},F.setRanges=function(D){if(Tt&&at&&D.length>1)he(this,D);else{this.removeAllRanges();for(var ne=0,Te=D.length;ne<Te;++ne)this.addRange(D[ne])}}}else if(Re($e,"empty")&&Re(ht,"select")&&Tt&&We)F.removeAllRanges=function(){try{if(this.docSelection.empty(),this.docSelection.type!="None"){var D;if(this.anchorNode)D=W(this.anchorNode);else if(this.docSelection.type==j){var ne=this.docSelection.createRange();ne.length&&(D=W(ne.item(0)))}if(D){var Te=ce(D).createTextRange();Te.select(),this.docSelection.empty()}}}catch{}ue(this)},F.addRange=function(D){this.docSelection.type==j?q(this,D):(O.WrappedTextRange.rangeToTextRange(D).select(),this._ranges[0]=D,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,At(this,D,!1))},F.setRanges=function(D){this.removeAllRanges();var ne=D.length;ne>1?he(this,D):ne&&this.addRange(D[0])};else return H.fail("No means of selecting a Range or TextRange was found"),!1;F.getRangeAt=function(D){if(D<0||D>=this.rangeCount)throw new ft("INDEX_SIZE_ERR");return this._ranges[D].cloneRange()};var nt;if(We)nt=function(D){var ne;O.isSelectionValid(D.win)?ne=D.docSelection.createRange():(ne=ce(D.win.document).createTextRange(),ne.collapse(!0)),D.docSelection.type==j?U(D):Et(ne)?$(D,ne):ue(D)};else if(Re($e,"getRangeAt")&&typeof $e.rangeCount==ve)nt=function(D){if(Tt&&at&&D.docSelection.type==j)U(D);else if(D._ranges.length=D.rangeCount=D.nativeSelection.rangeCount,D.rangeCount){for(var ne=0,Te=D.rangeCount;ne<Te;++ne)D._ranges[ne]=new O.WrappedRange(D.nativeSelection.getRangeAt(ne));At(D,D._ranges[D.rangeCount-1],Nt(D.nativeSelection)),D.isCollapsed=yt(D)}else ue(D)};else if(me&&typeof $e.isCollapsed==J&&typeof ht.collapsed==J&&N.implementsDomRange)nt=function(D){var ne,Te=D.nativeSelection;Te.anchorNode?(ne=te(Te,0),D._ranges=[ne],D.rangeCount=1,ln(D),D.isCollapsed=yt(D)):ue(D)};else return H.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;F.refresh=function(D){var ne=D?this._ranges.slice(0):null,Te=this.anchorNode,Ze=this.anchorOffset;if(nt(this),D){var pt=ne.length;if(pt!=this._ranges.length||this.anchorNode!=Te||this.anchorOffset!=Ze)return!0;for(;pt--;)if(!G(ne[pt],this._ranges[pt]))return!0;return!1}};var mt=function(D,ne){var Te=D.getAllRanges();D.removeAllRanges();for(var Ze=0,pt=Te.length;Ze<pt;++Ze)G(ne,Te[Ze])||D.addRange(Te[Ze]);D.rangeCount||ue(D)};Tt&&at?F.removeRange=function(D){if(this.docSelection.type==j){for(var ne=this.docSelection.createRange(),Te=ot(D),Ze=W(ne.item(0)),pt=ce(Ze).createControlRange(),Dt,In=!1,bn=0,nn=ne.length;bn<nn;++bn)Dt=ne.item(bn),Dt!==Te||In?pt.add(ne.item(bn)):In=!0;pt.select(),U(this)}else mt(this,D)}:F.removeRange=function(D){mt(this,D)};var Nt;!We&&me&&N.implementsDomRange?(Nt=De,F.isBackward=function(){return Nt(this)}):Nt=F.isBackward=function(){return!1},F.isBackwards=F.isBackward,F.toString=function(){for(var D=[],ne=0,Te=this.rangeCount;ne<Te;++ne)D[ne]=""+this._ranges[ne];return D.join("")};function It(D,ne){if(D.win.document!=W(ne))throw new ft("WRONG_DOCUMENT_ERR")}F.collapse=function(D,ne){It(this,D);var Te=O.createRange(D);Te.collapseToPoint(D,ne),this.setSingleRange(Te),this.isCollapsed=!0},F.collapseToStart=function(){if(this.rangeCount){var D=this._ranges[0];this.collapse(D.startContainer,D.startOffset)}else throw new ft("INVALID_STATE_ERR")},F.collapseToEnd=function(){if(this.rangeCount){var D=this._ranges[this.rangeCount-1];this.collapse(D.endContainer,D.endOffset)}else throw new ft("INVALID_STATE_ERR")},F.selectAllChildren=function(D){It(this,D);var ne=O.createRange(D);ne.selectNodeContents(D),this.setSingleRange(ne)},F.deleteFromDocument=function(){if(Tt&&at&&this.docSelection.type==j){for(var D=this.docSelection.createRange(),ne;D.length;)ne=D.item(0),D.remove(ne),_e.removeNode(ne);this.refresh()}else if(this.rangeCount){var Te=this.getAllRanges();if(Te.length){this.removeAllRanges();for(var Ze=0,pt=Te.length;Ze<pt;++Ze)Te[Ze].deleteContents();this.addRange(Te[pt-1])}}},F.eachRange=function(D,ne){for(var Te=0,Ze=this._ranges.length;Te<Ze;++Te)if(D(this.getRangeAt(Te)))return ne},F.getAllRanges=function(){var D=[];return this.eachRange(function(ne){D.push(ne)}),D},F.setSingleRange=function(D,ne){this.removeAllRanges(),this.addRange(D,ne)},F.callMethodOnEachRange=function(D,ne){var Te=[];return this.eachRange(function(Ze){Te.push(Ze[D].apply(Ze,ne||[]))}),Te};function Xt(D){return function(ne,Te){var Ze;this.rangeCount?(Ze=this.getRangeAt(0),Ze["set"+(D?"Start":"End")](ne,Te)):(Ze=O.createRange(this.win.document),Ze.setStartAndEnd(ne,Te)),this.setSingleRange(Ze,this.isBackward())}}F.setStart=Xt(!0),F.setEnd=Xt(!1),O.rangePrototype.select=function(D){ke(this.getDocument()).setSingleRange(this,D)},F.changeEachRange=function(D){var ne=[],Te=this.isBackward();this.eachRange(function(Ze){D(Ze),ne.push(Ze)}),this.removeAllRanges(),Te&&ne.length==1?this.addRange(ne[0],"backward"):this.setRanges(ne)},F.containsNode=function(D,ne){return this.eachRange(function(Te){return Te.containsNode(D,ne)},!0)||!1},F.getBookmark=function(D){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[D])}},F.moveToBookmark=function(D){for(var ne=[],Te=0,Ze,pt;Ze=D.rangeBookmarks[Te++];)pt=O.createRange(this.win),pt.moveToBookmark(Ze),ne.push(pt);D.backward?this.setSingleRange(ne[0],"backward"):this.setRanges(ne)},F.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},F.restoreRanges=function(D){this.removeAllRanges();for(var ne=0,Te;Te=D.ranges[ne];++ne)this.addRange(Te,D.backward&&ne==0)},F.toHtml=function(){var D=[];return this.eachRange(function(ne){D.push(Ke.toHtml(ne))}),D.join("")},N.implementsTextRange&&(F.getNativeTextRange=function(){var D;if(D=this.docSelection){var ne=D.createRange();if(Et(ne))return ne;throw H.createError("getNativeTextRange: selection is a control selection")}else{if(this.rangeCount>0)return O.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw H.createError("getNativeTextRange: selection contains no range")}});function On(D){var ne=[],Te=new tt(D.anchorNode,D.anchorOffset),Ze=new tt(D.focusNode,D.focusOffset),pt=typeof D.getName=="function"?D.getName():"Selection";if(typeof D.rangeCount!="undefined")for(var Dt=0,In=D.rangeCount;Dt<In;++Dt)ne[Dt]=Ke.inspect(D.getRangeAt(Dt));return"["+pt+"(Ranges: "+ne.join(", ")+")(anchor: "+Te.inspect()+", focus: "+Ze.inspect()+"]"}F.getName=function(){return"WrappedSelection"},F.inspect=function(){return On(this)},F.detach=function(){Pe(this.win,"delete"),le(this)},se.detachAll=function(){Pe(null,"deleteAll")},se.inspect=On,se.isDirectionBackward=be,O.Selection=se,O.selectionPrototype=F,O.addShimListener(function(D){typeof D.getSelection=="undefined"&&(D.getSelection=function(){return ke(D)}),D=null})});var ae=!1,ie=function(O){ae||(ae=!0,!_.initialized&&_.config.autoInitialize&&ee())};return m&&(document.readyState=="complete"?ie():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",ie,!1),pe(window,"load",ie))),_})})(mc);var gn=mc.exports,cne={exports:{}};(function(e,t){(function(n,r){e.exports=n(mc.exports)})(function(n){return n.createModule("ClassApplier",["WrappedSelection"],function(r,i){var a=r.dom,o=a.DomPosition,s=a.arrayContains,l=r.util,u=l.forEach,c="span",f=l.isHostMethod(document,"createElementNS");function d(N,j){for(var W in N)if(N.hasOwnProperty(W)&&j(W,N[W])===!1)return!1;return!0}function p(N){return N.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v(N,j){return!!N&&new RegExp("(?:^|\\s)"+j+"(?:\\s|$)").test(N)}function w(N,j){if(typeof N.classList=="object")return N.classList.contains(j);var W=typeof N.className=="string",ce=W?N.className:N.getAttribute("class");return v(ce,j)}function A(N,j){if(typeof N.classList=="object")N.classList.add(j);else{var W=typeof N.className=="string",ce=W?N.className:N.getAttribute("class");ce?v(ce,j)||(ce+=" "+j):ce=j,W?N.className=ce:N.setAttribute("class",ce)}}var h=function(){function N(j,W,ce){return W&&ce?" ":""}return function(j,W){if(typeof j.classList=="object")j.classList.remove(W);else{var ce=typeof j.className=="string",G=ce?j.className:j.getAttribute("class");G=G.replace(new RegExp("(^|\\s)"+W+"(\\s|$)"),N),ce?j.className=G:j.setAttribute("class",G)}}}();function g(N){var j=typeof N.className=="string";return j?N.className:N.getAttribute("class")}function b(N){return N&&N.split(/\s+/).sort().join(" ")}function m(N){return b(g(N))}function y(N,j){return m(N)==m(j)}function _(N,j){for(var W=j.split(/\s+/),ce=0,G=W.length;ce<G;++ce)if(!w(N,p(W[ce])))return!1;return!0}function x(N){var j=N.parentNode;return j&&j.nodeType==1&&!/^(textarea|style|script|select|iframe)$/i.test(j.nodeName)}function S(N,j,W,ce,G){var be=N.node,fe=N.offset,de=be,Ce=fe;be==ce&&fe>G&&++Ce,be==j&&(fe==W||fe==W+1)&&(de=ce,Ce+=G-W),be==j&&fe>W+1&&--Ce,N.node=de,N.offset=Ce}function M(N,j,W){N.node==j&&N.offset>W&&--N.offset}function V(N,j,W,ce){W==-1&&(W=j.childNodes.length);var G=N.parentNode,be=a.getNodeIndex(N);u(ce,function(fe){S(fe,G,be,j,W)}),j.childNodes.length==W?j.appendChild(N):j.insertBefore(N,j.childNodes[W])}function Z(N,j){var W=N.parentNode,ce=a.getNodeIndex(N);u(j,function(G){M(G,W,ce)}),a.removeNode(N)}function pe(N,j,W,ce,G){for(var be,fe=[];be=N.firstChild;)V(be,j,W++,G),fe.push(be);return ce&&Z(N,G),fe}function ge(N,j){return pe(N,N.parentNode,a.getNodeIndex(N),!0,j)}function we(N,j){var W=N.cloneRange();W.selectNodeContents(j);var ce=W.intersection(N),G=ce?ce.toString():"";return G!=""}function ee(N){for(var j=N.getNodes([3]),W=0,ce;(ce=j[W])&&!we(N,ce);)++W;for(var G=j.length-1;(ce=j[G])&&!we(N,ce);)--G;return j.slice(W,G+1)}function Le(N,j){if(N.attributes.length!=j.attributes.length)return!1;for(var W=0,ce=N.attributes.length,G,be,fe;W<ce;++W)if(G=N.attributes[W],fe=G.name,fe!="class"&&(be=j.attributes.getNamedItem(fe),G===null!=(be===null)||G.specified!=be.specified||G.specified&&G.nodeValue!==be.nodeValue))return!1;return!0}function je(N,j){for(var W=0,ce=N.attributes.length,G;W<ce;++W)if(G=N.attributes[W].name,!(j&&s(j,G))&&N.attributes[W].specified&&G!="class")return!0;return!1}var E=a.getComputedStyleProperty,C=function(){var N=document.createElement("div");return typeof N.isContentEditable=="boolean"?function(j){return j&&j.nodeType==1&&j.isContentEditable}:function(j){return!j||j.nodeType!=1||j.contentEditable=="false"?!1:j.contentEditable=="true"||C(j.parentNode)}}();function k(N){var j;return N&&N.nodeType==1&&((j=N.parentNode)&&j.nodeType==9&&j.designMode=="on"||C(N)&&!C(N.parentNode))}function L(N){return(C(N)||N.nodeType!=1&&C(N.parentNode))&&!k(N)}var z=/^inline(-block|-table)?$/i;function K(N){return N&&N.nodeType==1&&!z.test(E(N,"display"))}var ae=/[^\r\n\t\f \u200B]/;function ie(N){if(N.data.length==0)return!0;if(ae.test(N.data))return!1;var j=E(N.parentNode,"whiteSpace");switch(j){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(N.data))return!1}return K(N.previousSibling)||K(N.nextSibling)}function O(N){var j=[],W,ce;for(W=0;ce=N[W++];)j.push(new o(ce.startContainer,ce.startOffset),new o(ce.endContainer,ce.endOffset));return j}function H(N,j){for(var W=0,ce,G,be,fe=N.length;W<fe;++W)ce=N[W],G=j[W*2],be=j[W*2+1],ce.setStartAndEnd(G.node,G.offset,be.node,be.offset)}function J(N,j){return a.isCharacterDataNode(N)?j==0?!!N.previousSibling:j==N.length?!!N.nextSibling:!0:j>0&&j<N.childNodes.length}function ve(N,j,W,ce){var G,be,fe=W==0;if(a.isAncestorOf(j,N))return N;if(a.isCharacterDataNode(j)){var de=a.getNodeIndex(j);if(W==0)W=de;else if(W==j.length)W=de+1;else throw i.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+W+" in "+j.data);j=j.parentNode}if(J(j,W)){G=j.cloneNode(!1),be=j.parentNode,G.id&&G.removeAttribute("id");for(var Ce,De=0;Ce=j.childNodes[W];)V(Ce,G,De++,ce);return V(G,be,a.getNodeIndex(j)+1,ce),j==N?G:ve(N,be,a.getNodeIndex(G),ce)}else if(N!=j){G=j.parentNode;var Me=a.getNodeIndex(j);return fe||Me++,ve(N,G,Me,ce)}return N}function _e(N,j){return N.namespaceURI==j.namespaceURI&&N.tagName.toLowerCase()==j.tagName.toLowerCase()&&y(N,j)&&Le(N,j)&&E(N,"display")=="inline"&&E(j,"display")=="inline"}function Ee(N){var j=N?"nextSibling":"previousSibling";return function(W,ce){var G=W.parentNode,be=W[j];if(be){if(be&&be.nodeType==3)return be}else if(ce&&(be=G[j],be&&be.nodeType==1&&_e(G,be))){var fe=be[N?"firstChild":"lastChild"];if(fe&&fe.nodeType==3)return fe}return null}}var Re=Ee(!1),Ke=Ee(!0);function lt(N){this.isElementMerge=N.nodeType==1,this.textNodes=[];var j=this.isElementMerge?N.lastChild:N;j&&(this.textNodes[0]=j)}lt.prototype={doMerge:function(N){var j=this.textNodes,W=j[0];if(j.length>1){var ce=a.getNodeIndex(W),G=[],be=0,fe;u(j,function(de,Ce){fe=de.parentNode,Ce>0&&(fe.removeChild(de),fe.hasChildNodes()||a.removeNode(fe),N&&u(N,function(De){De.node==de&&(De.node=W,De.offset+=be),De.node==fe&&De.offset>ce&&(--De.offset,De.offset==ce+1&&Ce<len-1&&(De.node=W,De.offset=be))})),G[Ce]=de.data,be+=de.data.length}),W.data=G.join("")}return W.data},getLength:function(){for(var N=this.textNodes.length,j=0;N--;)j+=this.textNodes[N].length;return j},toString:function(){var N=[];return u(this.textNodes,function(j,W){N[W]="'"+j.data+"'"}),"[Merge("+N.join(",")+")]"}};var ft=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],tt={};function it(N,j,W){var ce,G,be,fe,de=this;de.cssClass=de.className=N;var Ce=null,De={};if(typeof j=="object"&&j!==null){for(typeof j.elementTagName!="undefined"&&(j.elementTagName=j.elementTagName.toLowerCase()),W=j.tagNames,Ce=j.elementProperties,De=j.elementAttributes,G=0;fe=ft[G++];)j.hasOwnProperty(fe)&&(de[fe]=j[fe]);ce=j.normalize}else ce=j;de.normalize=typeof ce=="undefined"?!0:ce,de.attrExceptions=[];var Me=document.createElement(de.elementTagName);de.elementProperties=de.copyPropertiesToElement(Ce,Me,!0),d(De,function(We,$e){de.attrExceptions.push(We),De[We]=""+$e}),de.elementAttributes=De,de.elementSortedClassName=de.elementProperties.hasOwnProperty("className")?b(de.elementProperties.className+" "+N):N,de.applyToAnyTagName=!1;var at=typeof W;if(at=="string")W=="*"?de.applyToAnyTagName=!0:de.tagNames=p(W.toLowerCase()).split(/\s*,\s*/);else if(at=="object"&&typeof W.length=="number")for(de.tagNames=[],G=0,be=W.length;G<be;++G)W[G]=="*"?de.applyToAnyTagName=!0:de.tagNames.push(W[G].toLowerCase());else de.tagNames=[de.elementTagName]}it.prototype={elementTagName:c,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(N,j,W){var ce,G,be={},fe,de,Ce,De;for(var Me in N)if(N.hasOwnProperty(Me))if(de=N[Me],Ce=j[Me],Me=="className")A(j,de),A(j,this.className),j[Me]=b(j[Me]),W&&(be[Me]=de);else if(Me=="style"){G=Ce,W&&(be[Me]=fe={});for(ce in N[Me])N[Me].hasOwnProperty(ce)&&(G[ce]=de[ce],W&&(fe[ce]=G[ce]));this.attrExceptions.push(Me)}else j[Me]=de,W&&(be[Me]=j[Me],De=tt.hasOwnProperty(Me)?tt[Me]:Me,this.attrExceptions.push(De));return W?be:""},copyAttributesToElement:function(N,j){for(var W in N)N.hasOwnProperty(W)&&!/^class(?:Name)?$/i.test(W)&&j.setAttribute(W,N[W])},appliesToElement:function(N){return s(this.tagNames,N.tagName.toLowerCase())},getEmptyElements:function(N){var j=this;return N.getNodes([1],function(W){return j.appliesToElement(W)&&!W.hasChildNodes()})},hasClass:function(N){return N.nodeType==1&&(this.applyToAnyTagName||this.appliesToElement(N))&&w(N,this.className)},getSelfOrAncestorWithClass:function(N){for(;N;){if(this.hasClass(N))return N;N=N.parentNode}return null},isModifiable:function(N){return!this.applyToEditableOnly||L(N)},isIgnorableWhiteSpaceNode:function(N){return this.ignoreWhiteSpace&&N&&N.nodeType==3&&ie(N)},postApply:function(N,j,W,ce){var G=N[0],be=N[N.length-1],fe=[],de,Ce=G,De=be,Me=0,at=be.length,We;u(N,function(ht){We=Re(ht,!ce),We?(de||(de=new lt(We),fe.push(de)),de.textNodes.push(ht),ht===G&&(Ce=de.textNodes[0],Me=Ce.length),ht===be&&(De=de.textNodes[0],at=de.getLength())):de=null});var $e=Ke(be,!ce);if($e&&(de||(de=new lt(be),fe.push(de)),de.textNodes.push($e)),fe.length){for(let ht=0,X=fe.length;ht<X;++ht)fe[ht].doMerge(W);j.setStartAndEnd(Ce,Me,De,at)}},createContainer:function(N){var j=a.getDocument(N),W=f&&!a.isHtmlNamespace(N)&&N.namespaceURI?j.createElementNS(N.namespaceURI,this.elementTagName):j.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,W,!1),this.copyAttributesToElement(this.elementAttributes,W),A(W,this.className),this.onElementCreate&&this.onElementCreate(W,this),W},elementHasProperties:function(N,j){var W=this;return d(j,function(ce,G){if(ce=="className")return _(N,G);if(typeof G=="object"){if(!W.elementHasProperties(N[ce],G))return!1}else if(N[ce]!==G)return!1})},elementHasAttributes:function(N,j){return d(j,function(W,ce){if(N.getAttribute(W)!==ce)return!1})},applyToTextNode:function(N,j){if(x(N)){var W=N.parentNode;if(W.childNodes.length==1&&this.useExistingElements&&this.appliesToElement(W)&&this.elementHasProperties(W,this.elementProperties)&&this.elementHasAttributes(W,this.elementAttributes))A(W,this.className);else{var ce=N.parentNode,G=this.createContainer(ce);ce.insertBefore(G,N),G.appendChild(N)}}},isRemovable:function(N){return N.tagName.toLowerCase()==this.elementTagName&&m(N)==this.elementSortedClassName&&this.elementHasProperties(N,this.elementProperties)&&!je(N,this.attrExceptions)&&this.elementHasAttributes(N,this.elementAttributes)&&this.isModifiable(N)},isEmptyContainer:function(N){var j=N.childNodes.length;return N.nodeType==1&&this.isRemovable(N)&&(j==0||j==1&&this.isEmptyContainer(N.firstChild))},removeEmptyContainers:function(N){var j=this,W=N.getNodes([1],function(be){return j.isEmptyContainer(be)}),ce=[N],G=O(ce);u(W,function(be){Z(be,G)}),H(ce,G)},undoToTextNode:function(N,j,W,ce){if(!j.containsNode(W)){var G=j.cloneRange();G.selectNode(W),G.isPointInRange(j.endContainer,j.endOffset)&&(ve(W,j.endContainer,j.endOffset,ce),j.setEndAfter(W)),G.isPointInRange(j.startContainer,j.startOffset)&&(W=ve(W,j.startContainer,j.startOffset,ce))}this.isRemovable(W)?ge(W,ce):h(W,this.className)},splitAncestorWithClass:function(N,j,W){var ce=this.getSelfOrAncestorWithClass(N);ce&&ve(ce,N,j,W)},undoToAncestor:function(N,j){this.isRemovable(N)?ge(N,j):h(N,this.className)},applyToRange:function(N,j){var W=this;j=j||[];var ce=O(j||[]);N.splitBoundariesPreservingPositions(ce),W.removeEmptyElements&&W.removeEmptyContainers(N);var G=ee(N);if(G.length){u(G,function(de){!W.isIgnorableWhiteSpaceNode(de)&&!W.getSelfOrAncestorWithClass(de)&&W.isModifiable(de)&&W.applyToTextNode(de,ce)});var be=G[G.length-1];N.setStartAndEnd(G[0],0,be,be.length),W.normalize&&W.postApply(G,N,ce,!1),H(j,ce)}var fe=W.getEmptyElements(N);u(fe,function(de){A(de,W.className)})},applyToRanges:function(N){for(var j=N.length;j--;)this.applyToRange(N[j],N);return N},applyToSelection:function(N){var j=r.getSelection(N);j.setRanges(this.applyToRanges(j.getAllRanges()))},undoToRange:function(N,j){var W=this;j=j||[];var ce=O(j);N.splitBoundariesPreservingPositions(ce),W.removeEmptyElements&&W.removeEmptyContainers(N,ce);var G=ee(N),be,fe,de=G[G.length-1];if(G.length){W.splitAncestorWithClass(N.endContainer,N.endOffset,ce),W.splitAncestorWithClass(N.startContainer,N.startOffset,ce);for(var Ce=0,De=G.length;Ce<De;++Ce)be=G[Ce],fe=W.getSelfOrAncestorWithClass(be),fe&&W.isModifiable(be)&&W.undoToAncestor(fe,ce);N.setStartAndEnd(G[0],0,de,de.length),W.normalize&&W.postApply(G,N,ce,!0),H(j,ce)}var Me=W.getEmptyElements(N);u(Me,function(at){h(at,W.className)})},undoToRanges:function(N){for(var j=N.length;j--;)this.undoToRange(N[j],N);return N},undoToSelection:function(N){var j=r.getSelection(N),W=r.getSelection(N).getAllRanges();this.undoToRanges(W),j.setRanges(W)},isAppliedToRange:function(N){if(N.collapsed||N.toString()=="")return!!this.getSelfOrAncestorWithClass(N.commonAncestorContainer);var j=N.getNodes([3]);if(j.length){for(var W=0,ce;ce=j[W++];)if(!this.isIgnorableWhiteSpaceNode(ce)&&we(N,ce)&&this.isModifiable(ce)&&!this.getSelfOrAncestorWithClass(ce))return!1}return!0},isAppliedToRanges:function(N){var j=N.length;if(j==0)return!1;for(;j--;)if(!this.isAppliedToRange(N[j]))return!1;return!0},isAppliedToSelection:function(N){var j=r.getSelection(N);return this.isAppliedToRanges(j.getAllRanges())},toggleRange:function(N){this.isAppliedToRange(N)?this.undoToRange(N):this.applyToRange(N)},toggleSelection:function(N){this.isAppliedToSelection(N)?this.undoToSelection(N):this.applyToSelection(N)},getElementsWithClassIntersectingRange:function(N){var j=[],W=this;return N.getNodes([3],function(ce){var G=W.getSelfOrAncestorWithClass(ce);G&&!s(j,G)&&j.push(G)}),j},detach:function(){}};function yt(N,j,W){return new it(N,j,W)}it.util={hasClass:w,addClass:A,removeClass:h,getClass:g,hasSameClasses:y,hasAllClasses:_,replaceWithOwnChildren:ge,elementsHaveSameNonClassAttributes:Le,elementHasNonClassAttributes:je,splitNodeAt:ve,isEditableElement:C,isEditingHost:k,isEditable:L},r.CssClassApplier=r.ClassApplier=it,r.createClassApplier=yt,l.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",i)}),n})})(cne);var fne={exports:{}};(function(e,t){(function(n,r){e.exports=n(mc.exports)})(function(n){return n.createModule("Highlighter",["ClassApplier"],function(r,i){var a=r.dom,o=a.arrayContains,s=a.getBody,l=r.util.createOptions,u=r.util.forEach,c=1;function f(y,_){return y.characterRange.start-_.characterRange.start}function d(y,_){return _?y.getElementById(_):s(y)}var p={};function v(y,_){this.type=y,this.converterCreator=_}v.prototype.create=function(){var y=this.converterCreator();return y.type=this.type,y};function w(y,_){p[y]=new v(y,_)}function A(y){var _=p[y];if(_ instanceof v)return _.create();throw new Error("Highlighter type '"+y+"' is not valid")}r.registerHighlighterType=w;function h(y,_){this.start=y,this.end=_}h.prototype={intersects:function(y){return this.start<y.end&&this.end>y.start},isContiguousWith:function(y){return this.start==y.end||this.end==y.start},union:function(y){return new h(Math.min(this.start,y.start),Math.max(this.end,y.end))},intersection:function(y){return new h(Math.max(this.start,y.start),Math.min(this.end,y.end))},getComplements:function(y){var _=[];if(this.start>=y.start){if(this.end<=y.end)return[];_.push(new h(y.end,this.end))}else _.push(new h(this.start,Math.min(this.end,y.start))),this.end>y.end&&_.push(new h(y.end,this.end));return _},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},h.fromCharacterRange=function(y){return new h(y.start,y.end)};var g={rangeToCharacterRange:function(y,_){var x=y.getBookmark(_);return new h(x.start,x.end)},characterRangeToRange:function(y,_,x){var S=r.createRange(y);return S.moveToBookmark({start:_.start,end:_.end,containerNode:x}),S},serializeSelection:function(y,_){for(var x=y.getAllRanges(),S=x.length,M=[],V=S==1&&y.isBackward(),Z=0,pe=x.length;Z<pe;++Z)M[Z]={characterRange:this.rangeToCharacterRange(x[Z],_),backward:V};return M},restoreSelection:function(y,_,x){y.removeAllRanges();for(var S=y.win.document,M=0,V=_.length,Z,pe;M<V;++M)pe=_[M],Z=this.characterRangeToRange(S,pe.characterRange,x),y.addRange(Z,pe.backward)}};w("textContent",function(){return g}),w("TextRange",function(){var y;return function(){if(!y){var _=r.modules.TextRange;if(_){if(!_.supported)throw new Error("TextRange module is present but not supported.")}else throw new Error("TextRange module is missing.");y={rangeToCharacterRange:function(x,S){return h.fromCharacterRange(x.toCharacterRange(S))},characterRangeToRange:function(x,S,M){var V=r.createRange(x);return V.selectCharacters(M,S.start,S.end),V},serializeSelection:function(x,S){return x.saveCharacterRanges(S)},restoreSelection:function(x,S,M){x.restoreCharacterRanges(M,S)}}}return y}}());function b(y,_,x,S,M,V){M?(this.id=M,c=Math.max(c,M+1)):this.id=c++,this.characterRange=_,this.doc=y,this.classApplier=x,this.converter=S,this.containerElementId=V||null,this.applied=!1}b.prototype={getContainerElement:function(){return d(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(y){this.characterRange=this.converter.rangeToCharacterRange(y,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(y){return this.getRange().containsNodeContents(y.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}};function m(y,_){_=_||"textContent",this.doc=y||document,this.classAppliers={},this.highlights=[],this.converter=A(_)}m.prototype={addClassApplier:function(y){this.classAppliers[y.className]=y},getHighlightForElement:function(y){for(var _=this.highlights,x=0,S=_.length;x<S;++x)if(_[x].containsElement(y))return _[x];return null},removeHighlights:function(y){for(var _=0,x=this.highlights.length,S;_<x;++_)S=this.highlights[_],o(y,S)&&(S.unapply(),this.highlights.splice(_--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(y){var _=[],x=this.highlights;return u(y,function(S){u(x,function(M){S.intersectsRange(M.getRange())&&!o(_,M)&&_.push(M)})}),_},highlightCharacterRanges:function(y,_,x){var S,M,V,Z=this.highlights,pe=this.converter,ge=this.doc,we=[],ee=y?this.classAppliers[y]:null;x=l(x,{containerElementId:null,exclusive:!0});var Le=x.containerElementId;x.exclusive;var je,E,C;Le&&(je=this.doc.getElementById(Le),je&&(E=r.createRange(this.doc),E.selectNodeContents(je),C=new h(0,E.toString().length)));var k,L,z,K;for(S=0,M=_.length;S<M;++S)if(k=_[S],K=[],C&&(k=k.intersection(C)),k.start!=k.end){for(V=0;V<Z.length;++V)z=!1,z?(we.push(Z[V]),Z[V]=new b(ge,L.union(k),ee,pe,null,Le)):K.push(Z[V]);ee&&K.push(new b(ge,k,ee,pe,null,Le)),this.highlights=Z=K}u(we,function(ie){ie.unapply()});var ae=[];return u(Z,function(ie){ie.applied||(ie.apply(),ae.push(ie))}),ae},highlightRanges:function(y,_,x){var S=[],M=this.converter;x=l(x,{containerElement:null,exclusive:!0});var V=x.containerElement,Z=V?V.id:null,pe;return V&&(pe=r.createRange(V),pe.selectNodeContents(V)),u(_,function(ge){var we=V?pe.intersection(ge):ge;S.push(M.rangeToCharacterRange(we,V||s(ge.getDocument())))}),this.highlightCharacterRanges(y,S,{containerElementId:Z,exclusive:x.exclusive})},highlightSelection:function(y,_){var x=this.converter,S=y?this.classAppliers[y]:!1;_=l(_,{containerElementId:null,selection:r.getSelection(this.doc),exclusive:!0});var M=_.containerElementId,V=_.exclusive,Z=_.selection,pe=Z.win.document,ge=d(pe,M);if(!S&&y!==!1)throw new Error("No class applier found for class '"+y+"'");var we=x.serializeSelection(Z,ge),ee=[];u(we,function(je){ee.push(h.fromCharacterRange(je.characterRange))});var Le=this.highlightCharacterRanges(y,ee,{containerElementId:M,exclusive:V});return x.restoreSelection(Z,we,ge),Le},unhighlightSelection:function(y){y=y||r.getSelection(this.doc);var _=this.getIntersectingHighlights(y.getAllRanges());return this.removeHighlights(_),y.removeAllRanges(),_},getHighlightsInSelection:function(y){return y=y||r.getSelection(this.doc),this.getIntersectingHighlights(y.getAllRanges())},selectionOverlapsHighlight:function(y){return this.getHighlightsInSelection(y).length>0},serialize:function(y){var _=this,x=_.highlights,S,M,V,Z;return x.sort(f),y=l(y,{serializeHighlightText:!1,type:_.converter.type}),S=y.type,V=S!=_.converter.type,V&&(Z=A(S)),M=["type:"+S],u(x,function(pe){var ge=pe.characterRange,we;V&&(we=pe.getContainerElement(),ge=Z.rangeToCharacterRange(_.converter.characterRangeToRange(_.doc,ge,we),we));var ee=[ge.start,ge.end,pe.id,pe.classApplier.className,pe.containerElementId];y.serializeHighlightText&&ee.push(pe.getText()),M.push(ee.join("$"))}),M.join("|")},deserialize:function(y){var _=y.split("|"),x=[],S=_[0],M,V,Z,pe=!1;if(S&&(M=/^type:(\w+)$/.exec(S)))V=M[1],V!=this.converter.type&&(Z=A(V),pe=!0),_.shift();else throw new Error("Serialized highlights are invalid.");for(var ge,we,ee,Le,je,E=_.length,C;E-- >0;){if(C=_[E].split("$"),ee=new h(+C[0],+C[1]),Le=C[4]||null,pe&&(je=d(this.doc,Le),ee=this.converter.rangeToCharacterRange(Z.characterRangeToRange(this.doc,ee,je),je)),ge=this.classAppliers[C[3]],!ge)throw new Error("No class applier found for class '"+C[3]+"'");we=new b(this.doc,ee,ge,this.converter,parseInt(C[2]),Le),we.apply(),x.push(we)}this.highlights=x}},r.Highlighter=m,r.createHighlighter=function(y,_){return new m(y,_)}}),n})})(fne);var dne={exports:{}};(function(e,t){(function(n,r){e.exports=n(mc.exports)})(function(n){return n.createModule("TextRange",["WrappedSelection"],function(r,i){var a="undefined",o="character",s="word",l=r.dom,u=r.util,c=u.extend,f=u.createOptions,d=l.getBody,p=/^[ \t\f\r\n]+$/,v=/^[ \t\f\r]+$/,w=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,A=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,h="en",g=r.Selection.isDirectionBackward,b=!1,m=!1,y=!0;(function(){let $={document,window};const U=[];try{const le=document.createElement("iframe");le.style.position="absolute",le.style.left="-10000px",document.body.appendChild(le),U.push(le);const Oe=le.contentWindow.document;Oe.open(),Oe.write("<html><head></head><body>12</body></html>"),Oe.close(),$={document:Oe,window:le.contentWindow}}catch{}if(!/Firefox\/[0-9]+/.test(navigator.userAgent)){var q=l.createTestElement($.document,"<p>1 </p><p></p>",!0);U.push(q);var te=q.firstChild,se=r.getSelection($.document);se.collapse(te.lastChild,2),se.setStart(te.firstChild,0),q.innerHTML="1 <br />",se.collapse(q,2),se.setStart(q.firstChild,0),b=(""+se).length==1,q.innerHTML="1 <p>1</p>",se.collapse(q,2),se.setStart(q.firstChild,0),m=(""+se).length==1}for(const le of U)try{l.removeNode(le)}catch{}})();function _($,U){var q=$.join(""),te,se=[];function le(F,he,Se){se.push({start:F,end:he,isWord:Se})}for(var Oe=0,Pe,ke;te=U.wordRegex.exec(q);){if(Pe=te.index,ke=Pe+te[0].length,Pe>Oe&&le(Oe,Pe,!1),U.includeTrailingSpace)for(;A.test($[ke]);)++ke;le(Pe,ke,!0),Oe=ke}return Oe<$.length&&le(Oe,$.length,!1),se}function x($,U){for(var q=$.slice(U.start,U.end),te={isWord:U.isWord,chars:q,toString:function(){return q.join("")}},se=0,le=q.length;se<le;++se)q[se].token=te;return te}function S($,U,q){for(var te=q($,U),se=[],le=0,Oe;Oe=te[le++];)se.push(x($,Oe));return se}var M={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""};function V($){var U=$||"",q=typeof U=="string"?U.split(""):U;return q.sort(function(te,se){return te.charCodeAt(0)-se.charCodeAt(0)}),q.join("").replace(/(.)\1+/g,"$1")}var Z={includeBlockContentTrailingSpace:!y,includeSpaceBeforeBr:!b,includeSpaceBeforeBlock:!m,includePreLineTrailingSpace:!0},pe={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:_}},ge={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},we={wordOptions:null,characterOptions:null},ee={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Le={wordOptions:null,characterOptions:null,direction:"forward"};function je($){var U,q;return $?(U=$.language||h,q={},c(q,pe[U]||pe[h]),c(q,$),q):pe[h]}function E($,U){var q=f($,U);return U.hasOwnProperty("wordOptions")&&(q.wordOptions=je(q.wordOptions)),U.hasOwnProperty("characterOptions")&&(q.characterOptions=f(q.characterOptions,M)),q}var C=l.getComputedStyleProperty,k;(function(){var $=document.createElement("table"),U=d(document);U.appendChild($),k=C($,"display")=="block",U.removeChild($)})();var L={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function z($,U){var q=C($,"display",U),te=$.tagName.toLowerCase();return q=="block"&&k&&L.hasOwnProperty(te)?L[te]:q}function K($){for(var U=J($),q=0,te=U.length;q<te;++q)if(U[q].nodeType==1&&z(U[q])=="none")return!0;return!1}function ae($){var U;return $.nodeType==3&&(U=$.parentNode)&&C(U,"visibility")=="hidden"}function ie($){return $&&($.nodeType==1&&!/^(inline(-block|-table)?|none)$/.test(z($))||$.nodeType==9||$.nodeType==11)}function O($){return l.isCharacterDataNode($)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test($.nodeName)}function H($){for(var U=[];$.parentNode;)U.unshift($.parentNode),$=$.parentNode;return U}function J($){return H($).concat([$])}function ve($){for(;$&&!$.nextSibling;)$=$.parentNode;return $?$.nextSibling:null}function _e($,U){return!U&&$.hasChildNodes()?$.firstChild:ve($)}function Ee($){var U=$.previousSibling;if(U){for($=U;$.hasChildNodes();)$=$.lastChild;return $}var q=$.parentNode;return q&&q.nodeType==1?q:null}function Re($){if(!$||$.nodeType!=3)return!1;var U=$.data;if(U==="")return!0;var q=$.parentNode;if(!q||q.nodeType!=1)return!1;var te=C($.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(U)&&/^(normal|nowrap)$/.test(te)||/^[\t\r ]+$/.test(U)&&te=="pre-line"}function Ke($){if($.data==="")return!0;if(!Re($))return!1;var U=$.parentNode;return!!(!U||K($))}function lt($){var U=$.nodeType;return U==7||U==8||K($)||/^(script|style)$/i.test($.nodeName)||ae($)||Ke($)}function ft($,U){var q=$.nodeType;return q==7||q==8||q==1&&z($,U)=="none"}function tt(){this.store={}}tt.prototype={get:function($){return this.store.hasOwnProperty($)?this.store[$]:null},set:function($,U){return this.store[$]=U}};function it($,U,q){return function(te){var se=this.cache;if(se.hasOwnProperty($))return se[$];var le=U.call(this,q?this[q]:this,te);return se[$]=le,le}}function yt($,U){this.node=$,this.session=U,this.cache=new tt,this.positions=new tt}var N={getPosition:function($){var U=this.positions;return U.get($)||U.set($,new at(this,$))},toString:function(){return"[NodeWrapper("+l.inspectNode(this.node)+")]"}};yt.prototype=N;var j="EMPTY",W="NON_SPACE",ce="UNCOLLAPSIBLE_SPACE",G="COLLAPSIBLE_SPACE",be="TRAILING_SPACE_BEFORE_BLOCK",fe="TRAILING_SPACE_IN_BLOCK",de="TRAILING_SPACE_BEFORE_BR",Ce="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",De="TRAILING_LINE_BREAK_AFTER_BR",Me="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";c(N,{isCharacterDataNode:it("isCharacterDataNode",l.isCharacterDataNode,"node"),getNodeIndex:it("nodeIndex",l.getNodeIndex,"node"),getLength:it("nodeLength",l.getNodeLength,"node"),containsPositions:it("containsPositions",O,"node"),isWhitespace:it("isWhitespace",Re,"node"),isCollapsedWhitespace:it("isCollapsedWhitespace",Ke,"node"),getComputedDisplay:it("computedDisplay",z,"node"),isCollapsed:it("collapsed",lt,"node"),isIgnored:it("ignored",ft,"node"),next:it("nextPos",_e,"node"),previous:it("previous",Ee,"node"),getTextNodeInfo:it("textNodeInfo",function($){var U=null,q=!1,te=C($.parentNode,"whiteSpace"),se=te=="pre-line";return se?(U=v,q=!0):(te=="normal"||te=="nowrap")&&(U=p,q=!0),{node:$,text:$.data,spaceRegex:U,collapseSpaces:q,preLine:se}},"node"),hasInnerText:it("hasInnerText",function($,U){for(var q=this.session,te=q.getPosition($.parentNode,this.getNodeIndex()+1),se=q.getPosition($,0),le=U?te:se,Oe=U?se:te;le!==Oe;){if(le.prepopulateChar(),le.isDefinitelyNonEmpty())return!0;le=U?le.previousVisible():le.nextVisible()}return!1},"node"),isRenderedBlock:it("isRenderedBlock",function($){for(var U=$.getElementsByTagName("br"),q=0,te=U.length;q<te;++q)if(!lt(U[q]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:it("trailingSpace",function($){if($.tagName.toLowerCase()=="br")return"";switch(this.getComputedDisplay()){case"inline":for(var U=$.lastChild;U;){if(!ft(U))return U.nodeType==1?this.session.getNodeWrapper(U).getTrailingSpace():"";U=U.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"	";default:return this.isRenderedBlock(!0)?`
`:""}return""},"node"),getLeadingSpace:it("leadingSpace",function($){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?`
`:""}return""},"node")});function at($,U){this.offset=U,this.nodeWrapper=$,this.node=$.node,this.session=$.session,this.cache=new tt}function We(){return"[Position("+l.inspectNode(this.node)+":"+this.offset+")]"}var $e={character:"",characterType:j,isBr:!1,prepopulateChar:function(){var $=this;if(!$.prepopulatedChar){var U=$.node,q=$.offset,te="",se=j,le=!1;if(q>0)if(U.nodeType==3){var Oe=U.data,Pe=Oe.charAt(q-1),ke=$.nodeWrapper.getTextNodeInfo(),F=ke.spaceRegex;ke.collapseSpaces?F.test(Pe)?q>1&&F.test(Oe.charAt(q-2))||(ke.preLine&&Oe.charAt(q)===`
`?(te=" ",se=Ce):(te=" ",se=G)):(te=Pe,se=W,le=!0):(te=Pe,se=ce,le=!0)}else{var he=U.childNodes[q-1];if(he&&he.nodeType==1&&!lt(he)&&(he.tagName.toLowerCase()=="br"?(te=`
`,$.isBr=!0,se=G,le=!1):$.checkForTrailingSpace=!0),!te){var Se=U.childNodes[q];Se&&Se.nodeType==1&&!lt(Se)&&($.checkForLeadingSpace=!0)}}$.prepopulatedChar=!0,$.character=te,$.characterType=se,$.isCharInvariant=le}},isDefinitelyNonEmpty:function(){var $=this.characterType;return $==W||$==ce},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var $=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();$&&(this.isTrailingSpace=!0,this.character=$,this.characterType=G),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var U=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();U&&(this.isLeadingSpace=!0,this.character=U,this.characterType=G),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function($){for(var U=this,q;U=U.previousVisible();)if(q=U.getCharacter($),q!=="")return U;return null},getCharacter:function($){this.resolveLeadingAndTrailingSpaces();var U=this.character,q,te=V($.ignoreCharacters),se=U!==""&&te.indexOf(U)>-1;if(this.isCharInvariant)return q=se?"":U,q;var le=["character",$.includeSpaceBeforeBr,$.includeBlockContentTrailingSpace,$.includePreLineTrailingSpace,te].join("_"),Oe=this.cache.get(le);if(Oe!==null)return Oe;var Pe="",ke=this.characterType==G,F,he,Se=!1,nt=this;function mt(){return Se||(he=nt.getPrecedingUncollapsedPosition($),Se=!0),he}return ke&&(this.type==Me?Pe=`
`:U==" "&&(!mt()||he.isTrailingSpace||he.character==`
`||he.character==" "&&he.characterType==G)||(U==`
`&&this.isLeadingSpace?mt()&&he.character!=`
`&&(Pe=`
`):(F=this.nextUncollapsed(),F&&(F.isBr?this.type=de:F.isTrailingSpace&&F.character==`
`?this.type=fe:F.isLeadingSpace&&F.character==`
`&&(this.type=be),F.character==`
`?this.type==de&&!$.includeSpaceBeforeBr||this.type==be&&!$.includeSpaceBeforeBlock||this.type==fe&&F.isTrailingSpace&&!$.includeBlockContentTrailingSpace||this.type==Ce&&F.type==W&&!$.includePreLineTrailingSpace||(U==`
`?F.isTrailingSpace?this.isTrailingSpace||this.isBr&&(F.type=De,mt()&&he.isLeadingSpace&&!he.isTrailingSpace&&he.character==`
`?F.character="":F.type=Me):Pe=`
`:U==" "&&(Pe=" ")):Pe=U)))),te.indexOf(Pe)>-1&&(Pe=""),this.cache.set(le,Pe),Pe},equals:function($){return!!$&&this.node===$.node&&this.offset===$.offset},inspect:We,toString:function(){return this.character}};at.prototype=$e,c($e,{next:it("nextPos",function($){var U=$.nodeWrapper,q=$.node,te=$.offset,se=U.session;if(!q)return null;var le,Oe,Pe;return te==U.getLength()?(le=q.parentNode,Oe=le?U.getNodeIndex()+1:0):U.isCharacterDataNode()?(le=q,Oe=te+1):(Pe=q.childNodes[te],se.getNodeWrapper(Pe).containsPositions()?(le=Pe,Oe=0):(le=q,Oe=te+1)),le?se.getPosition(le,Oe):null}),previous:it("previous",function($){var U=$.nodeWrapper,q=$.node,te=$.offset,se=U.session,le,Oe,Pe;return te==0?(le=q.parentNode,Oe=le?U.getNodeIndex():0):U.isCharacterDataNode()?(le=q,Oe=te-1):(Pe=q.childNodes[te-1],se.getNodeWrapper(Pe).containsPositions()?(le=Pe,Oe=l.getNodeLength(Pe)):(le=q,Oe=te-1)),le?se.getPosition(le,Oe):null}),nextVisible:it("nextVisible",function($){var U=$.next();if(!U)return null;var q=U.nodeWrapper,te=U.node,se=U;return q.isCollapsed()&&(se=q.session.getPosition(te.parentNode,q.getNodeIndex()+1)),se}),nextUncollapsed:it("nextUncollapsed",function($){for(var U=$;U=U.nextVisible();)if(U.resolveLeadingAndTrailingSpaces(),U.character!=="")return U;return null}),previousVisible:it("previousVisible",function($){var U=$.previous();if(!U)return null;var q=U.nodeWrapper,te=U.node,se=U;return q.isCollapsed()&&(se=q.session.getPosition(te.parentNode,q.getNodeIndex())),se})});var ht=null,X=function(){function $(te){var se=new tt;return{get:function(le){var Oe=se.get(le[te]);if(Oe){for(var Pe=0,ke;ke=Oe[Pe++];)if(ke.node===le)return ke}return null},set:function(le){var Oe=le.node[te],Pe=se.get(Oe)||se.set(Oe,[]);Pe.push(le)}}}var U=u.isHostProperty(document.documentElement,"uniqueID");function q(){this.initCaches()}return q.prototype={initCaches:function(){this.elementCache=U?function(){var te=new tt;return{get:function(se){return te.get(se.uniqueID)},set:function(se){te.set(se.node.uniqueID,se)}}}():$("tagName"),this.textNodeCache=$("data"),this.otherNodeCache=$("nodeName")},getNodeWrapper:function(te){var se;switch(te.nodeType){case 1:se=this.elementCache;break;case 3:se=this.textNodeCache;break;default:se=this.otherNodeCache;break}var le=se.get(te);return le||(le=new yt(te,this),se.set(le)),le},getPosition:function(te,se){return this.getNodeWrapper(te).getPosition(se)},getRangeBoundaryPosition:function(te,se){var le=se?"start":"end";return this.getPosition(te[le+"Container"],te[le+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},q}();function me(){return Qe(),ht=new X}function Be(){return ht||me()}function Qe(){ht&&ht.detach(),ht=null}c(l,{nextNode:_e,previousNode:Ee});function Je($,U,q,te){q&&(U?lt(q.node)&&(q=$.previousVisible()):lt(q.node)&&(q=q.nextVisible()));var se=$,le=!1;function Oe(){var F=null;return U?(F=se,le||(se=se.previousVisible(),le=!se||q&&se.equals(q))):le||(F=se=se.nextVisible(),le=!se||q&&se.equals(q)),le&&(se=null),F}var Pe,ke=!1;return{next:function(){if(ke)return ke=!1,Pe;for(var F,he;F=Oe();)if(he=F.getCharacter(te),he)return Pe=F,F;return null},rewind:function(){if(Pe)ke=!0;else throw i.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.")},dispose:function(){$=q=null}}}var Rt=Array.prototype.indexOf?function($,U){return $.indexOf(U)}:function($,U){for(var q=0,te=$.length;q<te;++q)if($[q]===U)return q;return-1};function bt($,U,q){var te=Je($,!1,null,U),se=Je($,!0,null,U),le=q.tokenizer;function Oe(nt){for(var mt,Nt,It=[],Xt=nt?te:se,On=!1,D=!1;mt=Xt.next();){if(Nt=mt.character,w.test(Nt))D&&(D=!1,On=!0);else if(On){Xt.rewind();break}else D=!0;It.push(mt)}return It}var Pe=Oe(!0),ke=Oe(!1).reverse(),F=S(ke.concat(Pe),q,le),he=Pe.length?F.slice(Rt(F,Pe[0].token)):[],Se=ke.length?F.slice(0,Rt(F,ke.pop().token)+1):[];return{nextEndToken:function(){for(var nt,mt;he.length==1&&!(nt=he[0]).isWord&&(mt=Oe(!0)).length>0;)he=S(nt.chars.concat(mt),q,le);return he.shift()},previousStartToken:function(){for(var nt,mt;Se.length==1&&!(nt=Se[0]).isWord&&(mt=Oe(!1)).length>0;)Se=S(mt.reverse().concat(nt.chars),q,le);return Se.pop()},dispose:function(){te.dispose(),se.dispose(),he=Se=null}}}function Tt($,U,q,te,se){var le=0,Oe,Pe=$,ke,F,he=Math.abs(q),Se;if(q!==0){var nt=q<0;switch(U){case o:for(ke=Je($,nt,null,te);(Oe=ke.next())&&le<he;)++le,Pe=Oe;F=Oe,ke.dispose();break;case s:for(var mt=bt($,te,se),Nt=nt?mt.previousStartToken:mt.nextEndToken;(Se=Nt())&&le<he;)Se.isWord&&(++le,Pe=nt?Se.chars[0]:Se.chars[Se.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+U+"' not implemented")}nt?(Pe=Pe.previousVisible(),le=-le):Pe&&Pe.isLeadingSpace&&!Pe.isTrailingSpace&&(U==s&&(ke=Je($,!1,null,te),F=ke.next(),ke.dispose()),F&&(Pe=F.previousVisible()))}return{position:Pe,unitsMoved:le}}function sn($,U,q,te){var se=$.getRangeBoundaryPosition(U,!0),le=$.getRangeBoundaryPosition(U,!1),Oe=te?le:se,Pe=te?se:le;return Je(Oe,!!te,Pe,q)}function At($,U,q){for(var te=[],se=sn($,U,q),le;le=se.next();)te.push(le);return se.dispose(),te}function ln($,U,q){var te=r.createRange($.node);return te.setStartAndEnd($.node,$.offset,U.node,U.offset),!te.expand("word",{wordOptions:q})}function ue($,U,q,te,se){var le=g(se.direction),Oe=Je($,le,$.session.getRangeBoundaryPosition(te,le),se.characterOptions),Pe="",ke=[],F,he,Se,nt,mt,Nt,It=null;function Xt(On,D){var ne=ke[On].previousVisible(),Te=ke[D-1],Ze=!se.wholeWordsOnly||ln(ne,Te,se.wordOptions);return{startPos:ne,endPos:Te,valid:Ze}}for(;F=Oe.next();)if(he=F.character,!q&&!se.caseSensitive&&(he=he.toLowerCase()),le?(ke.unshift(F),Pe=he+Pe):(ke.push(F),Pe+=he),q){if(mt=U.exec(Pe),mt)if(Se=mt.index,nt=Se+mt[0].length,Nt){if(!le&&nt<Pe.length||le&&Se>0){It=Xt(Se,nt);break}}else Nt=!0}else if((Se=Pe.indexOf(U))!=-1){It=Xt(Se,Se+U.length);break}return Nt&&(It=Xt(Se,nt)),Oe.dispose(),It}function xe($){return function(){var U=!!ht,q=Be(),te=[q].concat(u.toArray(arguments)),se=$.apply(this,te);return U||Qe(),se}}function dt($,U){return xe(function(q,te,se,le){typeof se==a&&(se=te,te=o),le=E(le,we);var Oe=$;U&&(Oe=se>=0,this.collapse(!Oe));var Pe=Tt(q.getRangeBoundaryPosition(this,Oe),te,se,le.characterOptions,le.wordOptions),ke=Pe.position;return this[Oe?"setStart":"setEnd"](ke.node,ke.offset),Pe.unitsMoved})}function ot($){return xe(function(U,q){q=f(q,M);for(var te,se=sn(U,this,q,!$),le=0;(te=se.next())&&w.test(te.character);)++le;se.dispose();var Oe=le>0;return Oe&&this[$?"moveStart":"moveEnd"]("character",$?le:-le,{characterOptions:q}),Oe})}c(r.rangePrototype,{moveStart:dt(!0,!1),moveEnd:dt(!1,!1),move:dt(!0,!0),trimStart:ot(!0),trimEnd:ot(!1),trim:xe(function($,U){var q=this.trimStart(U),te=this.trimEnd(U);return q||te}),expand:xe(function($,U,q){var te=!1;q=E(q,ee);var se=q.characterOptions;if(U||(U=o),U==s){var le=q.wordOptions,Oe=$.getRangeBoundaryPosition(this,!0),Pe=$.getRangeBoundaryPosition(this,!1),ke=bt(Oe,se,le),F=ke.nextEndToken(),he=F.chars[0].previousVisible(),Se,nt;if(this.collapsed)Se=F;else{var mt=bt(Pe,se,le);Se=mt.previousStartToken()}return nt=Se.chars[Se.chars.length-1],he.equals(Oe)||(this.setStart(he.node,he.offset),te=!0),nt&&!nt.equals(Pe)&&(this.setEnd(nt.node,nt.offset),te=!0),q.trim&&(q.trimStart&&(te=this.trimStart(se)||te),q.trimEnd&&(te=this.trimEnd(se)||te)),te}else return this.moveEnd(o,1,q)}),text:xe(function($,U){return this.collapsed?"":At($,this,f(U,M)).join("")}),selectCharacters:xe(function($,U,q,te,se){var le={characterOptions:se};U||(U=d(this.getDocument())),this.selectNodeContents(U),this.collapse(!0),this.moveStart("character",q,le),this.collapse(!0),this.moveEnd("character",te-q,le)}),toCharacterRange:xe(function($,U,q){U||(U=d(this.getDocument()));var te=U.parentNode,se=l.getNodeIndex(U),le=l.comparePoints(this.startContainer,this.endContainer,te,se)==-1,Oe=this.cloneRange(),Pe,ke;return le?(Oe.setStartAndEnd(this.startContainer,this.startOffset,te,se),Pe=-Oe.text(q).length):(Oe.setStartAndEnd(te,se,this.startContainer,this.startOffset),Pe=Oe.text(q).length),ke=Pe+this.text(q).length,{start:Pe,end:ke}}),findText:xe(function($,U,q){q=E(q,ge),q.wholeWordsOnly&&(q.wordOptions.includeTrailingSpace=!1);var te=g(q.direction),se=q.withinRange;se||(se=r.createRange(),se.selectNodeContents(this.getDocument()));var le=U,Oe=!1;typeof le=="string"?q.caseSensitive||(le=le.toLowerCase()):Oe=!0;var Pe=$.getRangeBoundaryPosition(this,!te),ke=se.comparePoint(Pe.node,Pe.offset);ke===-1?Pe=$.getRangeBoundaryPosition(se,!0):ke===1&&(Pe=$.getRangeBoundaryPosition(se,!1));for(var F=Pe,he=!1,Se;;)if(Se=ue(F,le,Oe,se,q),Se){if(Se.valid)return this.setStartAndEnd(Se.startPos.node,Se.startPos.offset,Se.endPos.node,Se.endPos.offset),!0;F=te?Se.startPos:Se.endPos}else if(q.wrap&&!he)se=se.cloneRange(),F=$.getRangeBoundaryPosition(se,!te),se.setBoundary(Pe.node,Pe.offset,te),he=!0;else return!1}),pasteHtml:function($){if(this.deleteContents(),$){var U=this.createContextualFragment($),q=U.lastChild;this.insertNode(U),this.collapseAfter(q)}}});function Et($){return xe(function(U,q){var te=!1;return this.changeEachRange(function(se){te=se[$](q)||te}),te})}c(r.selectionPrototype,{expand:xe(function($,U,q){this.changeEachRange(function(te){te.expand(U,q)})}),move:xe(function($,U,q,te){var se=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var le=this.getRangeAt(0);te||(te={}),te.characterOptions=f(te.characterOptions,Z),se=le.move(U,q,te),this.setSingleRange(le)}return se}),trimStart:Et("trimStart"),trimEnd:Et("trimEnd"),trim:Et("trim"),selectCharacters:xe(function($,U,q,te,se,le){var Oe=r.createRange(U);Oe.selectCharacters(U,q,te,le),this.setSingleRange(Oe,se)}),saveCharacterRanges:xe(function($,U,q){for(var te=this.getAllRanges(),se=te.length,le=[],Oe=se==1&&this.isBackward(),Pe=0,ke=te.length;Pe<ke;++Pe)le[Pe]={characterRange:te[Pe].toCharacterRange(U,q),backward:Oe,characterOptions:q};return le}),restoreCharacterRanges:xe(function($,U,q){this.removeAllRanges();for(var te=0,se=q.length,le,Oe,Pe;te<se;++te)Oe=q[te],Pe=Oe.characterRange,le=r.createRange(U),le.selectCharacters(U,Pe.start,Pe.end,Oe.characterOptions),this.addRange(le,Oe.backward)}),text:xe(function($,U){for(var q=[],te=0,se=this.rangeCount;te<se;++te)q[te]=this.getRangeAt(te).text(U);return q.join("")})}),r.innerText=function($,U){var q=r.createRange($);q.selectNodeContents($);var te=q.text(U);return te},r.createWordIterator=function($,U,q){var te=Be();q=E(q,Le);var se=te.getPosition($,U),le=bt(se,q.characterOptions,q.wordOptions),Oe=g(q.direction);return{next:function(){return Oe?le.previousStartToken():le.nextEndToken()},dispose:function(){le.dispose(),this.next=function(){}}}},r.noMutation=function($){var U=Be();$(U),Qe()},r.noMutation.createEntryPointFunction=xe,r.textRange={isBlockNode:ie,isCollapsedWhitespaceNode:Ke,createPosition:xe(function($,U,q){return $.getPosition(U,q)})}}),n})})(dne);const hne=(...e)=>new gn.dom.DomPosition(...e);var Bo=e=>{if("toHtml"in e)return e;const t=gn.createRange();return t.setStartAndEnd(e.startContainer,e.startOffset,e.endContainer,e.endOffset),t},pne=(e,t)=>Bo(e).intersection(Bo(t));const gne=Symbol("null");let mne=0;var vne=class extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[n,r]of t)this.set(n,r)}}_getPublicKeys(t,n=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(t,n);let i;return r&&this._publicKeys.has(r)?i=this._publicKeys.get(r):n&&(i=[...t],this._publicKeys.set(r,i)),{privateKey:r,publicKey:i}}_getPrivateKey(t,n=!1){const r=[];for(let i of t){i===null&&(i=gne);const a=typeof i=="object"||typeof i=="function"?"_objectHashes":typeof i=="symbol"?"_symbolHashes":!1;if(!a)r.push(i);else if(this[a].has(i))r.push(this[a].get(i));else if(n){const o=`@@mkm-ref-${mne++}@@`;this[a].set(i,o),r.push(o)}else return!1}return JSON.stringify(r)}set(t,n){const{publicKey:r}=this._getPublicKeys(t,!0);return super.set(r,n)}get(t){const{publicKey:n}=this._getPublicKeys(t);return super.get(n)}has(t){const{publicKey:n}=this._getPublicKeys(t);return super.has(n)}delete(t){const{publicKey:n,privateKey:r}=this._getPublicKeys(t);return Boolean(n&&super.delete(n)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}},yne=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};const wne=vne,bne=yne,Nw=new wne,_ne=e=>["interactive","complete"].includes((e.ownerDocument||e).readyState);var Ow=(e,{target:t=document,stopOnDomReady:n=!0,waitForChildren:r=!0,timeout:i=1/0}={})=>{const a=[e,n,i,r,t],o=Nw.get(a);if(o)return o;let s;const l=bne(),{promise:u}=l;Nw.set(a,u);const c=f=>{cancelAnimationFrame(s),Nw.delete(a,u),l.resolve(f)};return i!==1/0&&setTimeout(c,i),function f(){const d=t.querySelector(e);if(_ne(t)&&(n||d)){c(d||void 0);return}let p=d;for(;p;){if(!r||p.nextSibling){c(d);return}p=p.parentElement}s=requestAnimationFrame(f)}(),Object.assign(u,{stop:()=>c()})},Sne=async(e,t)=>{if(typeof e!="string")throw new Error("Code must be a string");await Ow("head");const n=document.createElement("script");n.type="text/javascript",n.textContent=t?`(async function() { ${e} })()`:e,document.head.appendChild(n)};const Ene=async(e,t,n={})=>{customElements!=null&&customElements.get(e)||await Sne(`class ReadwiseElement extends HTMLElement {
      constructor() {
        super();

        [...this.children].forEach((child) => this.appendChild(child));
      }
    }

    try {
      customElements.define(
        "${e}",
        ${t},
        ${JSON.stringify(n)},
      );
    } catch (e) {
      if(!e.message.includes("already been defined")
        && !e.message.includes("already been used with this registry")) {
        console.error("Failed to define custom element", e);
        throw e;
      }
    }`,!0)};var fR=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};async function dR(e,t){let n=-1,r=e.length;for(;1+n<r;){const i=n+(r-n>>1);await t(e[i])?r=i:n=i}return e[r]}const hR=(e,t)=>{if(!!t(e)){for(const n of Array.from(e.childNodes)){const r=hR(n,t);if(r)return r}return e}},pR=e=>e.length<85e3,Ih=e=>pR(e.toString());async function gR({containerNode:e,logPrefix:t="",text:n}){const r=n.trim(),i=()=>gn.createRange(e.ownerDocument);if(!pR(r))return Fe.warn(`${t}skipping text search, the highlight text is too long`),null;const a=i(),o=i();if(o.selectNodeContents(e),Ih(o))a.selectNodeContents(e);else{const u=fR(r).replace(/\n+/g,"\\s+"),c=d=>Boolean(d==null?void 0:d.match(u)),f=hR(e,d=>fa(d)?c(d.innerText):!1);if(!f)throw new Error("Can't find text (using indexOf)");if(a.selectNodeContents(f),!Ih(a)){const d=Array.from(f.children),p=await dR(d,async v=>{const w=a.cloneRange();return w.setStartAfter(v),c(w.toString())});if(p){a.setStartAfter(p);const v=Array.from(f.children).indexOf(p);v>0&&d.splice(0,v-1)}if(!Ih(a)){const v=await dR(d,async w=>{const A=a.cloneRange();return A.setEndAfter(w),c(A.toString())});if(v&&a.setEndAfter(v),!Ih(a))return Fe.warn(`${t}skipping text search, we can't narrow down DOM enough`),null}}}const s=i(),l=new RegExp(fR(r).replace(/(\s{2,}|\n)/g,"\\s+").replace(/(\.)([A-Z])/g,(u,c,f)=>`${c}\\s*?${f}`),"gm");if(s.findText(l,{withinRange:a}))return s;throw new Error("Can't find text")}function Dh({direction:e,element:t,matcher:n=()=>!0,shouldStopOnFirstFailedMatch:r,shouldIncludeNonElements:i}){const a=[];let o=null;const s=`${e}${i?"":"Element"}Sibling`;let l=t[s];for(;l;){if(n(l))a.push(l);else if(!o&&(o=l,r))break;l=l[s]}return{firstFailedMatch:o,siblings:a}}function xne({container:e,end:t,start:n}){const r=n.compareDocumentPosition(t);if(r===Node.DOCUMENT_POSITION_DISCONNECTED)throw new Error("start and end are in different documents");if(r===Node.DOCUMENT_POSITION_PRECEDING)throw new Error("end is before start");if(!e.contains(n))throw new Error("start is not in container");if(!e.contains(t))throw new Error("end is not in container");if([Node.DOCUMENT_POSITION_CONTAINED_BY,Node.DOCUMENT_POSITION_CONTAINS].includes(r)||n.contains(t)||t.contains(n))return[];const i=[];let a=n,o;for(;a&&!a.isEqualNode(e)&&e.contains(a);){const s=Dh({direction:"next",element:a,matcher:l=>!l.contains(t),shouldStopOnFirstFailedMatch:!0});if(i.push(...s.siblings),s.firstFailedMatch){o=s.firstFailedMatch;break}a=a.parentElement}if(o&&!o.isEqualNode(t))for(a=o.firstElementChild;a&&!a.isEqualNode(e)&&e.contains(a)&&!a.isEqualNode(t);){i.push(a);const s=Dh({direction:"next",element:a,matcher:l=>!l.contains(t),shouldStopOnFirstFailedMatch:!0});if(i.push(...s.siblings),s.firstFailedMatch)a=s.firstFailedMatch.firstElementChild;else break}return i}var kne=()=>{window.getSelection().removeAllRanges()};/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */function Tne(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var Ane=Object.hasOwnProperty,mR=Object.setPrototypeOf,Cne=Object.isFrozen,Rne=Object.getPrototypeOf,Nne=Object.getOwnPropertyDescriptor,rr=Object.freeze,na=Object.seal,One=Object.create,vR=typeof Reflect!="undefined"&&Reflect,Ph=vR.apply,Iw=vR.construct;Ph||(Ph=function(t,n,r){return t.apply(n,r)}),rr||(rr=function(t){return t}),na||(na=function(t){return t}),Iw||(Iw=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(Tne(n))))});var Ine=wi(Array.prototype.forEach),yR=wi(Array.prototype.pop),vc=wi(Array.prototype.push),Lh=wi(String.prototype.toLowerCase),wR=wi(String.prototype.match),Ba=wi(String.prototype.replace),Dne=wi(String.prototype.indexOf),Pne=wi(String.prototype.trim),Lr=wi(RegExp.prototype.test),bR=Lne(TypeError);function wi(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ph(e,t,r)}}function Lne(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Iw(e,n)}}function xt(e,t){mR&&mR(e,null);for(var n=t.length;n--;){var r=t[n];if(typeof r=="string"){var i=Lh(r);i!==r&&(Cne(t)||(t[n]=i),r=i)}e[r]=!0}return e}function Uo(e){var t=One(null),n=void 0;for(n in e)Ph(Ane,e,[n])&&(t[n]=e[n]);return t}function $h(e,t){for(;e!==null;){var n=Nne(e,t);if(n){if(n.get)return wi(n.get);if(typeof n.value=="function")return wi(n.value)}e=Rne(e)}function r(i){return console.warn("fallback value for",i),null}return r}var _R=rr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dw=rr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pw=rr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$ne=rr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lw=rr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Fne=rr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),SR=rr(["#text"]),ER=rr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$w=rr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xR=rr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fh=rr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jne=na(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Mne=na(/<%[\s\S]*|[\s\S]*%>/gm),zne=na(/^data-[\-\w.\u00B7-\uFFFF]/),Bne=na(/^aria-[\-\w]+$/),Une=na(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hne=na(/^(?:\w+script|data):/i),qne=na(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Pi(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var Wne=function(){return typeof window=="undefined"?null:window},Vne=function(t,n){if((typeof t=="undefined"?"undefined":yc(t))!=="object"||typeof t.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function kR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wne(),t=function(F){return kR(F)};if(t.version="2.3.4",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,o=e.Node,s=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,c=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,f=e.HTMLFormElement,d=e.DOMParser,p=e.trustedTypes,v=s.prototype,w=$h(v,"cloneNode"),A=$h(v,"nextSibling"),h=$h(v,"childNodes"),g=$h(v,"parentNode");if(typeof a=="function"){var b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}var m=Vne(p,n),y=m&&it?m.createHTML(""):"",_=r,x=_.implementation,S=_.createNodeIterator,M=_.createDocumentFragment,V=_.getElementsByTagName,Z=n.importNode,pe={};try{pe=Uo(r).documentMode?r.documentMode:{}}catch{}var ge={};t.isSupported=typeof g=="function"&&x&&typeof x.createHTMLDocument!="undefined"&&pe!==9;var we=jne,ee=Mne,Le=zne,je=Bne,E=Hne,C=qne,k=Une,L=null,z=xt({},[].concat(Pi(_R),Pi(Dw),Pi(Pw),Pi(Lw),Pi(SR))),K=null,ae=xt({},[].concat(Pi(ER),Pi($w),Pi(xR),Pi(Fh))),ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),O=null,H=null,J=!0,ve=!0,_e=!1,Ee=!1,Re=!1,Ke=!1,lt=!1,ft=!1,tt=!1,it=!1,yt=!0,N=!0,j=!1,W={},ce=null,G=xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),be=null,fe=xt({},["audio","video","img","source","image","track"]),de=null,Ce=xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",We=at,$e=!1,ht=void 0,X=["application/xhtml+xml","text/html"],me="text/html",Be=void 0,Qe=null,Je=r.createElement("form"),Rt=function(F){return F instanceof RegExp||F instanceof Function},bt=function(F){Qe&&Qe===F||((!F||(typeof F=="undefined"?"undefined":yc(F))!=="object")&&(F={}),F=Uo(F),L="ALLOWED_TAGS"in F?xt({},F.ALLOWED_TAGS):z,K="ALLOWED_ATTR"in F?xt({},F.ALLOWED_ATTR):ae,de="ADD_URI_SAFE_ATTR"in F?xt(Uo(Ce),F.ADD_URI_SAFE_ATTR):Ce,be="ADD_DATA_URI_TAGS"in F?xt(Uo(fe),F.ADD_DATA_URI_TAGS):fe,ce="FORBID_CONTENTS"in F?xt({},F.FORBID_CONTENTS):G,O="FORBID_TAGS"in F?xt({},F.FORBID_TAGS):{},H="FORBID_ATTR"in F?xt({},F.FORBID_ATTR):{},W="USE_PROFILES"in F?F.USE_PROFILES:!1,J=F.ALLOW_ARIA_ATTR!==!1,ve=F.ALLOW_DATA_ATTR!==!1,_e=F.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=F.SAFE_FOR_TEMPLATES||!1,Re=F.WHOLE_DOCUMENT||!1,ft=F.RETURN_DOM||!1,tt=F.RETURN_DOM_FRAGMENT||!1,it=F.RETURN_TRUSTED_TYPE||!1,lt=F.FORCE_BODY||!1,yt=F.SANITIZE_DOM!==!1,N=F.KEEP_CONTENT!==!1,j=F.IN_PLACE||!1,k=F.ALLOWED_URI_REGEXP||k,We=F.NAMESPACE||at,F.CUSTOM_ELEMENT_HANDLING&&Rt(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Rt(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ht=X.indexOf(F.PARSER_MEDIA_TYPE)===-1?ht=me:ht=F.PARSER_MEDIA_TYPE,Be=ht==="application/xhtml+xml"?function(he){return he}:Lh,Ee&&(ve=!1),tt&&(ft=!0),W&&(L=xt({},[].concat(Pi(SR))),K=[],W.html===!0&&(xt(L,_R),xt(K,ER)),W.svg===!0&&(xt(L,Dw),xt(K,$w),xt(K,Fh)),W.svgFilters===!0&&(xt(L,Pw),xt(K,$w),xt(K,Fh)),W.mathMl===!0&&(xt(L,Lw),xt(K,xR),xt(K,Fh))),F.ADD_TAGS&&(L===z&&(L=Uo(L)),xt(L,F.ADD_TAGS)),F.ADD_ATTR&&(K===ae&&(K=Uo(K)),xt(K,F.ADD_ATTR)),F.ADD_URI_SAFE_ATTR&&xt(de,F.ADD_URI_SAFE_ATTR),F.FORBID_CONTENTS&&(ce===G&&(ce=Uo(ce)),xt(ce,F.FORBID_CONTENTS)),N&&(L["#text"]=!0),Re&&xt(L,["html","head","body"]),L.table&&(xt(L,["tbody"]),delete O.tbody),rr&&rr(F),Qe=F)},Tt=xt({},["mi","mo","mn","ms","mtext"]),sn=xt({},["foreignobject","desc","title","annotation-xml"]),At=xt({},Dw);xt(At,Pw),xt(At,$ne);var ln=xt({},Lw);xt(ln,Fne);var ue=function(F){var he=g(F);(!he||!he.tagName)&&(he={namespaceURI:at,tagName:"template"});var Se=Lh(F.tagName),nt=Lh(he.tagName);if(F.namespaceURI===Me)return he.namespaceURI===at?Se==="svg":he.namespaceURI===De?Se==="svg"&&(nt==="annotation-xml"||Tt[nt]):Boolean(At[Se]);if(F.namespaceURI===De)return he.namespaceURI===at?Se==="math":he.namespaceURI===Me?Se==="math"&&sn[nt]:Boolean(ln[Se]);if(F.namespaceURI===at){if(he.namespaceURI===Me&&!sn[nt]||he.namespaceURI===De&&!Tt[nt])return!1;var mt=xt({},["title","style","font","a","script"]);return!ln[Se]&&(mt[Se]||!At[Se])}return!1},xe=function(F){vc(t.removed,{element:F});try{F.parentNode.removeChild(F)}catch{try{F.outerHTML=y}catch{F.remove()}}},dt=function(F,he){try{vc(t.removed,{attribute:he.getAttributeNode(F),from:he})}catch{vc(t.removed,{attribute:null,from:he})}if(he.removeAttribute(F),F==="is"&&!K[F])if(ft||tt)try{xe(he)}catch{}else try{he.setAttribute(F,"")}catch{}},ot=function(F){var he=void 0,Se=void 0;if(lt)F="<remove></remove>"+F;else{var nt=wR(F,/^[\r\n\t ]+/);Se=nt&&nt[0]}ht==="application/xhtml+xml"&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");var mt=m?m.createHTML(F):F;if(We===at)try{he=new d().parseFromString(mt,ht)}catch{}if(!he||!he.documentElement){he=x.createDocument(We,"template",null);try{he.documentElement.innerHTML=$e?"":mt}catch{}}var Nt=he.body||he.documentElement;return F&&Se&&Nt.insertBefore(r.createTextNode(Se),Nt.childNodes[0]||null),We===at?V.call(he,Re?"html":"body")[0]:Re?he.documentElement:Nt},Et=function(F){return S.call(F.ownerDocument||F,F,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},$=function(F){return F instanceof f&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof c)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function")},U=function(F){return(typeof o=="undefined"?"undefined":yc(o))==="object"?F instanceof o:F&&(typeof F=="undefined"?"undefined":yc(F))==="object"&&typeof F.nodeType=="number"&&typeof F.nodeName=="string"},q=function(F,he,Se){!ge[F]||Ine(ge[F],function(nt){nt.call(t,he,Se,Qe)})},te=function(F){var he=void 0;if(q("beforeSanitizeElements",F,null),$(F)||wR(F.nodeName,/[\u0080-\uFFFF]/))return xe(F),!0;var Se=Be(F.nodeName);if(q("uponSanitizeElement",F,{tagName:Se,allowedTags:L}),!U(F.firstElementChild)&&(!U(F.content)||!U(F.content.firstElementChild))&&Lr(/<[/\w]/g,F.innerHTML)&&Lr(/<[/\w]/g,F.textContent)||Se==="select"&&Lr(/<template/i,F.innerHTML))return xe(F),!0;if(!L[Se]||O[Se]){if(N&&!ce[Se]){var nt=g(F)||F.parentNode,mt=h(F)||F.childNodes;if(mt&&nt)for(var Nt=mt.length,It=Nt-1;It>=0;--It)nt.insertBefore(w(mt[It],!0),A(F))}return!O[Se]&&le(Se)&&(ie.tagNameCheck instanceof RegExp&&Lr(ie.tagNameCheck,Se)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Se))?!1:(xe(F),!0)}return F instanceof s&&!ue(F)||(Se==="noscript"||Se==="noembed")&&Lr(/<\/no(script|embed)/i,F.innerHTML)?(xe(F),!0):(Ee&&F.nodeType===3&&(he=F.textContent,he=Ba(he,we," "),he=Ba(he,ee," "),F.textContent!==he&&(vc(t.removed,{element:F.cloneNode()}),F.textContent=he)),q("afterSanitizeElements",F,null),!1)},se=function(F,he,Se){if(yt&&(he==="id"||he==="name")&&(Se in r||Se in Je))return!1;if(!(ve&&!H[he]&&Lr(Le,he))){if(!(J&&Lr(je,he))){if(!K[he]||H[he]){if(!(le(F)&&(ie.tagNameCheck instanceof RegExp&&Lr(ie.tagNameCheck,F)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(F))&&(ie.attributeNameCheck instanceof RegExp&&Lr(ie.attributeNameCheck,he)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(he))||he==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&Lr(ie.tagNameCheck,Se)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Se))))return!1}else if(!de[he]){if(!Lr(k,Ba(Se,C,""))){if(!((he==="src"||he==="xlink:href"||he==="href")&&F!=="script"&&Dne(Se,"data:")===0&&be[F])){if(!(_e&&!Lr(E,Ba(Se,C,"")))){if(Se)return!1}}}}}}return!0},le=function(F){return F.indexOf("-")>0},Oe=function(F){var he=void 0,Se=void 0,nt=void 0,mt=void 0;q("beforeSanitizeAttributes",F,null);var Nt=F.attributes;if(!!Nt){var It={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K};for(mt=Nt.length;mt--;){he=Nt[mt];var Xt=he,On=Xt.name,D=Xt.namespaceURI;if(Se=Pne(he.value),nt=Be(On),It.attrName=nt,It.attrValue=Se,It.keepAttr=!0,It.forceKeepAttr=void 0,q("uponSanitizeAttribute",F,It),Se=It.attrValue,!It.forceKeepAttr&&(dt(On,F),!!It.keepAttr)){if(Lr(/\/>/i,Se)){dt(On,F);continue}Ee&&(Se=Ba(Se,we," "),Se=Ba(Se,ee," "));var ne=Be(F.nodeName);if(!!se(ne,nt,Se))try{D?F.setAttributeNS(D,On,Se):F.setAttribute(On,Se),yR(t.removed)}catch{}}}q("afterSanitizeAttributes",F,null)}},Pe=function ke(F){var he=void 0,Se=Et(F);for(q("beforeSanitizeShadowDOM",F,null);he=Se.nextNode();)q("uponSanitizeShadowNode",he,null),!te(he)&&(he.content instanceof i&&ke(he.content),Oe(he));q("afterSanitizeShadowDOM",F,null)};return t.sanitize=function(ke,F){var he=void 0,Se=void 0,nt=void 0,mt=void 0,Nt=void 0;if($e=!ke,$e&&(ke="<!-->"),typeof ke!="string"&&!U(ke)){if(typeof ke.toString!="function")throw bR("toString is not a function");if(ke=ke.toString(),typeof ke!="string")throw bR("dirty is not a string, aborting")}if(!t.isSupported){if(yc(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ke=="string")return e.toStaticHTML(ke);if(U(ke))return e.toStaticHTML(ke.outerHTML)}return ke}if(Ke||bt(F),t.removed=[],typeof ke=="string"&&(j=!1),!j)if(ke instanceof o)he=ot("<!---->"),Se=he.ownerDocument.importNode(ke,!0),Se.nodeType===1&&Se.nodeName==="BODY"||Se.nodeName==="HTML"?he=Se:he.appendChild(Se);else{if(!ft&&!Ee&&!Re&&ke.indexOf("<")===-1)return m&&it?m.createHTML(ke):ke;if(he=ot(ke),!he)return ft?null:y}he&&lt&&xe(he.firstChild);for(var It=Et(j?ke:he);nt=It.nextNode();)nt.nodeType===3&&nt===mt||te(nt)||(nt.content instanceof i&&Pe(nt.content),Oe(nt),mt=nt);if(mt=null,j)return ke;if(ft){if(tt)for(Nt=M.call(he.ownerDocument);he.firstChild;)Nt.appendChild(he.firstChild);else Nt=he;return K.shadowroot&&(Nt=Z.call(n,Nt,!0)),Nt}var Xt=Re?he.outerHTML:he.innerHTML;return Ee&&(Xt=Ba(Xt,we," "),Xt=Ba(Xt,ee," ")),m&&it?m.createHTML(Xt):Xt},t.setConfig=function(ke){bt(ke),Ke=!0},t.clearConfig=function(){Qe=null,Ke=!1},t.isValidAttribute=function(ke,F,he){Qe||bt({});var Se=Be(ke),nt=Be(F);return se(Se,nt,he)},t.addHook=function(ke,F){typeof F=="function"&&(ge[ke]=ge[ke]||[],vc(ge[ke],F))},t.removeHook=function(ke){ge[ke]&&yR(ge[ke])},t.removeHooks=function(ke){ge[ke]&&(ge[ke]=[])},t.removeAllHooks=function(){ge={}},t}var Gne=kR(),Fw=(e,t=[])=>{const n=document.createElement("div");return n.innerHTML=Gne.sanitize(e,{ADD_TAGS:t}),n.firstChild},jh=e=>e?Bo(e).toHtml():"",Mh=(e=window.getSelection())=>{if(!e||!e.rangeCount)return"";const t=e.getRangeAt(0);return t.collapsed?"":jh(t)},jw=e=>Boolean(e&&("isContentEditable"in e&&e.isContentEditable||["input","select","textarea"].includes(e.tagName.toLowerCase()))),Xr=e=>Boolean(e&&"tagName"in e&&e.tagName.toLowerCase()==="rw-highlight"),wr=e=>e&&e.tagName&&e.tagName.toLowerCase()==="img";function Kne(e,t){let{length:n}=e;for(;n--;)if(t(e[n],n,e))return n;return-1}var ra=e=>{let t;const n=r=>{if(!t){if(t=gn.createRange(),wr(r)||r.childNodes.length===1&&Li(r.childNodes[0])?t.selectNode(r):t.selectNodeContents(r),t.collapsed)throw new Error("Failed to include node in range");return}const i=t.compareNode(r),a=0,o=1,s=2;[s,a].includes(i)&&t.setStartBefore(r),[s,o].includes(i)&&(r.parentElement&&r.parentElement.childNodes.length===1&&Xr(r.parentElement)?t.setEnd(r,r.length):t.setEndAfter(r))};for(const r of e)Xr(r)?n(r.firstChild):n(r);return t};const Li=e=>Boolean((e==null?void 0:e.nodeType)===Node.TEXT_NODE),pl=e=>Li(e)||Xr(e),Yne=e=>fa(e)&&e.classList.contains(zt.highlightIconWrapperClassName),Mw=(e,t)=>{var r;if(!e||t.isIgnorableWhiteSpaceNode(e)||Li(e)&&!((r=e.textContent)!=null&&r.trim()))return 0;if(e.childNodes.length){const i=Array.from(e.childNodes).filter(o=>!Yne(o)),a=Kne(i,o=>!pl(o));return i.slice(a+1).reduce((o,s)=>o+Mw(s,t),0)}const n=ra([e]);return n.endOffset-n.startOffset},zw=e=>{const t=[];let n=e==null?void 0:e.previousSibling;for(;n;)t.push(n),n=n.previousSibling;return t},TR=(e,t,n)=>{const r=[];for(let i=0;i<e.length;i++){const a=e[i];if(t(a,e[i-1],e[i+1]))r.push(a);else if(!(n&&!r.length))break}return r},Qne=e=>TR(zw(e),(t,n)=>pl(t)?!n||[n,...n.childNodes].every(r=>!("tagName"in r)||r.tagName.toLowerCase()!=="br"):!1,!1),AR=({classApplier:e,indexToStartAt:t,isEndPosition:n,node:r,offset:i})=>{const a=r.childNodes;let o,s=i,l=0;for(let u=t;u<a.length;u++){const c=a[u],f=Mw(c,e),d=l+f;if(d>i||d===i&&(n||wr(c))){if(o=u,s-=l,a[o].childNodes.length&&!Array.from(a[o].childNodes).every(Li)){const p=AR({classApplier:e,indexToStartAt:0,isEndPosition:n,node:a[o],offset:s});o=p.index,s=p.newOffset,r=Xr(p.node)?p.node:p.node.parentNode,Xr(r.childNodes[o])&&r.childNodes[o].childNodes.length>1&&(o=Array.from(r.childNodes[o].childNodes).findIndex(Li),r=r.childNodes[o])}break}l+=f}if(o===void 0)throw new Error("Didn't find child which contains offset");return{index:o,node:r,newOffset:s}},Bw=(e,t)=>{if(!e.filter(Xr).length)return e.length;let n="<div>";for(const a of e)n+=Li(a)?a.textContent:a.outerHTML;n=Nh(n,new RegExp(`<${zt.textHighlightTagName}[^>]+>`,"ig"),""),n=n.replace(/ ?><\/path>/g," />"),n=n.replace(new RegExp(`<span[^>]+${zt.highlightIconWrapperClassName}[^>]+>.+?</span>`,"ig"),""),n=Nh(n,new RegExp(`</${zt.textHighlightTagName}>`,"ig"),""),n+="</div>";let i=new DOMParser().parseFromString(n,"text/html").body.firstElementChild.childNodes.length;return t.isIgnorableWhiteSpaceNode(e[0])&&i++,t.isIgnorableWhiteSpaceNode(e[e.length-1])&&i++,i},CR=({index:e,isEndPosition:t,serializedLocation:n,methodName:r,node:i,nodeIndex:a})=>{const o=`${r}() failed: node ${gn.dom.inspectNode(i).replace(/(^\s+)|(\s+$)/gm,"")} has no child with index ${a}, ${e}`;throw Fe.log("[locationSerializer]",o,{isEndPosition:t,serializedLocation:n}),new Error(o)},RR=({classApplier:e,isEndPosition:t,rootNode:n,serialized:r})=>{var u;const i=r.split(":");let a=n;const o=i[0]?i[0].split("/"):[];let s=o.length,l=parseInt(i[1],10);for(;s--;){const c=parseInt(o[s],10);let f=null,d;s===0&&c===0&&e.isIgnorableWhiteSpaceNode(a)&&a.nextSibling&&!e.isIgnorableWhiteSpaceNode(a.nextSibling)&&(a=a.nextSibling);const p=Array.from(a.childNodes).filter(Xr).length>0;if(p){for(let w=a.childNodes.length-1;w>=c;w--){const A=zw(a.childNodes[w]),h=[a.childNodes[w],...A];if(Bw(h,e)===c+1){if(f=w,s===0){const b=TR(h,pl);d=f-(b.length-Bw(b,e))}break}}f===null&&CR({index:s,isEndPosition:t,methodName:"deserializePosition",node:a,nodeIndex:c,serializedLocation:r})}else f=c,d=c;if(s===0){if(p){const A=AR({classApplier:e,indexToStartAt:d,isEndPosition:t,node:a,offset:l});f=A.index,a=A.node,l=A.newOffset}const w=f;((u=a.childNodes[w])==null?void 0:u.childNodes.length)===1&&Li(a.childNodes[w].childNodes[0])&&(a=a.childNodes[w],f=0)}const v=f;v<a.childNodes.length?a=a.childNodes[v]:(a.childNodes.length>0||!pl(a))&&CR({index:s,isEndPosition:t,methodName:"deserializePosition",node:a,nodeIndex:c,serializedLocation:r})}return hne(a,l)},Xne=/^([^,]+),([^,{]+)({([^}]+)})?$/,Jne=e=>{const t=Xne.exec(e);if(!t)throw new Error("Failed to parse serialized location");return{start:t[1],end:t[2]}},NR=(e,t,n,r)=>{const i=Jne(e),a=RR({classApplier:r,isEndPosition:!1,rootNode:t,serialized:i.start}),o=RR({classApplier:r,isEndPosition:!0,rootNode:t,serialized:i.end}),s=gn.createRange(n);return gn.dom.comparePoints(a.node,a.offset,o.node,o.offset)===-1?s.setStartAndEnd(a.node,a.offset,o.node,o.offset):s.setStartAndEnd(o.node,o.offset,a.node,a.offset),s},Zne=(e,t)=>Qne(e).reduce((n,r)=>n+Mw(r,t),0),OR=({classApplier:e,node:t,offset:n,rootNode:r})=>{if(!r.contains(t))throw new Error("node is not a descendant of rootNode");const i=[];let a=t;for(r=r||gn.dom.getDocument(t).documentElement;a&&!a.isEqualNode(r);){let s=gn.dom.getNodeIndex(a);if(a.previousSibling){const u=[a,...zw(a)];s=Math.max(0,Bw(u,e)-1)}const l=a.parentNode?Array.from(a.parentNode.childNodes):[];!(Li(a)&&Xr(a.parentElement))&&(pl(a)||!(l.some(Xr)&&l.every(pl)))&&i.push(s),a=a.parentNode}const o=n+Zne(Li(t)&&Xr(t.parentElement)?t.parentElement:t,e);return`${i.join("/")}:${o}`},IR=({classApplier:e,containerNode:t,range:n})=>{if(!t)throw new Error("No containerNode given");let{startContainer:r}=n,{startOffset:i}=n,{endContainer:a}=n,{endOffset:o}=n;const s=t.contains(r),l=t.contains(a);if(!s){if(!l)throw new Error("Range is outside of containerNode");const c=ra([t]);r=c.startContainer,i=c.startOffset}if(!l){const c=ra([t]);a=c.endContainer,o=c.endOffset}return[OR({classApplier:e,node:r,offset:i,rootNode:t}),OR({classApplier:e,node:a,offset:o,rootNode:t})].join(",")},ere=(e,t,n=document.body)=>{const r=gn.dom.getWindow(n),i=e.split("|"),a=gn.getSelection(r),o=[];for(let s=0,l=i.length;s<l;++s)o[s]=NR(i[s],n,r.document,t);return a.setRanges(o),a},tre=(e,t=gn.getSelection(),n=document.body)=>{const r=t.getAllRanges(),i=[];for(let a=0,o=r.length;a<o;++a)i[a]=IR({classApplier:e,containerNode:n,range:r[a]});return i.join("|")},wn=class{constructor({canHighlightStartInAnother:e,containerNode:t}){this._ongoingRenderToken=null,this.canHighlightStartInAnother=e||!1,this.classApplier=null,this.containerNode=t,wn.textHighlightTagName="rw-highlight",wn.highlightClassName="rw-highlight",this._highlighterType="textContent",this._rangyHighlighter=null,this._initRangyHighlighter()}static getHighlightElementSelector(e){let t=[wn.textHighlightTagName,`img.${wn.imageHighlightClassName}`];return e&&(t=t.map(n=>`${n}[data-highlight-id="${e}"]`)),t.join(", ")}doesRangeContainHighlight(e){return Boolean(Fw(`<div>${jh(e)}</div>`,[wn.textHighlightTagName]).querySelector(wn.getHighlightElementSelector()))}getSelectedLocation(){if(!this.containerNode.ownerDocument)throw new Error("containerNode has no ownerDocument");const e=this.containerNode.ownerDocument.defaultView;if(!e)throw new Error("Cannot get window from containerNode");const t=gn.getSelection(e);if(!this.classApplier)throw new Error("classApplier is not set");return tre(this.classApplier,t,this.containerNode)}async highlightLocation(e,t,n){if(!t)throw new Error("location missing");await this._initRangyHighlighter();const r=ere(t,this.classApplier,this.containerNode);if(!r.rangeCount)throw new Error("Deserialized selection's rangeCount is 0");const i=r.getRangeAt(0).cloneRange();if(gc(r.anchorNode,fa).tagName.toLowerCase()==="script")throw new Error("Cannot highlight <script>");if(kne(),typeof n=="string"&&r.toString().trim()!==n.trim())throw this._log("highlightLocation","Text at location doesn't match expected text",{expectedText:n,location:t,selection:r,selectionText:r.toString()}),new Error("Text at location doesn't match expected text");return this._highlightRange(e,i)}async highlightText(e,t){await this._initRangyHighlighter();const n=await gR({containerNode:this.containerNode,logPrefix:`Highlight#${e}: `,text:t});if(n)return this._highlightRange(e,n)}isHighlightableRange(e){var i;const t=Bo(e);if(!this.containerNode.contains(t.startContainer)&&!this.containerNode.contains(t.endContainer))return{isValid:!1,reason:"not-in-container-node"};const n=t.startContainer instanceof HTMLElement?t.startContainer:t.startContainer.parentElement,r=(i=gc(n,a=>a.hasAttribute("lang"),Jt?this.containerNode.ownerDocument.documentElement:this.containerNode))==null?void 0:i.getAttribute("lang");return oX(t.toString(),r||"unknown").length<3&&!t.toHtml().includes("<img")?{isValid:!1,reason:"length"}:{isValid:!0}}isHighlightableSelection(e=window.getSelection()){if(!(e!=null&&e.rangeCount)||jw(document.activeElement)||!e.toString().trim()&&!/<img/i.test(Mh(e)))return{isValid:!1,reason:"empty"};const t=e.getRangeAt(0).cloneRange(),n=e.anchorNode&&Li(e.anchorNode)?e.anchorNode.parentElement:t.startContainer;return this.canHighlightStartInAnother||!Xr(n)?this.isHighlightableRange(t):{isValid:!1,reason:"cant-start-in-another"}}async removeHighlight({elements:e,rangyHighlight:t}){const n=Array.from(e).filter(wr),r=e.length>n.length;if(r&&!t)throw new Error("text highlight elements given but rangyHighlight missing");if(!this._rangyHighlighter)throw new Error("_rangyHighlighter is not set");const i=r?this._rangyHighlighter.highlights.indexOf(t):-1;for(const a of e){const o=a.querySelector(`.${wn.highlightIconWrapperClassName}`);o&&a.removeChild(o),wr(a)?await this._unapplyToImage(a):await this._unapplyToText(a)}r&&(t.applied=!1,i===-1?this._log("Couldn't find highlight in Rangy highlight's internal list, removed anyway",t):this._rangyHighlighter.highlights.splice(i,1))}setContainerNode(e){this.containerNode=e}_createRange(){return gn.createRange(this.containerNode.ownerDocument)}_highlightRange(e,t){const n=Oh(jh(t)),r=t.toString().trim();if(!this._rangyHighlighter)throw new Error("_rangyHighlighter is not set");const i=this._rangyHighlighter.converter.rangeToCharacterRange(t),a=Array.from(this.containerNode.querySelectorAll("img")).filter(f=>t.containsNode(f,!1));if(!a.length&&i.start===i.end)throw new Error("Range is empty");const o=Math.random()*Date.now();for(const f of a)f.dataset.rwHighlightRenderToken=o.toString();const s=Boolean(Fw(`<div>${n}</div>`).innerText.trim());let l;if(s){this._ongoingRenderToken=o;let f;try{f=this._rangyHighlighter.highlightCharacterRanges(wn.highlightClassName,[i],{exclusive:!0}),this._ongoingRenderToken=null}catch(d){throw this._ongoingRenderToken=null,d}if(!f.length)throw new Error("rangyHighlight not created");[l]=f}const u=Array.from(this.containerNode.querySelectorAll(`img[data-rw-highlight-render-token="${o}"]`));for(const f of u)f.classList.add(wn.imageHighlightClassName),f.removeAttribute("data-rw-highlight-render-token");const c=[];if(s){const f=this.containerNode.querySelectorAll(`${wn.textHighlightTagName}[data-rw-highlight-render-token="${o}"]`);f.length||Fe.warn("No text elements found after rendering highlight");for(const d of f)d.removeAttribute("data-rw-highlight-render-token");c.push(...[...f,...u].sort((d,p)=>d.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_PRECEDING?1:-1))}else c.push(...u);for(const f of c)f.dataset.highlightId=e;if(c.length){const f=c[c.length-1];!wr(f)&&!f.querySelector(`.${wn.highlightIconWrapperClassName}`)&&f.appendChild(Fw(`<span aria-hidden="true" class="${wn.highlightIconWrapperClassName}">
              <svg class="${wn.highlightNoteIconClassName}" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 2C3.34315 2 2 3.34315 2 5V9C2 10.6569 3.34315 12 5 12H6L8 15L10 12H11C12.6569 12 14 10.6569 14 9V5C14 3.34315 12.6569 2 11 2H5Z" />
              </svg>
              <svg class="${wn.highlightTagIconClassName}" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5858 7.58579L8.58579 2.58579C8.21071 2.21071 7.70201 2 7.17157 2H4C2.89543 2 2 2.89543 2 4V7.17157C2 7.70201 2.21071 8.21071 2.58579 8.58579L7.58579 13.5858C8.36684 14.3668 9.63316 14.3668 10.4142 13.5858L13.5858 10.4142C14.3668 9.63317 14.3668 8.36684 13.5858 7.58579ZM6 7C6.55228 7 7 6.55228 7 6C7 5.44771 6.55228 5 6 5C5.44772 5 5 5.44771 5 6C5 6.55228 5.44772 7 6 7Z" />
              </svg>
            </span>`.replace(/>\s+</g,"><")))}return{characterRange:i,elements:c,containsText:s,html:n,rangeText:r,rangyHighlight:l}}async _initRangyHighlighter(){if(this._rangyHighlighter)return;if(await Ow("body"),gn.init(),!this.containerNode)throw new Error("containerNode is not set");if(!this.containerNode.ownerDocument)throw new Error("containerNode has no ownerDocument");const e=gn.createHighlighter(this.containerNode.ownerDocument,this._highlighterType);this.classApplier=gn.createClassApplier(wn.highlightClassName,{elementTagName:wn.textHighlightTagName,normalize:!1,onElementCreate:t=>{if(!this._ongoingRenderToken){Fe.warn("Rangy ClassApplier's onElementCreate called but there is no _ongoingRenderToken");return}t.dataset.rwHighlightRenderToken=this._ongoingRenderToken.toString()},useExistingElements:!1}),e.addClassApplier(this.classApplier),e.highlights=[],this._rangyHighlighter=e}_log(...e){Fe.log("[Highlighter]",...e)}async _unapplyToImage(e){for(const t of Array.from(e.classList))e.classList.remove(wn.imageHighlightClassName),t.startsWith(wn.highlightClassName)&&e.classList.remove(t)}async _unapplyToText(e){const t=this._createRange();if(t.selectNodeContents(e.firstChild),!this.classApplier)throw new Error("classApplier is not set");const n=this.classApplier.normalize;this.classApplier.normalize=!0,this.classApplier.undoToRange(t),this.classApplier.normalize=n,this.classApplier.isAppliedToRange(t)&&Fe.error(new Error("Class Applier says highlight is still applied after undoToRange call"))}};let zt=wn;zt.highlightClassName="rw-highlight",zt.highlightIconWrapperClassName="rw-highlight-icon-wrapper",zt.highlightMinimizedIconClassName="rw-highlight-annotations-icon",zt.highlightNoteIconClassName="rw-highlight-note-icon",zt.highlightTagIconClassName="rw-highlight-tag-icon",zt.imageHighlightClassName="rw-image-highlight",zt.textHighlightTagName="rw-highlight";function DR({container:e,id:t}){return Array.from(e.querySelectorAll(zt.getHighlightElementSelector(t)))}var PR=(e,t)=>t.commonAncestorContainer.contains(e)?Bo(t).intersectsRange(Bo(ra([e]))):!1,LR=(e,t)=>e.filter(n=>n.elements.some(r=>PR(r,t)));class nre{constructor(t){this.hasBeenDestroyed=!1,this._destroyCallbacks=[],this.onSelectionChange=t.onSelectionChange,this.onTextOrImageSelectedWithMouse=t.onTextOrImageSelectedWithMouse,this.onTextOrImageSelectedWithTouch=t.onTextOrImageSelectedWithTouch,this._listen()}destroy(){if(this.hasBeenDestroyed)throw new Error("Has already been destroyed");for(const t of this._destroyCallbacks)t();this.hasBeenDestroyed=!0}async _first(t){const n=()=>{for(const i of t)document.removeEventListener(i.eventName,i.callback)},r=(i=()=>{})=>a=>(n(),i(a));t.forEach(i=>{i.callback=r(i.callback),this._next(i.eventName,i.callback)})}_isValidSelection(){const t=window.getSelection();if(!t)return!1;const n=t.toString().trim(),r=Mh(t);return!(!n&&!/<img/i.test(r)||r===this.lastSeenSelectedHtml)}async _listen(){if(await Ow("body"),this.hasBeenDestroyed)return;this.onSelectionChange&&(document.addEventListener("selectionchange",this.onSelectionChange),this._destroyCallbacks.push(()=>{document.removeEventListener("selectionchange",this.onSelectionChange)}));const t=this._onMouseDown.bind(this),n=this._onTouchEnd.bind(this),r=this._onTouchStart.bind(this);document.addEventListener("mousedown",t),document.addEventListener("touchend",n),document.addEventListener("touchstart",r),this._destroyCallbacks.push(()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchend",n),document.removeEventListener("touchstart",r)})}_next(t,n){document.addEventListener(t,n,{once:!0})}_onMouseDown(t){if(this.hasBeenDestroyed)throw new Error("Listener fired after instance has been destroyed");jw(document.activeElement)||t.target.closest("readwise-tooltip-container")||(this.lastSeenSelectedHtml=Mh(),this._first([{eventName:"selectionchange",callback:()=>this._next("mouseup",async n=>{!this._isValidSelection()||!this.onTextOrImageSelectedWithMouse||await this.onTextOrImageSelectedWithMouse(n)})},{eventName:"mouseup"}]))}async _onTouchEnd(t){if(this.hasBeenDestroyed)throw new Error("Listener fired after instance has been destroyed");!this.onTextOrImageSelectedWithTouch||!this._isValidSelection()||await this.onTextOrImageSelectedWithTouch()}_onTouchStart(t){if(this.hasBeenDestroyed)throw new Error("Listener fired after instance has been destroyed");jw(document.activeElement)||t.target.closest("readwise-tooltip-container")||(this.lastSeenSelectedHtml=Mh())}}var rre=["h1","h2","h3","h4","h5","h6","p","li"];function $R({doc:e,endToMove:t="start",rangyRange:n}){const r=gn.createRange(e);n[`${t}Offset`]?r.setStart(n[`${t}Container`],n[`${t}Offset`]+(t==="start"?1:-1)):r.setStartBefore(n[`${t}Container`]),r.collapse(!0);const i=t==="start"?"end":"start";n[`set${nC(t)}`](r[`${i}Container`],r[`${i}Offset`])}const FR=e=>{var r;if(!e.rangeCount)return;const t=e.getRangeAt(0);if(wr(t.startContainer)||wr(t.startContainer.childNodes[t.startOffset])||wr(t.startContainer.childNodes[t.startOffset+1]))return;const n=e.toString();!/^\s/.test(e.toString())||($R({doc:(r=e.anchorNode)==null?void 0:r.ownerDocument,endToMove:"start",rangyRange:t}),e.setSingleRange(t),e.toString()!==n&&FR(e))},jR=e=>{var r;const t=e.getRangeAt(e.rangeCount-1);if(wr(t.endContainer)||wr(t.endContainer.childNodes[t.endOffset])||wr(t.endContainer.childNodes[t.endOffset-1]))return;const n=e.toString();!/\s$/.test(e.toString())||($R({doc:(r=e.anchorNode)==null?void 0:r.ownerDocument,endToMove:"end",rangyRange:t}),e.setSingleRange(t),e.toString()!==n&&jR(e))};var ire=(...e)=>{FR(...e),jR(...e)};function wc(e){const t=e.replace("://www.","://").replace("http://","https://");let n;try{n=new URL(t)}catch{return Fe.warn("could not parse url",{url:e}),t}return n.pathname.endsWith("/")||(n.pathname+="/"),n.searchParams.sort(),n.hash="",n.toString()}let Uw=!1,St={};const Ho={};let bc,Hw=null,qw=!1;const are=zt.getHighlightElementSelector();let gl,Vn=!1,zh=null,MR,Ww=[],bi=null,ml=null,Cn,_c=null;const ore=async({content:e,html:t,id:n,location:r},i)=>{var a;try{if(!Vn)throw new Error("Not initialized");if(!bc)throw new Error("docId is not set");if(St[n])throw new Error("Highlight cannot be added, it already exists in knownHighlights");const o=Cn;if(!o.classApplier)throw new Error("Renderer's class applier is missing");const s={content:e,html:t,id:n,intersectionObserver:null,location:r,renderedData:null,status:An.NonRendered},l=i||!Uw||((a=Ho[bc])==null?void 0:a.includes(n));if(!l){const u=()=>{vl({...s,status:An.DeserializationFailed})};let c,f;try{f=NR(r.split("|")[0],o.containerNode,o.containerNode.ownerDocument,o.classApplier)}catch(b){c=b}if(!f){const b=window.location.pathname.startsWith("/reader/shared/")?console.warn:Fe.warn;let m="Highlight failed to deserialize";if(e?m+=", falling back to text search":m+=". Can't fall back to text search as no text given",b(m,{error:c,newKnownHighlight:s}),!e){u();return}const y=await gR({containerNode:o.containerNode,logPrefix:`Highlight#${n}: `,text:e});if(!y){b("Can't find text",{newKnownHighlight:s}),u();return}f=y}const d=async(b,m)=>{if(!b.some(({isIntersecting:_})=>_))return;if(!Vn){Fe.warn("IntersectionObserver fired even though content frame is not initialized. Disconnecting..."),m.disconnect();return}const y=St[n];if(!y){Fe.warn("IntersectionObserver fired for unknown highlight. Disconnecting...",{id:n,knownHighlights:St}),m.disconnect();return}if(y.status!==An.NonRendered){Fe.warn(`IntersectionObserver fired for highlight with '${y.status}' status. Disconnecting...`,{knownHighlight:y}),WR(y.id);return}b.find(_=>_.isIntersecting)&&await Bh({id:n})},p={rootMargin:"5000px 0px",threshold:0},v=document.getElementById("document-reader-root");v&&(p.root=v);const w=new IntersectionObserver(d,p);let A=Vw(f.startContainer);if(!A)throw new Error("Can't get start element from range");if(A.isEqualNode(o.containerNode)){const b=A.childNodes[f.startOffset];if(fa(b))A=b;else{const m=Dh({direction:"previous",element:b,matcher:fa,shouldIncludeNonElements:!0});if(m.siblings.length)A=m.siblings[0];else throw new Error("Can't get element from start text node")}}let h=Vw(f.endContainer);if(!h)throw new Error("Can't get end element from range");if(h.isEqualNode(o.containerNode)){const b=h.childNodes[f.endOffset];if(fa(b))h=b;else{const m=Dh({direction:"next",element:b,matcher:fa,shouldIncludeNonElements:!0});if(m.siblings.length)h=m.siblings[0];else throw new Error("Can't get element from end text node")}}const g=[A,...xne({container:Vw(f.commonAncestorContainer),end:h,start:A}),h];for(const b of g)w.observe(b);s.intersectionObserver=w}vl(s),l&&await Bh({id:n})}catch(o){throw console.error("Failed to add highlight",o),o}},sre=(e,t)=>{if(!!t){Ho[e]||(Ho[e]=[]);for(const n of t)Ho[e].includes(n)||Ho[e].push(n)}},Bh=async({id:e})=>{var t,n;try{if(!Vn)throw new Error("Not initialized");if(!St[e])throw new Error("Unknown highlight ID");if(![An.EnlargementInProgress,An.NonRendered].includes(St[e].status)){Fe.warn(`renderHighlight exiting; the highlight status is '${St[e].status}'`,St[e]);return}vl({...St[e],status:An.RenderInProgress}),WR(e);const r=Cn;let i;try{i=await r.highlightLocation(e,St[e].location,St[e].content)}catch(o){let s="Failed to highlight by location";if(St[e].content?s+=", falling back to text search":s+=". Can't fall back to text search as no text given",Fe.log(s,{location,text:St[e].content}),St[e].content){if(i=await r.highlightText(e,St[e].content),!i)return}else throw o}i.elements.length||Fe.warn("No elements highlighted, may already be highlighted");const a={content:i.rangeText,html:i.html,rangyHighlight:i.rangyHighlight};ei&&(((t=a.content)==null?void 0:t.trim())!==((n=St[e].content)==null?void 0:n.trim())||Oh(a.html)!==Oh(St[e].html))&&Fe.warn("New rendered highlight data differs from saved / expected data",{knownHighlight:St[e],renderedData:a}),vl({...St[e],id:e,renderedData:a,status:An.Rendered});for(const o of i.elements)wr(o)&&o.addEventListener("click",UR)}catch(r){throw console.error("Failed to render highlight",r),r}},lre=()=>{bi==null||bi.disconnect(),bi=null,ml==null||ml.disconnect(),ml=null},zR=e=>`${wr(e)?zt.imageHighlightClassName:zt.textHighlightTagName}--active`;function Vw(e){return gc(e,fa)}let Gw;const ure=()=>(Gw||(Gw=HC(window.getComputedStyle(document.documentElement).getPropertyValue("--js_highlight-normal").trim())),Gw),Ua=e=>Vn?DR({container:Cn.containerNode,id:e}):[],cre=e=>e?DR({container:e}):[],BR=()=>Cn.containerNode.ownerDocument,Uh=e=>e?LR(Object.keys(St).map(t=>({id:t,elements:Ua(t)})),e).map(({id:t})=>t):[],Kw=()=>gn.getSelection(fre()),Yw=({range:e,shouldExpandToHighlightBounds:t})=>{const n=Bo(e),r=Cn;let i=n;if(t){const s=Uh(n),l=[];for(const u of s){const c=Ua(u).filter(f=>PR(f,n));c.length&&l.push(...c)}i=l.length?n.union(ra(l)):n}const a=Oh(jh(i));return{html:a,location:IR({classApplier:r.classApplier,containerNode:r.containerNode,range:i}),markdown:VR(a,Hw||""),offset:i.getBookmark().start,text:i.toString()}},fre=()=>BR().defaultView,dre=e=>{if(!Jt)return!0;const t=i=>{if(!(i instanceof HTMLElement))return;const a=window.getComputedStyle(i).getPropertyValue("background-color").trim();let o;if(a.startsWith("#"))o=HC(a);else if(a.startsWith("rgb")){const s=a.match(/rgba?\((\d+),\s?(\d+),\s?(\d+)(,\s?(\d+))?\)/i);if(s){const l=[...s.slice(1,4),s[5]].map(u=>u===void 0?void 0:parseInt(u,10));l.length>3&&l[3]===0||(o=l.slice(0,3))}}return o},n=[document.body,document.documentElement],r=gc(e.parentNode,t);return r&&!n.includes(r)&&n.push(r),n.every(i=>{const a=t(i);return a?pte(ure(),a)>=1&&a[0]&&a[1]&&a[2]&&!(a[0]>150&&a[1]>150&&a[2]<50):!0})},hre=({containerNode:e})=>{Hh({contentContainer:e}),bi=new MutationObserver(async t=>{if(!Vn){Fe.warn("contentFrame MutationObserver fired when content frame is not initialized. Disconnecting..."),bi==null||bi.disconnect(),bi=null;return}if(!!t.some(({target:n})=>n instanceof HTMLElement&&(n.isEqualNode(e)||Xr(n)||n.matches(are)))){if(Jt&&t.length===1&&t[0].attributeName==="class"&&wr(t[0].target)){setTimeout(()=>{!bi||!Vn||Hh({contentContainer:e})},10);return}Hh({contentContainer:e})}}),bi.observe(e,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0}),ml=new ResizeObserver(()=>{Qt.emit("content-moved")});for(const t of e.querySelectorAll("img"))ml.observe(t)},UR=e=>{e.preventDefault(),e.stopPropagation()},HR=async e=>{if(zc){if(e.preventDefault(),Xb.name.toLowerCase().includes("android")){const t=Cn==null?void 0:Cn.isHighlightableSelection();if(t!=null&&t.isValid){const n=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-selection-completed",{selectionInfo:n}),Qt.emit("valid-manual-selection-completed",{selectionInfo:n})}else if((t==null?void 0:t.reason)==="length"){const n=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-manual-selection-completed",{selectionInfo:n})}}return}zh=e.target instanceof HTMLImageElement?e.target:null,MR=zh?null:await Ha({})},qR=e=>{const t=e.target;if(t.closest("a"))return;e.stopPropagation(),e.preventDefault();const n=t.closest(zt.getHighlightElementSelector());if(!n)throw new Error("Can't find nearest highlight element from clicked element");let r=null;t.closest(`.${zt.highlightIconWrapperClassName}`)&&(t.closest(`.${zt.highlightNoteIconClassName}`)?r="note":t.closest(`.${zt.highlightTagIconClassName}`)&&(r="tag")),Qt.emit("highlight-clicked",{highlightElementClassName:n.className,iconClicked:r,id:n.dataset.highlightId})},pre=e=>{e.stopPropagation(),e.preventDefault();const t=e.target,n=t.closest([zt.textHighlightTagName,`.${zt.imageHighlightClassName}`].join(", "));if(!n)throw new Error("Can't find nearest highlight element from clicked element");let r=null;t.closest(`.${zt.highlightIconWrapperClassName}`)&&(t.closest(`.${zt.highlightNoteIconClassName}`)?r="note":t.closest(`.${zt.highlightTagIconClassName}`)&&(r="tag")),Qt.emit("highlight-double-clicked",{id:n.dataset.highlightId,iconClicked:r})},gre=e=>{var t;for(const n of e)n.removeEventListener("click",qR),n.tagName.toLowerCase()==="rw-highlight"?(Array.from(n.attributes).forEach(({nodeName:r})=>{r!=="class"&&n.removeAttribute(r)}),n.className=zt.highlightClassName,(t=n.querySelector(`.${zt.highlightIconWrapperClassName}`))==null||t.remove()):n.removeEventListener("click",UR),n.removeAttribute("data-highlight-id")},Hh=jg(async({contentContainer:e})=>{if(!Vn)return;const t=cre(e);for(const n of t){n.addEventListener("click",qR),n.ondblclick=pre,gl&&n.dataset.highlightId===gl&&!qw&&(qw=!0,await ai(10),n.scrollIntoView({block:"center",inline:"center"}));const r=`${zt.highlightClassName}--alternative-color`;!n.classList.contains(r)&&!dre(n)&&Rh.add(n,r)}ys(t,Ww)||(Ww=t,Qt.emit("highlight-elements-changed"))},50,{leading:!0,trailing:!0}),WR=e=>{var t;if(!St[e])throw new Error("No highlight with that ID");(t=St[e].intersectionObserver)==null||t.disconnect(),St[e].intersectionObserver=null},vl=e=>{for(const t of["content","html","id","location","intersectionObserver","renderedData","status"])if(typeof Hl(e,t)=="undefined")throw new Error(`knownHighlight.${t} is undefined`);if(e.status===An.Rendered)for(const t of["renderedData.content","renderedData.html"]){const n=Hl(e,t);if(typeof n=="undefined")throw new Error(`knownHighlight.${t} is undefined, even though status is '${An.Rendered}'`);if(n===null)throw new Error(`knownHighlight.${t} is null, even though status is '${An.Rendered}'`)}St[e.id]=e},mre=async e=>{for(const t of Ua(e))Rh.add(t,zR(t))},vre=async(e,t)=>{if(!Vn)throw new Error("Not initialized");const n=[];for(const r of e){if(St[r.id]){Fe.warn(`Not adding highlight#${r.id} as it's already in knownHighlights`);continue}try{if(!Vn)return[];await ore(r,t)}catch(i){n.push(r.id),Fe.error("Failed to add highlight",{highlight:r},i)}}return n},VR=one,yre=async e=>{for(const t of Ua(e))Rh.remove(t,zR(t))},wre=async()=>{if(!Vn){Fe.warn("destroy called when isInitialized is already false");return}const e=BR();Hw=null,Uw=!1,Ww=[],_c==null||_c.destroy(),_c=null,await Xw("all"),Cn=void 0,e.removeEventListener("contextmenu",HR),e.ondblclick=()=>{},lre(),Vn=!1},GR=async e=>{if(!St[e.id])throw new Error("Unknown highlight ID");if(St[e.id].location===e.location){Fe.warn("Not enlarging highlight as it's already rendered at that location");return}if(St[e.id].status!==An.Rendered){if(St[e.id].status===An.EnlargementFailed){Fe.warn("enlargeHighlight exiting because this knownHighlight previouisly failed to enlarge");return}throw new Error(`Highlight status is '${St[e.id].status}'`)}vl({...St[e.id],content:e.content,html:e.html,location:e.location,status:An.EnlargementInProgress});try{await Xw([e.id],!1),await Bh({id:e.id})}catch(t){throw vl({...St[e.id],status:An.EnlargementFailed}),t}},bre=async e=>{for(const t of e)try{await GR(t)}catch(n){Fe.error("Failed to enlarge highlight",{error:n,highlight:t});continue}},Qw=async({elements:e,...t})=>{const n=ra(e);if(!(!n||n.collapsed))return Yw({range:n,...t})},Ha=async e=>{const t=Kw();if(!(t!=null&&t.rangeCount)||(ire(t),!(t!=null&&t.rangeCount)))return;const n=t.getRangeAt(0);if(!n||n.collapsed)return;const r=Cn;let i=n;if(e.shouldExpandToHighlightBounds)for(const a of Uh(n))i=i.union(ra(Ua(a)));if(r.containerNode!==document.body&&(i=pne(i,ra([r.containerNode]))),!(!i||i.collapsed))return Yw({range:i,...e})},_re=async({selector:e,...t})=>{const n=Cn,r=Array.from(n.containerNode.querySelectorAll(e));if(!!r.length)return Qw({elements:r,...t})},Sre=async()=>St,Ere=async()=>{const e=Kw();return e!=null&&e.rangeCount?LR(Object.keys(St).map(t=>({id:t,elements:Ua(t)})),e.getRangeAt(0)).map(({elements:t})=>t).flat():[]},xre=async()=>{const e=Kw();return e!=null&&e.rangeCount?Uh(e.getRangeAt(0)):[]},kre=async({selector:e})=>{const t=Cn,n=Array.from(t.containerNode.querySelectorAll(e));if(!n.length)return[];const r=ra(n);return r?Uh(r):[]},Tre=async()=>{if(!zh)return;const e=gn.createRange();if(e.selectNode(zh),!e.collapsed)return Yw({range:e})},Are=async()=>MR,Xw=async(e,t=!0)=>{var o,s;if(!Vn)return;const n={};let r={};if(e==="all")r=St;else for(const l of Object.values(St))e.includes(l.id)?r[l.id]=l:n[l.id]=l;t&&(St=n);const i=Cn;let a=!1;for(const l of Object.keys(r)){if(((o=St[l])==null?void 0:o.status)===An.RemovalInProgress){Fe.warn("Skipping highlight removal, already being removed",St[l]);continue}r[l]={...r[l],status:An.RemovalInProgress},(s=r[l].intersectionObserver)==null||s.disconnect(),r[l].intersectionObserver=null;const u=Ua(l),c=!document.body.contains(i.containerNode);c&&!a&&(Fe.warn("renderer containerNode is no longer alive"),a=!0),!c&&r[l].renderedData&&!u.length&&Fe.warn(`removeHighlights: no elements found for highlight#${l}`),gre(u);const f=[];await new Promise(async d=>{const p=u.filter(v=>!(v instanceof HTMLImageElement));if(p.length&&!c){const v=new MutationObserver(w=>{for(const A of w)p.includes(A.target)&&f.push(A.target);f.length>=p.length&&(v.disconnect(),d())});v.observe(i.containerNode,{childList:!0,subtree:!0})}r[l].renderedData&&await i.removeHighlight({elements:u,rangyHighlight:r[l].renderedData.rangyHighlight}),(!p.length||c)&&(await ai(10),d())})}e==="all"&&i._rangyHighlighter&&(i._rangyHighlighter.highlights=[])},Cre=async({containerNodeSelector:e="body",docId:t,documentUrl:n,querySelector:r=a=>document.querySelector(a),shouldProgressivelyRender:i})=>{const a=r(e);if(Hw=n||null,bc=t,Uw=i,bc)for(const l of Object.keys(Ho))l!==bc&&delete Ho[l];if(!a)throw new Error("No containerNode");if(Vn){Fe.warn("Content frame init exiting, already initialized (maybe it didn't get destroyed properly?)");return}await Ene("rw-highlight","class ReadwiseHighlight extends ReadwiseElement {}",{extends:"mark"}),Cn=new zt({canHighlightStartInAnother:zc,containerNode:a});const o=a.ownerDocument,s=()=>Cn?Cn.isHighlightableSelection():(Fe.warn("renderer does not exist when expected"),{isValid:!1,reason:"no-renderer"});_c=new nre({onSelectionChange:async()=>{Qt.emit("selection-change");const l=s();l.isValid||(Qt.emit("invalid-selection-completed"),l.reason!=="length"&&Qt.emit("invalid-manual-selection-completed"))},onTextOrImageSelectedWithMouse:async l=>{const u=s();if(u.isValid){const c=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-manual-selection-completed",{isAltPressed:l.altKey,selectionInfo:c}),Qt.emit("valid-selection-completed",{isAltPressed:l.altKey,selectionInfo:c})}else if(Qt.emit("invalid-selection-completed"),u.reason==="length"){const c=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-manual-selection-completed",{isAltPressed:l.altKey,selectionInfo:c})}else Qt.emit("invalid-manual-selection-completed")},onTextOrImageSelectedWithTouch:async()=>{const l=s();if(l.isValid){const u=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-manual-selection-completed",{selectionInfo:u}),Qt.emit("valid-selection-completed",{selectionInfo:u})}else if(Qt.emit("invalid-selection-completed"),l.reason==="length"){const u=await Ha({shouldExpandToHighlightBounds:!0});Qt.emit("valid-manual-selection-completed",{selectionInfo:u})}else Qt.emit("invalid-manual-selection-completed")}}),!Vn&&(o.addEventListener("contextmenu",HR),o.ondblclick=async l=>{if(!zc||!l.target||!(l.target instanceof HTMLElement))return;const u=l.target.closest(rre.join(","));!u||Qt.emit("element-double-clicked",{selectionInfo:await Qw({elements:[u]})})},Vn=!0,hre({containerNode:a}))},Rre=async({containerNodeSelector:e,docId:t,id:n})=>{let r;n&&(r=St[n]);const i=e?document.querySelector(e):document.body;if(qw=!1,gl=n,gl){if(!t)throw new Error("No docId argument");if(sre(t,[gl]),!i)throw new Error("Can't find containerNode");(r==null?void 0:r.status)===An.Rendered?Hh({contentContainer:i}):Vn&&await Bh({id:gl})}},Nre=async(e,t)=>{const n=document.getElementById("RWMarginStyle");!n||(n.innerHTML=hte(e,t))},Ore=async(e,t)=>{const n=Object.entries(t);let r=!1;for(const i of Ua(e))for(const[a,o]of n){const s=`${zt.highlightClassName}--has-${a}`;i.classList.contains(s)!==o&&(Rh[o?"add":"remove"](i,s),r=!0)}r&&Qt.emit("content-moved")},Ire=async e=>{window.createHighlightAtTtsPosition(e)};async function Dre({url:e,anchorText:t}){if(!Cn){Fe.warn("Cannot scroll to document link position, document is not open in Reader");return}const n=wc(e),r=Array.from(Cn.containerNode.getElementsByTagName("a")),i=r.reduce((a,o)=>{if(o.innerText.trim().indexOf(t.trim())===-1)return a;const s=wc(o.href);return s.indexOf(n)===-1||a!==void 0&&s.length<a.href.length||s.length<20?a:o},void 0);if(i===void 0){const a=r.map(s=>s.href),o=a.map(wc);Fe.warn("Could not find target anchor to scroll to",{anchors:r,anchorHrefs:a,anchorHrefsNormalized:o,url:e,normalizedUrl:n});return}i.focus({preventScroll:!0}),await ai(50),Mo.emit("refocus-content-focus-indicator")}var Pre=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",activateHighlight:mre,addHighlights:vre,convertHtmlToText:VR,deactivateHighlight:yre,destroy:wre,enlargeHighlight:GR,enlargeHighlights:bre,getSelectionInfoFromElements:Qw,getCurrentSelectionInfo:Ha,getSelectionInfoFromSelector:_re,getKnownHighlights:Sre,getHighlightElementsInSelection:Ere,getHighlightIdsInSelection:xre,getHighlightIdsInSelector:kre,getLastRightClickedImageSelectionInfo:Tre,getLastRightClickedSelectionInfo:Are,removeHighlights:Xw,init:Cre,setHighlightIdToScrollTo:Rre,setHorizontalMargin:Nre,updateIcons:Ore,createHighlightAtTtsPosition:Ire,scrollToAnchor:Dre});const Qt=new Zc({getGateName:()=>"ContentFrame",localMethods:Pre,loggingPrefix:"\u{1F4D6}",loggingColor:"navy",portalName:"foreground-contentFrame",sendMessage:async({message:e,data:t})=>{Mo.emit(e,t)},shouldLog:!1});Mo.onAny((e,t)=>{Qt.handleIncomingMessage({message:e,data:t})}),Qt.methods;const Jw=new Zc({getGateName:()=>"Foreground",localMethods:WA,loggingPrefix:"\u{1F5BC}",loggingColor:"darkgreen",portalName:"foreground-contentFrame",sendMessage:async({message:e,data:t})=>{Mo.emit(e,t)},shouldLog:!1});Mo.onAny((e,t)=>{Jw.handleIncomingMessage({message:e,data:t})}),Jw.methods;const Lre=1080;Object.values(Ft),Object.values(kh);const $re=/((\/)[a-z])*(\/)read(\/)/;function $i(e){return e<Lre}const qh=async e=>{await navigator.clipboard.writeText(e)},KR=e=>[Ui.Pending,Ui.ServerTaskNotStartedYet].includes(e.contentParsingStatus),Fre=(e,t,n,r)=>{try{return bg(e,i=>!(n&&i.category!==n||!qi(i)||r&&!DC({ast:r,doc:i})||t&&!(ma(i)===t)))}catch(i){return vt({content:i.message,category:"error"}),[]}},Zw="document";var jre=e=>e?e.category===He.Highlight?"Highlight":e.category===He.Note?"Note":og(e)&&xh(e,"title")||Zw:Zw;async function Mre(){}const zre=async(e,t)=>{const n=re(r=>{iE(r,e)},t);if(e.category===He.Highlight&&typeof e.markdown!="string"){const r=new Error(`Highlight created with non-string markdown property (${typeof e.markdown})`);ei?Fe.error(r):ss(r)}return n},Bre=async(e,t)=>re(n=>{for(const r of e)iE(n,r)},t),YR=(e,t)=>re(n=>{hm(n,e,t)},t),Ure=(e,t)=>re(n=>{for(const r of e)hm(n,r,t)},t),qo=async(e,t,n)=>{var r;if(!((r=Ct.getState().persistent.documents)!=null&&r[e]))throw new Error("Can't update document; no document exists with that ID");return re(i=>{var a;t((a=i.persistent.documents)==null?void 0:a[e])},n)},QR=async e=>{await re(t=>{t.persistent.documents=Object.fromEntries(Object.entries(e).map(([n,r])=>[n,aE(r)])),t.documentsLoaded=!0},{allowPersistence:!1,eventName:"documents-initialized",userInteraction:null})},Hre=async(e,t)=>{await re(n=>{n.userEvents=I1([...n.userEvents,...t],"id").sort((r,i)=>r.timestamp-i.timestamp)},{allowPersistence:!1,eventName:e,userInteraction:null})},qre=async e=>{const t=_W(Vl(e,"documents"),{documents:{}});await re(n=>{n.persistent=t,n.persistentStateLoaded=!0},{allowPersistence:!1,eventName:"persistent-state-initialized",undoable:!1,userInteraction:null}),e.documents!==null&&await QR(e.documents)},Wre=e=>{re(t=>{Vee.shared[e.readerSettings.mobile.font]||(e.readerSettings.mobile.font=LC),t.client=T1({},FC({documentLocations:Es(t.persistent.settings.documentLocations)}),e)},{userInteraction:null,eventName:"client-settings-updated",undoable:!1})},Vre=async e=>{await re(t=>{t.clientStateLoaded=!0},{...e,eventName:"client-state-loaded",undoable:!1})},Gre=async(e,t)=>{const n=await re(r=>{if(!Es(r.persistent.settings.documentLocations).includes(e)||!r.persistent.documents)return;E9(Fre(r.persistent.documents,e),5).forEach(a=>{ks(a,rt.New)})},{...t,eventName:"move-random-docs-to-inbox"});return t.userInteraction&&vt({content:`Moved random documents to ${rt.New}`,category:"success",link:`/${[ow(),rt.New].filter(Boolean).join("/")}`,linkTooltipContent:`Go to ${rt.New}`,undoableUserEventId:n.userEvent.id}),n},eb="document-triage-status-updated",XR="full-document-deleted";let ir=[],Wo;const qa=async({numPreviouslyUpdated:e=0,docIds:t,docCallback:n,createToastOptions:r,afterFinish:i,eventsIds:a=[],options:o})=>{var v,w;if(e===0&&ir.length){vt({content:"Please, wait for the previous bulk action to finish",category:"warning"});return}const s=1e3;let l=0;const u=await re(A=>{if(!A.persistent.documents)return;!ir.length&&t&&(ir=t,Fe.debug("Total docs length to update:",t.length));const g=ir.slice(0,s).map(b=>(A.persistent.documents||{})[b]);l=ir.length,g.forEach(b=>n(b,A)),Fe.debug("Current batch size:",g.length),ir=ir.slice(s)},{...o,correlationId:Wo}),c=(v=u.userEvent)==null?void 0:v.id,f=c?[...a,c]:a;Wo||(Wo=(w=u.userEvent)==null?void 0:w.correlationId);const d=s+e,p=!ir.length;if(p?Wo=void 0:setTimeout(async()=>{if(za.find(A=>A.correlationId===Wo)){ir=[],Wo=void 0;return}qa({numPreviouslyUpdated:d,docCallback:n,createToastOptions:r,afterFinish:i,eventsIds:f,options:o})},1e3),o.userInteraction){const A=l+d-s,h=r({updateResult:u,updatedDocsCount:d,totalDocsToUpdateCount:A});vt(h),p&&i&&i(f)}},Kre=async({docIds:e,newStatus:t,options:n})=>{!Object.values(rt).includes(t)||qa({docIds:e,createToastOptions:({updateResult:i,updatedDocsCount:a,totalDocsToUpdateCount:o})=>{let s;const l=lw(t);return ir.length?s=`Moving ${a} / ${o} documents to ${l}...`:s=`Moved all to ${l}`,{content:s,category:"success",link:`/${[ow(),t].filter(Boolean).join("/")}`,linkTooltipContent:`Go to ${l}`,undoableUserEventId:(i==null?void 0:i.userEvent).id}},docCallback:i=>{ks(i,t)},options:{...n,eventName:"move-all-docs-to-new-status"}})},Yre=async({docIds:e,markAsOpen:t,aboveOrBelow:n,afterFinish:r,options:i})=>{const a=t?"seen":"unseen";qa({docIds:e,createToastOptions:({updateResult:o,updatedDocsCount:s,totalDocsToUpdateCount:l})=>{let u;return ir.length?u=`Marking ${s} / ${l} documents as ${a}...`:u=`${l} Documents marked as ${a}`,{content:u,category:"success",undoableUserEventId:(o==null?void 0:o.userEvent).id}},docCallback:o=>{if(t){const s=Date.now();o.firstOpenedAt||(o.firstOpenedAt=s),o.lastOpenedAt=s}else o.firstOpenedAt&&delete o.firstOpenedAt,o.lastOpenedAt&&delete o.lastOpenedAt},afterFinish:r,options:{...i,eventName:`mark-all-docs-as-${a}`}})},JR=async({docIds:e,options:t})=>{qa({docIds:e,createToastOptions:({updateResult:n,updatedDocsCount:r,totalDocsToUpdateCount:i})=>{let a;return ir.length?a=`Deleting ${r} / ${i} documents...`:a=`${i} Documents deleted`,{content:a,category:"success",undoableUserEventId:(n==null?void 0:n.userEvent).id}},docCallback:(n,r)=>{hm(r,n.id,{removeChildren:!0})},options:{...t,eventName:"delete-all-documents-in-list"}})},Qre=async e=>{const t=!Ct.getState().client.autoAdvance,n=await re(r=>{r.client.autoAdvance=t},{...e,undoable:!1,eventName:"auto-advance-toggled"});e.showToast&&vt({content:`Auto-advance turned ${t?"on":"off"}`,category:"success",undoableUserEventId:n.userEvent.id})},Xre=async(e,t)=>{const n=await re(r=>{r.persistent.settings.defaultPage=e},{...t,eventName:"default-page-setting-updated"});t.showToast&&vt({content:"Default page updated",category:"success",undoableUserEventId:n.userEvent.id})},Jre=async({docIds:e,tagName:t,options:n})=>{qa({docIds:e,createToastOptions:({updateResult:r,updatedDocsCount:i,totalDocsToUpdateCount:a})=>{let o;return ir.length?o=`Adding ${t} tag to ${i} / ${a} documents...`:o=`${t} tag added`,{content:o,category:"success",undoableUserEventId:(r==null?void 0:r.userEvent).id}},docCallback:(r,i)=>{nu({state:i,documentId:r.id,tagName:t,options:n})},options:{...n,eventName:"add-tag-to-all-documents-in-list"}})},tb=e=>{const t=Ct.getState().persistent.documents||{},n=[];for(const r of Object.values(t))Object.values(r.tags||{}).find(o=>o.name===e)&&n.push(r.id);return n},ZR=({prevTagNames:e,newTagName:t})=>{const n={};for(const r of e)n[r]=tb(r);re(r=>{Object.entries(n).forEach(([a,o])=>{for(const s of o)wo(r,s,a),nu({state:r,documentId:s,tagName:t,options:{userInteraction:"unknown"}})});const i=r.persistent.filteredViews||{};for(const a of Object.values(i))for(const o of e)a.query.includes(`tag:"${o}"`)&&(a.query=a.query.replace(`tag:"${o}"`,`tag:"${t}"`)),a.query.includes(`tag:${o}`)&&(a.query=a.query.replace(`tag:${o}`,`tag:"${t}"`))},{userInteraction:"unknown",eventName:"rename-tag"})},Zre=({prevTagName:e,newTagName:t})=>{ZR({prevTagNames:[e],newTagName:t})},eie=({tagName:e})=>{const t=tb(e);eN({docIds:t,tagName:e,options:{userInteraction:"unknown"}})},eN=async({docIds:e,tagName:t,options:n})=>{qa({docIds:e,createToastOptions:({updateResult:r,updatedDocsCount:i,totalDocsToUpdateCount:a})=>{let o;return ir.length?o=`Removing ${t} tag from ${i} / ${a} documents...`:o=`${t} tag removed`,{content:o,category:"success",undoableUserEventId:(r==null?void 0:r.userEvent).id}},docCallback:(r,i)=>{wo(i,r.id,t)},options:{...n,eventName:"remove-tag-from-all-documents-in-list"}})},tie=({tagNames:e})=>{const t=[];for(const r of e)t.push(...tb(r));const n=e.length>1?"tags":"tag";qa({docIds:t,createToastOptions:({updateResult:r,updatedDocsCount:i,totalDocsToUpdateCount:a})=>{let o;return ir.length?o=`Removing ${e.length} ${n} from ${i} / ${a} documents...`:o=`${e.length} ${n} removed`,{content:o,category:"success",undoableUserEventId:(r==null?void 0:r.userEvent).id}},docCallback:(r,i)=>{const a=Object.values(r.tags||{}).filter(o=>e.includes(o.name));for(const o of a)wo(i,r.id,o.name)},options:{userInteraction:"click",eventName:"remove-tags-from-all-documents-in-list"}})},tN=async(e,t)=>{await re(n=>{window.isRadixDropdownOpen||(n.focusedDocumentId=e)},{...t,eventName:"focused-document-id-updated",shouldCreateUserEvent:!1,undoable:!1})},nie=async e=>{ate(t=>{t.focusedHighlightId=e})},rie=async e=>{await re(t=>{t.focusedFeedId=e},{userInteraction:"unknown",eventName:"focused-feed-id-updated",shouldCreateUserEvent:!1,undoable:!1})},iie=async e=>{await re(t=>{t.client.sortFeedsByKey=e},{userInteraction:"unknown",eventName:"feed-sources-sort-key-updated",shouldCreateUserEvent:!1,undoable:!1})},aie=async e=>{await re(t=>{t.client.sortFeedsByOrder=e},{userInteraction:"unknown",eventName:"feed-sources-sort-order-updated",shouldCreateUserEvent:!1,undoable:!1})},oie=async e=>{await re(t=>{t.focusedTagId=e},{userInteraction:"unknown",eventName:"focused-tag-id-updated",shouldCreateUserEvent:!1,undoable:!1})},sie=async e=>{await re(t=>{t.client.sortTagsByKey=e},{userInteraction:"unknown",eventName:"tags-list-sort-key-updated",shouldCreateUserEvent:!1,undoable:!1})},lie=async e=>{await re(t=>{t.client.sortTagsByOrder=e},{userInteraction:"unknown",eventName:"tags-list-sort-order-updated",shouldCreateUserEvent:!1,undoable:!1})},uie=async e=>{await re(t=>{t.focusedViewId=e},{userInteraction:"unknown",eventName:"focused-view-id-updated",shouldCreateUserEvent:!1,undoable:!1})},cie=async e=>{await re(t=>{t.client.sortViewsByKey=e},{userInteraction:"unknown",eventName:"view-list-sort-key-updated",shouldCreateUserEvent:!1,undoable:!1})},fie=async e=>{await re(t=>{t.client.sortViewsByOrder=e},{userInteraction:"unknown",eventName:"views-list-sort-order-updated",shouldCreateUserEvent:!1,undoable:!1})},die=async(e,t={userInteraction:"unknown"})=>{await re(n=>{n.mobileDocumentTableOfContents=e},{...t,eventName:"mobile-document-table-of-contents-updated",shouldCreateUserEvent:!1,undoable:!1})},hie=async(e,t={userInteraction:"unknown"})=>{await re(n=>{n.mobileActiveTableOfContentsHeadingId=e},{...t,eventName:"mobile-document-table-of-contents-active-item-updated",shouldCreateUserEvent:!1,undoable:!1})},pie=async(e,t,n)=>re(r=>{var i,a;if((a=(i=r.persistent.documents)==null?void 0:i[e].tags)!=null&&a[t]){wo(r,e,t);return}nu({documentId:e,options:n,state:r,tagName:t})},{...n,eventName:"tag-toggled"}),gie=async(e,t,n)=>{const r=Si().toLowerCase();let i;t.includes("/split/")&&(i=t.split("/split/")[1].split("/")[0]);const a=await re(o=>{const s=o.client.documentsSortMenu.rules.filterPage[0];o.persistent.filteredViews[r]={...e,id:r,created:Date.now(),order:1/0,sortRules:[{id:Si().toLowerCase(),key:s.key,order:s.order}]},i&&(o.persistent.filteredViews[r].splitBy=i)},{...n,eventName:"filtered-view-saved"});return vt({content:"Filtered view saved",category:"success",undoableUserEventId:a.userEvent.id}),r},nN=async(e,t)=>{const n=await re(r=>{for(const i of e)if(i.query==="")pm(r,i.id);else{const a={...r.persistent.filteredViews[i.id],...pp(i,["name","description","icon","query","sortRules","splitBy","isUnpinned","showCountBadge"])};a.splitBy||delete a.splitBy,r.persistent.filteredViews[i.id]=a}},{...t,eventName:"filtered-view-updated"});t.showToast&&vt({content:"Filtered view updated",category:"success",undoableUserEventId:n.userEvent.id})},mie=async(e,t)=>{nN([e],t)},vie=async(e,t)=>{const n=await re(r=>{e.forEach(i=>{r.persistent.filteredViews[i.id].order=i.order})},{...t,eventName:"filtered-view-updated"});t.showToast&&vt({content:"Filtered view order updated",category:"success",undoableUserEventId:n.userEvent.id})},rN=async(e,t)=>{const n=await re(r=>{for(const i of e)pm(r,i)},{...t,eventName:"filtered-view-removed"});t.showToast&&vt({content:e.length===1?"Filtered view removed":`${e.length} filtered views removed`,category:"success",undoableUserEventId:n.userEvent.id})},yie=async(e,t)=>{rN([e],{...t,showToast:!0})},wie=async({viewIds:e,viewName:t,options:n})=>{const r=await re(i=>{const a=[];for(const s of e)i.persistent.filteredViews&&a.push(`(${i.persistent.filteredViews[s].query})`),pm(i,s);const o={name:t,description:"",query:a.join(" OR ")};JV(i,o)},{...n,eventName:"filtered-views-merged"});vt({content:"Views merged",category:"success",undoableUserEventId:r.userEvent.id})},bie=e=>Ct(st.exports.useCallback(t=>{if(!(!e||!t.persistent.rssFeeds)){for(const n in t.persistent.rssFeeds)if(t.persistent.rssFeeds[n].url===e)return n}},[e])),_ie=async(e,t,n,r,i)=>{if(!!e)if(await cte(!1,{userInteraction:"unknown"}),t&&n){if(!confirm(`Warning: ${r} Continue?`))return;await oN(n,i)}else await iN(e,i)},Sie=async(e,t)=>{const n=await re(r=>{r.persistent.deletedRssSuggestions||(r.persistent.deletedRssSuggestions={}),r.persistent.deletedRssSuggestions[e]=[]},{...t,eventName:`feed-restore-deleted-suggestions-${e}-signal`});vt({content:`Restored ${e} signal suggestions`,category:"success",undoableUserEventId:n.userEvent.id})},Eie=async(e,t,n)=>{const r=await re(i=>{i.persistent.deletedRssSuggestions||(i.persistent.deletedRssSuggestions={}),i.persistent.deletedRssSuggestions[t]||(i.persistent.deletedRssSuggestions[t]=[]);for(const a of e)i.persistent.deletedRssSuggestions[t].push(a)},{...n,eventName:`feed-delete-suggestions-${t}-signal`});vt({content:`Deleted ${e.length} suggestions`,category:"success",undoableUserEventId:r.userEvent.id})},xie=async(e,t)=>{const n=await re(i=>{i.persistent.rssFeeds||(i.persistent.rssFeeds={});for(const a of e)i.persistent.rssFeeds[a.id]={created:Date.now(),url:a.url,name:a.name,description:a.description,image_url:a.image_url}},{...t,eventName:"rss-subscribed-to-suggested-feeds"}),r=i=>{var a;(n==null?void 0:n.userEvent)&&!i.includes(n.userEvent.id)||(Ec({jobType:Ll.RssImport,jobArguments:{triggeredByClient:!0,newArticlesToAdd:1},options:{correlationId:(a=n.userEvent)==null?void 0:a.correlationId,...t}}),Yr.pollLatestStateAndContent(20),Kr.off("backgroundToServerUpdatesConsumed",r))};Kr.on("backgroundToServerUpdatesConsumed",r),vt({content:`Subscribed to ${e.length} feeds`,category:"success",undoableUserEventId:n.userEvent.id})},iN=async(e,t)=>{const n=e.url,r=Si().toLowerCase(),i=n.trim(),a=await re(s=>{s.persistent.rssFeeds||(s.persistent.rssFeeds={}),!Boolean(Object.keys(s.persistent.rssFeeds).find(u=>{var c;return((c=s.persistent.rssFeeds)==null?void 0:c[u].url)===i}))&&(s.persistent.rssFeeds[r]={created:Date.now(),...Vl(e,"id"),url:i})},{...t,eventName:"rss-feed-added"}),o=s=>{var l;(a==null?void 0:a.userEvent)&&!s.includes(a.userEvent.id)||(Ec({jobType:Ll.RssImport,jobArguments:{triggeredByClient:!0,only:r},options:{correlationId:(l=a.userEvent)==null?void 0:l.correlationId,...t}}),Yr.pollLatestStateAndContent(20),Kr.off("backgroundToServerUpdatesConsumed",o))};Kr.on("backgroundToServerUpdatesConsumed",o),vt({content:t.toastContent||"Adding newest 5 items...",category:"success",undoableUserEventId:a.userEvent.id})},aN=async(e,t)=>{var a,o;const n=await re(s=>{e.forEach(l=>{s.persistent.rssFeeds&&delete s.persistent.rssFeeds[l]})},{...t,eventName:"document-feed-removed"}),r=Ct.getState().persistent.documents;if(!r)return;const i=Object.keys(r).reduce((s,l)=>{var p;const u=r[l],c=(p=u.source_specific_data)==null?void 0:p.rss_feed;if(!(c&&e.includes(c)))return s;const d=ma(u);return d&&d!==rt.Feed?{...s,docIdsToRemoveFromFeed:[...s.docIdsToRemoveFromFeed,l]}:{...s,docIdsToDelete:[...s.docIdsToDelete,l]}},{docIdsToDelete:[],docIdsToRemoveFromFeed:[]});Wo=(a=n==null?void 0:n.userEvent)==null?void 0:a.correlationId,JR({docIds:i.docIdsToDelete,options:{userInteraction:"unknown"}}),re(s=>{var l,u;for(const c of i.docIdsToRemoveFromFeed){const f=(u=(l=s.persistent)==null?void 0:l.documents)==null?void 0:u[c];f&&(f.shows_in_feed=!1)}},{userInteraction:"unknown",correlationId:(o=n==null?void 0:n.userEvent)==null?void 0:o.correlationId,eventName:"documents-updated-on-feed-removal"}),vt({content:"RSS removed from feed",category:"success",undoableUserEventId:n.userEvent.id})},oN=async(e,t)=>{aN([e],t)},sN=async(e,t,n)=>re(r=>{nu({state:r,tagName:t,documentId:e,options:n})},{...n,eventName:"document-tag-added"}),kie=async(e,t,n)=>{const r=await re(i=>{wo(i,e,t)},{...n,undoable:n.undoable,eventName:"document-tag-removed"});return n.showToast&&vt({content:"Tag removed",category:"success",undoableUserEventId:n.undoable?r.userEvent.id:void 0}),r},nb=async(e,t,n="undo-action")=>{const r=MC(),i=r.findIndex(({id:u})=>u===e);if(i===-1)throw new Error("No such event exists");const[a]=r.splice(i,1),o=a.correlationId,s=[a];for(let u=i-1;u>=0;u--){const c=r[u];(c==null?void 0:c.correlationId)===o&&(s.push(c),r.splice(u,1))}for(const u of s)za.push(u),await re(c=>{go(c.persistent,u.dataUpdates.reversePatch),c.canUndoAction=!1},{correlationId:u.correlationId,eventName:n,undoable:!1,userInteraction:t}),VQ(u.id);if(a.name===eb||a.name===XR){const u=a.dataUpdates.itemsUpdated[0];u.type==="documents"&&tN(u.id,{userInteraction:null})}Mo.emit("undid-action",{events:s})},lN=async(e,t,n="redo-action")=>{const r=za.findIndex(({id:a})=>a===e);if(r===-1)throw new Error("No such event exists");const[i]=za.splice(r,1);await re(a=>{go(a.persistent,i.dataUpdates.forwardPatch),a.canUndoAction=!0},{correlationId:i.correlationId,eventName:n,undoable:!0,userInteraction:t})},uN="undo-last-document-action",Tie=async e=>{const t=MC();!t.length||await nb(t[t.length-1].id,e,uN)},cN="redo-last-document-action",Aie=async e=>{if(!za.length)return;const t=Ct.getState(),n=t.userEvents[t.userEvents.length-1].name;n===uN||n===cN?await lN(za[za.length-1].id,e,cN):za.length=0},Cie=async e=>{await re(t=>{t.documentsListScrolled=e},{eventName:"documents-list-scrolled-updated",shouldCreateUserEvent:!1,userInteraction:"scroll",undoable:!1})},Rie=async e=>{await re(t=>{t.isDocMoreActionsDropdownOpen=e},{eventName:"is-dropdown-open-updated",userInteraction:"unknown",undoable:!1})},Nie=async e=>{await re(t=>{t.isEditTagsPopoverShown=e},{eventName:"is-edit-tags-open-updated",userInteraction:"unknown",undoable:!1})},Oie=async()=>{await re(e=>{e.isDocMoreActionsDropdownOpen=!e.isDocMoreActionsDropdownOpen},{eventName:"is-dropdown-open-toggled",userInteraction:"unknown",undoable:!1})},Iie=async(e,t)=>{await re(n=>{Kn?n.client.readerSettings.mobile.fontSize=e:n.client.readerSettings.desktop.fontSize=e},{...t,eventName:"font-size-updated",undoable:!1})},Die=async(e,t)=>{await re(n=>{Kn?n.client.readerSettings.mobile.lineHeight=e:n.client.readerSettings.desktop.lineHeight=e},{...t,eventName:"line-spacing-updated",undoable:!1})},Pie=async(e,t)=>{await re(n=>{Kn?n.client.readerSettings.mobile.lineLength=e:n.client.readerSettings.desktop.lineLength=e},{...t,eventName:"horizontal-margin-updated",undoable:!1})},fN=async(e,t)=>{await re(n=>{Kn?n.client.readerSettings.mobile.font=e:n.client.readerSettings.desktop.font=e},{...t,eventName:"mobile-font-updated",undoable:!1})},Lie=async e=>{await re(t=>{t.client.largeFeedView=!t.client.largeFeedView},{...e,eventName:"mobile-toggle-large-feed-view",undoable:!1})},$ie=async()=>{await re(e=>{e.client.askToPasteUrls=!e.client.askToPasteUrls},{userInteraction:"unknown",eventName:"mobile-toggle-ask-to-paste-url",undoable:!0})},Fie=async()=>{await re(e=>{e.client.mobileHapticsEnabled=!e.client.mobileHapticsEnabled},{userInteraction:"unknown",eventName:"mobile-toggle-haptics",undoable:!0})},jie=async({name:e,action:t})=>{await re(n=>{n.client.headphoneGestures[e]=t},{userInteraction:"unknown",eventName:"mobile-headphone-gesture-updated",undoable:!0})},Mie=async()=>{await re(e=>{e.client.openLinksInApp=!e.client.openLinksInApp},{userInteraction:"unknown",eventName:"mobile-toggle-open-links-in-app",undoable:!0})},zie=async()=>{await(async()=>{const t=await Mre();!t||await IN(t)})(),await re(t=>{t.persistent.settings.digest?t.persistent.settings.digest={enabled:!t.persistent.settings.digest.enabled}:t.persistent.settings.digest={enabled:!0}},{userInteraction:"unknown",eventName:"mobile-toggle-daily-digest",undoable:!1}),await Ec({jobType:Ll.GenerateFirstDailyDigest,jobArguments:{},options:{userInteraction:"tap"}}),Yr.pollLatestStateAndContent(20)},Bie=async()=>{await re(e=>{e.client.dailyDigestHomeNudgeDisabled=!0},{userInteraction:"unknown",eventName:"disable-daily-digest-home-nudge",undoable:!1})},Uie=async(e,t,n)=>{await re(r=>{var o,s;if(!r.persistent.documents)throw new Error("Documents do not exist");const i=r.persistent.documents[e];if(!i)throw new Error("Document does not exist");let a=t;a<.1&&(a=.1),a>14&&(a=14),(o=i==null?void 0:i.source_specific_data)!=null&&o.pdf?i.source_specific_data.pdf.zoom=a:i.source_specific_data={...(i==null?void 0:i.source_specific_data)||{},pdf:{...((s=i==null?void 0:i.source_specific_data)==null?void 0:s.pdf)||{},zoom:a}}},{...n,eventName:"pdf-zoom-updated"})},Hie=async(e,t,n)=>{await re(r=>{var a,o;if(!r.persistent.documents)throw new Error("Documents do not exist");const i=r.persistent.documents[e];if(!i)throw new Error("Document does not exist");(a=i==null?void 0:i.source_specific_data)!=null&&a.pdf?i.source_specific_data.pdf.rotation=t:i.source_specific_data={...(i==null?void 0:i.source_specific_data)||{},pdf:{...((o=i==null?void 0:i.source_specific_data)==null?void 0:o.pdf)||{},rotation:t}}},{...n,eventName:"pdf-rotation-updated"})},qie=async(e,t,n)=>{await re(r=>{var a,o;if(!r.persistent.documents)throw new Error("Documents do not exist");const i=r.persistent.documents[e];if(!i)throw new Error("Document does not exist");(a=i==null?void 0:i.source_specific_data)!=null&&a.pdf?i.source_specific_data.pdf.invertColors=t:i.source_specific_data={...(i==null?void 0:i.source_specific_data)||{},pdf:{...((o=i==null?void 0:i.source_specific_data)==null?void 0:o.pdf)||{},invertColors:t}}},{...n,eventName:"pdf-invert-colors-updated"})},Wie=async(e,t,n)=>{await re(r=>{var a,o;if(!r.persistent.documents)throw new Error("Documents do not exist");const i=r.persistent.documents[e];if(!i)throw new Error("Document does not exist");(a=i==null?void 0:i.source_specific_data)!=null&&a.pdf?i.source_specific_data.pdf.sidebarContentType=t:i.source_specific_data={...(i==null?void 0:i.source_specific_data)||{},pdf:{...((o=i==null?void 0:i.source_specific_data)==null?void 0:o.pdf)||{},sidebarContentType:t}}},{...n,eventName:"pdf-sidebar-content-type-updated"})},Vie=async(e,t)=>{await re(n=>{n.persistent.settings.mobile.autoHighlight=e},{...t,eventName:"mobile-auto-highlight-updated",undoable:!1})},Gie=async e=>{await re(t=>{t.mobileLoggedIn=e},{eventName:"mobile-logged-in-updated",shouldCreateUserEvent:!1,userInteraction:"unknown",undoable:!1})},Kie=async e=>{await re(t=>{t.mobileSelectedFilteredViewQuery=e},{eventName:"mobile-selected-filtered-view-query-updated",userInteraction:"unknown",undoable:!1})},dN=async(e,t,n)=>{const r=await qo(e,i=>{i.readingPosition?(i.readingPosition.scrollDepth<t.scrollDepth||n.force)&&(i.readingPosition=t):i.readingPosition=t},{...n,undoable:n.undoable});if(n.showToast){const i=t.scrollDepth===1?"Marked as read":"Reading position updated";vt({content:i,category:"success",undoableUserEventId:n.undoable?r.userEvent.id:void 0})}},Yie=async(e,t,n)=>{await qo(e,r=>{r.currentScrollPosition=t},{...n,undoable:!1})},Qie=async e=>{await re(t=>{t.linkActionsUrl=e},{eventName:"link-action-url-updated",userInteraction:"unknown",undoable:!0})},Xie=async(e,t)=>{await re(n=>{n.client.theme=e},{...t,eventName:"theme-updated",undoable:!1})},Jie=async()=>{await re(e=>{e.client.theme=e.client.theme===lr.Default?lr.Dark:lr.Default},{eventName:"dark-mode-theme-updated",userInteraction:"unknown",undoable:!1})},Zie=async e=>{if(!e.length)return;const t=Ct.getState().persistent.documents;if(!t)throw new Error("!state.persistent.documents");const n=e.map(({id:a})=>a),r=W1(t,n);await re(a=>{if(!a.persistent.documents)throw new Error("!state.persistent.documents");for(const o of e){if(!r[o.id]){const s="No documents related to parsed doc ID. Maybe user deleted the doc as the content was loading?";Fe.error(s,{item:o,items:e,state:a}),ss(s,{extra:{item:o,items:e,state:a}});continue}for(const s of r[o.id])if(a.persistent.documents[s].contentRequestLoadingStatus=Bi.Loaded,a.persistent.documents[s].contentParsingStatus=o.status,o.status===Ui.Success){const l=a.persistent.documents[s];l.content=o.html,l.tts||(l.tts={}),l.tts=o.tts,a.persistent.documents[s].ttsParsingStatus=o.tts_status}}},{allowPersistence:!1,eventName:"document-content-loading-status-updated",shouldCreateUserEvent:!1,undoable:!1,userInteraction:null});const i=Jc(e.filter(({status:a})=>[Ui.Pending,Ui.ServerTaskNotStartedYet].includes(a)).map(({id:a})=>r[a]));!i.length||setTimeout(()=>pN(i,!0),1e3)},hN=async(e,t)=>{if(!e.length)return;const n=e,r=async i=>{const o=(Array.isArray(i)?i:i.foundItems).filter(s=>n.includes(s.id));if(!!o.length){await Zie(o);for(const s of o)n.splice(n.findIndex(l=>l===s.id),1);n.length||(Kr.off("stores__documentContent__items-received-by-id",r),Kr.off("stores__documentContent__items-received-from-server",r))}};return Kr.on("stores__documentContent__items-received-by-id",r),Kr.on("stores__documentContent__items-received-from-server",r),Yr.loadDocumentContentByIds(e,t)};let Sc=[];const eae=jg(async e=>{var a;if(!Sc.length)return;const t=Ct.getState();if(!t.persistent.documents)throw new Error("No documents in state");const n=[];for(const o of Sc){const s=t.persistent.documents[o];if(!s||!qi(s)||s.contentRequestLoadingStatus===Bi.Loading||!s.parsed_doc_id)continue;const l=KR(s)||e;s.contentRequestLoadingStatus===Bi.Loaded&&!l||n.push(s)}if(Sc=[],!n.length)return;const r=o=>s=>{if(!s.persistent.documents)throw new Error("No documents in state");for(const l of n)s.persistent.documents[l.id]||Fe.warn("Document is no longer in state -- it was likely deleted by the user."),s.persistent.documents[l.id].contentRequestLoadingStatus=o},i={allowPersistence:!1,eventName:"document-content-loading-status-updated",shouldCreateUserEvent:!1,undoable:!1,userInteraction:null};re(r(Bi.Loading),i);try{const o=[],s=[];for(const l of n){const u=(a=l.parsed_doc_id)==null?void 0:a.toString();u&&(KR(l)||e?s.push(u):o.push(u))}if(s.length||o.length){const l=[];s.length&&l.push(hN(s,!0)),o.length&&l.push(hN(o,!1)),await Promise.all(l)}else Fe.warn("fetchDocumentContentThrottled:","of the IDs requested, none of the documents (in state) have `parsed_doc_id`")}catch(o){throw re(r(Bi.Failed),i),o}},200),pN=async(e,t)=>{Sc=O1([...Sc,...e]),await eae(t)},tae=(...e)=>Yr.watchLinksReceivedFromServer(...e);async function Wh({parsedDocIds:e,shouldBypassCache:t}){await Yr.loadDocumentLinksByIds(e,t)}let Vh=null;const rb=async e=>{Vh&&(clearTimeout(Vh),Vh=null),await re(t=>{t.canUndoAction=e,e&&(Vh=setTimeout(async()=>rb(!1),5e3))},{eventName:"can-undo-action",shouldCreateUserEvent:!1,userInteraction:"unknown"})},nae=async e=>{const t=Date.now();await re(n=>{var i,a;const r=(a=(i=n.persistent)==null?void 0:i.documents)==null?void 0:a[e];!r||(r.firstOpenedAt=t,r.lastOpenedAt=t)},{eventName:"document-opened-first-time",undoable:!1,userInteraction:"unknown"})},gN=async(e,t=!1)=>{const n=Date.now(),r=xs(e);r&&await qo(e,i=>{i.firstOpenedAt||(i.firstOpenedAt=n),i.lastOpenedAt=n},{eventName:"document-opened",undoable:t,userInteraction:"unknown"}),r&&qi(r)&&r.reading_status!==xf.Archived&&await Gh(r.id,{userInteraction:"unknown"})},mN=async(e,t=!1)=>{xs(e)&&await qo(e,r=>{delete r.firstOpenedAt,delete r.lastOpenedAt},{eventName:"document-unopened",undoable:t,userInteraction:"unknown"})},rae=async(e,t=!1)=>{const n=xs(e);n&&(n.firstOpenedAt?await mN(e,t):await gN(e,t))},iae=async(e,t)=>{const n=Date.now(),r=await qo(e,i=>{i.last_status_update=n},{...t,eventName:"document-bumped",undoable:!1,userInteraction:"unknown"});return vt({content:"Bumped document to top",category:"success",undoableUserEventId:r.userEvent.id}),r},aae=async(e,t)=>{const n=xs(e);if(n&&Af(n))if(n.children.length!==0)await re(i=>{i.isDeleteDocumentDialogOpen=!0},{eventName:"open-delete-document-dialog",undoable:!1,userInteraction:null});else return vN(e,t)},vN=async(e,t)=>{const n=await YR(e,{...t,removeChildren:!0,eventName:XR});return t.shouldCreateToast!==!1&&vt({content:"Deleted document",category:"success",undoableUserEventId:n.userEvent.id}),n},oae=async e=>{await re(t=>{t.isDeleteDocumentDialogOpen=!1},{...e,eventName:"close-delete-document-dialog",undoable:!1})},sae=async(e,t)=>{!e||await re(n=>{n.client.recentSearches||(n.client.recentSearches=[]);const r=Array.from(n.client.recentSearches);A1(r,a=>a===e),r.push(e);const i=r.length-19;i>0&&ZW(r,i),n.client.recentSearches=r},{...t,eventName:"search-terms-updated",undoable:!1})},lae=async(e,t)=>{!e||await re(n=>{const r=Array.from(n.client.recentSearches);A1(r,i=>i===e),n.client.recentSearches=r},{...t,eventName:"search-term-deleted",undoable:!1})},uae=async e=>{await re(t=>{t.allTags=e},{eventName:"init-all-tags",undoable:!1,userInteraction:null})},Gh=async(e,t)=>{if(!e){await re(r=>{r.persistent.currentlyReadingId=e},{...t,eventName:"set-currently-reading-doc",undoable:!1});return}const n=xs(e);!n||!qi(n)||n.reading_status===xf.Archived||await re(r=>{r.persistent.currentlyReadingId=e},{...t,eventName:"set-currently-reading-doc",undoable:!1})},cae=async(e,t)=>{await re(n=>{var i,a;if(!n.persistent.documents)throw new Error("Documents do not exist");const r=n.persistent.documents[e];if(!r)throw new Error("Document does not exist");(i=r==null?void 0:r.source_specific_data)!=null&&i.pdf?r.source_specific_data.pdf.viewAsHtml=t:r.source_specific_data={...(r==null?void 0:r.source_specific_data)||{},pdf:{...((a=r==null?void 0:r.source_specific_data)==null?void 0:a.pdf)||{},viewAsHtml:t}}},{eventName:"pdf-html-view-updated",undoable:!1,userInteraction:"click"})},fae=e=>{var n;const t=(n=Ct.getState().persistent.documents)==null?void 0:n[e];if(t.category===He.Email){vt({content:"This action is not supported on emails",category:"info"});return}t&&t.url&&window&&window.open(t.url,"_blank")},dae=async({onButtonClick:e,newDocumentLocation:t,tooltipContent:n=`Link saved to ${lw(t)}`,url:r})=>{const{id:i}=await SN({source:"Reader add from import URL",url:r},{userInteraction:"unknown"});return Yr.pollLatestStateAndContent(20),vt({content:n,category:"success",link:`/${t}/read/${i}`,buttonText:e?"Open":void 0,onButtonClick:e?()=>e(i):void 0}),i};async function hae({docId:e}){var t,n;for(let r=0;r<20;r++){const i=(t=Ct.getState().persistent.documents)==null?void 0:t[e];if(i===void 0){Fe.warn("User deleted document while reloading links, or document never existed",{docId:e});break}const a=(n=i==null?void 0:i.parsed_doc_id)==null?void 0:n.toString();if(a===void 0)throw Error("document does not have a parsed_doc_id");await Wh({parsedDocIds:[a],shouldBypassCache:!0});const o=i==null?void 0:i.links;if(o===void 0||!o.some(l=>l.loading))break;await ai(1e3)}}async function pae({url:e,anchorText:t}){Jw.methods.scrollToAnchor({url:e,anchorText:t})}async function gae({docId:e,url:t,newDocId:n,userInteraction:r}){var a;const i=(a=Ct.getState().persistent.documents)==null?void 0:a[e];if(i.links===void 0){if(!i.parsed_doc_id)return;await Wh({parsedDocIds:[i.parsed_doc_id.toString()],shouldBypassCache:!0})}await re(o=>{var c;const s=(c=o.persistent.documents)==null?void 0:c[e].links;if(!s)throw new Error("no links???");const l=wc(t),u=s.findIndex(f=>l===wc(f.url));if(u===-1){ss(new Error("could not find link to set loading"),{extra:{docUrl:i.url,links:s,url:t,normalizedUrl:l,docId:e,newDocId:n}});return}s[u]={metadata:{title:"",author:"",summary:"Loading..",domain:_C(t),favicon_url:"",word_count:0},other_document:n,loading:!0,...s[u]}},{allowPersistence:!1,eventName:"document-saved-from-links-tab",userInteraction:r}),hae({docId:e})}const mae=e=>{qh(e),vt({content:"Copied to clipboard",category:"success"})},vae=e=>{const t=jre(e);qh(t),vt({content:"Copied title to clipboard",category:"success"})},yae=e=>{var n;const t=(n=Ct.getState().persistent.documents)==null?void 0:n[e];t&&t.url&&(qh(t.url),vt({content:"Copied URL to clipboard",category:"success"}))},wae=e=>{qh(`${ap()}/read/${e}`),vt({content:"Copied Reader URL to clipboard",category:"success"})},bae=async(e,t)=>{const n=`${e.keys}__${e.description}`;return Ct.getState().keyboardShortcuts[n]||await re(r=>{r.keyboardShortcuts[n]={...e,keys:e.keys}},{...t,shouldCreateUserEvent:!1,eventName:"set-keyboard-shortcut-description",undoable:!1}),n},_ae=async(e,t)=>{await re(n=>{delete n.keyboardShortcuts[e]},{...t,shouldCreateUserEvent:!1,eventName:"unset-keyboard-shortcut-description",undoable:!1})},Sae=Mf(e=>{vt({category:e===si.Online?"success":"default",content:Bg(e)})},5e3,{leading:!0}),yN=async(e,t)=>{await re(n=>{n.isOnline===t&&n.networkStatus===e||(n.isOnline=t,n.networkStatus=e,!Jt&&!Kn&&Sae(e))},{shouldCreateUserEvent:!1,eventName:"network-status-changed",userInteraction:null,undoable:!1})},Eae=async(e,t={})=>{await re(n=>{n.screenWidth=e},{...t,undoable:!1,eventName:"set-screen-width",userInteraction:null})},xae=async e=>{await re(t=>{const n=[...t.routeStack.slice(-4),e];t.routeStack=n;const r=Array.from(n).reverse().find(i=>!i.includes("/filter/"));r&&(t.filterPreviousRoute=r)},{undoable:!1,eventName:"route-changes",userInteraction:null})};function Wa(){return $re.test(window.location.pathname)}const kae=async(e,t)=>{await re(n=>{n.isInboxZero=e},{...t,undoable:!1,shouldCreateUserEvent:!1,eventName:"set-inbox-zero"})},Tae=async(e,t)=>{await re(n=>{n.emptyStateCategory=e},{...t,undoable:!1,shouldCreateUserEvent:!1,eventName:"set-empty-state-category"})},Aae=async e=>{await re(t=>{const n=!t.zenModeEnabled;t.zenModeEnabled=n,$i(t.screenWidth)?(t.leftSidebarHiddenForNarrowScreen=n,t.rightSidebarHiddenForNarrowScreen=n):Wa()?(t.leftSidebarHiddenInReadingView=n,t.rightSidebarHiddenInReadingView=n):t.client.rightSidebarHiddenInList=n},{...e,undoable:!1,eventName:"zen-mode-toggled"})};function Cae(e){const t=[...Kee,...Yee],n=t.findIndex(i=>i===e),r=t[0];return t[n+1]||r}const Rae=async e=>{const t=Ct.getState().client.readerSettings.desktop.font,n=Cae(t);fN(n,{userInteraction:"unknown"})},Nae=async e=>{await re(t=>{$i(t.screenWidth)?t.leftSidebarHiddenForNarrowScreen=!t.leftSidebarHiddenForNarrowScreen:Wa()&&(t.leftSidebarHiddenInReadingView=!t.leftSidebarHiddenInReadingView)},{...e,undoable:!1,eventName:"hide-left-sidebar-toggled"})},Oae=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?n.leftSidebarHiddenForNarrowScreen=e:Wa()&&(n.leftSidebarHiddenInReadingView=e)},{...t,undoable:!1,eventName:"hide-left-sidebar-toggled"})},Iae=async e=>{await re(t=>{$i(t.screenWidth)?t.rightSidebarHiddenForNarrowScreen=!t.rightSidebarHiddenForNarrowScreen:Wa()?t.rightSidebarHiddenInReadingView=!t.rightSidebarHiddenInReadingView:t.client.rightSidebarHiddenInList=!t.client.rightSidebarHiddenInList},{...e,undoable:!1,eventName:"hide-right-sidebar-toggled"})},wN=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?n.rightSidebarHiddenForNarrowScreen=e:Wa()?n.rightSidebarHiddenInReadingView=e:n.client.rightSidebarHiddenInList=e},{...t,undoable:!1,eventName:"hide-right-sidebar-toggled"})},Dae=async e=>{await re(t=>{if($i(t.screenWidth)){const n=!(t.leftSidebarHiddenForNarrowScreen||t.rightSidebarHiddenForNarrowScreen);t.leftSidebarHiddenForNarrowScreen=n,t.rightSidebarHiddenForNarrowScreen=n}else if(Wa()){const n=!(t.leftSidebarHiddenInReadingView||t.rightSidebarHiddenInReadingView);t.leftSidebarHiddenInReadingView=n,t.rightSidebarHiddenInReadingView=n}else{const n=!t.client.rightSidebarHiddenInList;t.client.rightSidebarHiddenInList=n}},{...e,undoable:!1,eventName:"hide-sidebars-toggled"})},Pae=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?(n.leftSidebarHiddenForNarrowScreen=e,n.rightSidebarHiddenForNarrowScreen=e):Wa()?(n.leftSidebarHiddenInReadingView=e,n.rightSidebarHiddenInReadingView=e):n.client.rightSidebarHiddenInList=e},{...t,undoable:!1,eventName:"hide-sidebars-toggled"})},Lae=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?(n.leftSidebarHiddenForNarrowScreen=e,n.rightSidebarHiddenForNarrowScreen=e):(n.leftSidebarHiddenInReadingView=e,n.rightSidebarHiddenInReadingView=e)},{...t,undoable:!1,eventName:"hide-sidebars-toggled"})},$ae=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?n.rightSidebarHiddenForNarrowScreen=e:n.rightSidebarHiddenInReadingView=e},{...t,undoable:!1,eventName:"hide-right-sidebar-toggled"})},Fae=async(e=!0,t)=>{await re(n=>{$i(n.screenWidth)?n.leftSidebarHiddenForNarrowScreen=e:n.leftSidebarHiddenInReadingView=e},{...t,undoable:!1,eventName:"hide-left-sidebar-toggled"})},jae=async e=>{const t=!Ct.getState().client.hideLeftPanelOnEnteringReadingView,n=await re(r=>{r.client.hideLeftPanelOnEnteringReadingView=t,r.client.hideRightPanelOnEnteringReadingView=t},{...e,undoable:!1,eventName:"reading-view-panels-toggled-hidden-by-default"});vt({content:`Hide panels on entering reading view ${t?"on":"off"}`,category:"success",undoableUserEventId:n.userEvent.id})},Mae=async e=>{const t=!Ct.getState().client.hideRightPanelOnEnteringReadingView,n=await re(r=>{r.client.hideRightPanelOnEnteringReadingView=t,r.client.hideLeftPanelOnEnteringReadingView=!1},{...e,undoable:!1,eventName:"reading-view-right-panel-toggled-hidden-by-default"});vt({content:`Hide right panel on entering reading view ${t?"on":"off"}`,category:"success",undoableUserEventId:n.userEvent.id})},zae=async e=>{const t=!Ct.getState().client.hideLeftPanelOnEnteringReadingView,n=await re(r=>{r.client.hideLeftPanelOnEnteringReadingView=t,r.client.hideRightPanelOnEnteringReadingView=!1},{...e,undoable:!1,eventName:"reading-view-left-panel-toggled-hidden-by-default"});vt({content:`Hide left panel on entering reading view ${t?"on":"off"}`,category:"success",undoableUserEventId:n.userEvent.id})},Bae=(e,t)=>{if(!(e===null&&Ct.getState().highlightIdToOpenAt===null))return re(n=>{n.highlightIdToOpenAt=e},{...t,undoable:!1,eventName:"set-highlight-id-to-open-at"})},Uae=e=>{wN(!1,e),re(t=>{t.isDocumentMetadataShown=!t.isDocumentMetadataShown},{...e,eventName:"documents-metadata-opened"})},Hae=e=>{re(t=>{t.isAppearancePanelShown=!t.isAppearancePanelShown},{...e,eventName:"appearance-panel-toggled"})},qae=async(e,t)=>{await re(n=>{n.isAppearancePanelShown=e},{...t,eventName:"appearance-panel-opened"})},Wae=e=>{re(t=>{t.isVideoSettingsPanelShown=!t.isVideoSettingsPanelShown},{...e,eventName:"video-settings-panel-toggled"})},Vae=async(e,t)=>{await re(n=>{n.isVideoSettingsPanelShown=e},{...t,eventName:"video-settings-panel-opened"})},Gae=async(e,t)=>{await re(n=>{var i,a,o;if(!n.persistent.documents)throw new Error("Documents do not exist");const r=n.persistent.documents[e];if(!r)throw new Error("Document does not exist");(a=(i=r==null?void 0:r.source_specific_data)==null?void 0:i.epub)!=null&&a.originalStylesEnabled?r.source_specific_data.epub.originalStylesEnabled=!1:r.source_specific_data={...(r==null?void 0:r.source_specific_data)||{},epub:{...((o=r==null?void 0:r.source_specific_data)==null?void 0:o.epub)||{},originalStylesEnabled:!0}}},{...t,eventName:"epub-original-styles-toggled"})},ib=({state:e,documentId:t,title:n})=>{if(!e.persistent.documents)throw new Error("Documents do not exist");const r=e.persistent.documents[t];if(!r)throw new Error("Document does not exist");if(!og(r))throw new Error("Document is not a DocumentWithTitle");r.overrides||(r.overrides={}),r.overrides.title=n},Kae=async(e,t,n)=>{const r=await re(i=>{ib({state:i,documentId:e,title:t})},{...n,eventName:"document-title-updated"});vt({content:"Title updated",category:"success",undoableUserEventId:r.userEvent.id})},ab=({state:e,documentId:t,summary:n})=>{if(!e.persistent.documents)throw new Error("Documents do not exist");const r=e.persistent.documents[t];if(!r)throw new Error("Document does not exist");if(!V_(r))throw new Error("Document is not a DocumentWithSummary");r.overrides||(r.overrides={}),r.overrides.summary=n},Yae=async(e,t,n)=>{const r=await re(i=>{ab({state:i,documentId:e,summary:t})},{...n,eventName:"document-summary-updated"});vt({content:"Summary updated",category:"success",undoableUserEventId:r.userEvent.id})},Qae=async(e,t,n)=>{const r=await re(i=>{const a=t.title;a&&ib({state:i,documentId:e,title:a});const o=t.author;o&&ob({state:i,documentId:e,author:o});const s=t.summary;s&&ab({state:i,documentId:e,summary:s});const l=t.coverImageUrl;l&&bN({state:i,documentId:e,coverImageUrl:l});const u=t.tagsToRemove;if(u&&u.forEach(c=>wo(i,e,c)),t.docProgress!==void 0){const f={scrollDepth:t.docProgress===100?1:0,serializedPosition:null};ZV({state:i,documentId:e,position:f,force:!0})}},{...n,eventName:"document-metadata-updated"});vt({content:"Metadata updated",category:"success",undoableUserEventId:r.userEvent.id})},bN=({state:e,documentId:t,coverImageUrl:n})=>{if(!e.persistent.documents)throw new Error("Documents do not exist");const r=e.persistent.documents[t];if(!r)throw new Error("Document does not exist");if(!V_(r))throw new Error("Document is not a DocumentWithSummary");r.overrides||(r.overrides={}),r.overrides.image_url=n},Xae=async(e,t,n)=>{const r=await re(i=>{bN({state:i,documentId:e,coverImageUrl:t})},{...n,eventName:"document-cover-image-updated"});vt({content:"Cover image updated",category:"success",undoableUserEventId:r.userEvent.id})},ob=({state:e,documentId:t,author:n})=>{if(!e.persistent.documents)throw new Error("Documents do not exist");const r=e.persistent.documents[t];if(!r)throw new Error("Document does not exist");if(!W_(r))throw new Error("Document is not a DocumentWithAuthor");r.overrides||(r.overrides={}),r.overrides.author=n},Jae=async(e,t,n)=>{const r=await re(i=>{ob({state:i,documentId:e,author:t})},{...n,eventName:"document-author-updated"});vt({content:"Author updated",category:"success",undoableUserEventId:r.userEvent.id})},_N=(e,t)=>{re(n=>{n.client.profile=e},{...t,eventName:"profile-updated"})},SN=async({author:e="",firstOpenedAt:t,html:n,id:r,lastOpenedAt:i,onSentToServer:a,shouldQueueJob:o=!0,source:s,title:l="",url:u},c)=>{let f;const p=Ct.getState().persistent.documents,v=r?p==null?void 0:p[r]:H1(p,u,{additionalFilter:w=>[He.Article,He.PDF,He.Tweet,He.Video].includes(w.category)});if(v)f=v.id,a&&setTimeout(a);else{f=r||Si().toLowerCase();const w={...c,eventName:"save-new-article"};a&&(w.onSentToServer=a);const{userEvent:A}=await re(h=>{if(!h.persistent.documents)throw new Error("Documents do not exist");const g=Date.now();h.persistent.documents[f]={author:e,category:q1(u),children:[],contentParsingStatus:Ui.ServerTaskNotStartedYet,contentRequestLoadingStatus:Bi.Unloaded,id:f,image_url:"",last_status_update:g,saved_at_history:[g.toString()],saved_at:g.toString(),source:s,title:l,triage_status:Es(h.persistent.settings.documentLocations).find(b=>b!==rt.Feed),ttsParsingStatus:Ui.ServerTaskNotStartedYet,links:[],url:u},t&&(h.persistent.documents[f].firstOpenedAt=t),i&&(h.persistent.documents[f].lastOpenedAt=i)},w);o&&await Ec({jobType:Ll.ParseNewDocument,jobArguments:{docId:f,large:{html:n}},options:{correlationId:A==null?void 0:A.correlationId,...c}})}return{id:f,wasAlreadySaved:Boolean(v)}},Ec=async({jobType:e,jobArguments:t,options:n})=>{await re(r=>{const i=Si().toLowerCase();r.persistent.jobs||(r.persistent.jobs={}),r.persistent.jobs[i]={id:i,created:Date.now(),status:B_.Queued,type:e,arguments:t,resultData:{}}},{...n,eventName:"queue-server-job"})},EN=async e=>{Fe.debug("Background to foreground state updates: ",e),await re(t=>{if(!t.persistent||!t.persistent.documents)throw new Error("onBackgroundStateUpdates called when state has not yet been initialized");for(const n of e)zg(t.persistent,n.patch),FV({state:t,update:n})},{allowPersistence:!1,eventName:"background-updates",userInteraction:null})},xN=({allLightweightOperations:e,docsAlreadyInState:t,documentIdsDirectlyEditedInThisUpdate:n,lightweightOperation:r})=>{const{parent:i,path:a}=r;if(["/currentlyReadingId","/rssFeeds","/filteredViews","/settings/ttsVoicePreference"].some(s=>a.startsWith(s)))return!1;if(!a.startsWith("/documents/")||!t)return!0;const o=a.split("/").filter(Boolean);return!!(o[1]in t||o.length===2&&i!==void 0&&(i in t||n.includes(i)&&e.filter(l=>l.path===`/documents/${i}`).some(l=>xN({allLightweightOperations:e,documentIdsDirectlyEditedInThisUpdate:n,docsAlreadyInState:t,lightweightOperation:l}))))},kN=async e=>{const t=Ct.getState(),n=t.persistent.documents;return e.map(r=>{if(!t.isStateMinimized)return r.map(()=>!0);const i=[];for(const{path:a}of r){const o=a.split("/").filter(Boolean);o[0]==="documents"&&o.length===2&&i.push(o[1])}return r.map(a=>xN({allLightweightOperations:r,docsAlreadyInState:n,documentIdsDirectlyEditedInThisUpdate:i,lightweightOperation:a}))})},TN=new Set,AN=async e=>{const t=[];for(const n of e)TN.has(n)||(t.push(n),TN.add(n));if(!!t.length)try{await Yr.loadRelatedRSSFeedsForDomains(t)}catch(n){if(n.message!=="Not allowed yet. Will fetch once allowed.")throw n}},CN=jg(AN,250),RN=async(e,t)=>{await re(n=>{if(!n.persistent)throw new Error("onBackgroundStateUpdate called when state has not yet been initialized");for(const r of e)n.possibleRssFeeds[r.domain]=r;for(const r of t)n.possibleRssFeeds[r]=null},{allowPersistence:!1,eventName:"possible-rss-feeds-saved",userInteraction:null})},NN=async e=>{const t=Ct.getState().persistent;return P1(t,e)},ON=e=>D1(Ct.getState().persistent.documents,e),Zae=async e=>{await re(t=>{t.mobileDocumentImageModalData=e},{eventName:"",userInteraction:null,shouldCreateUserEvent:!1})},eoe=async e=>{await re(t=>{ys(t.currentDocumentIdsList,e)||(t.currentDocumentIdsList=e)},{eventName:"current-document-ids-list-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},toe=async e=>{await re(t=>{t.mobileCurrentFocusedDocumentListId!==e&&(t.mobileCurrentFocusedDocumentListId=e)},{eventName:"current-focused-document-list-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},noe=async({isFeedView:e,isFilteredView:t,savedFilterView:n,routeName:r,filterQuery:i})=>{await re(a=>{const o={isFeedView:e,isFilteredView:t,savedFilterView:n,routeName:r,filterQuery:i};ys(a.mobileFocusedListState,o)||(a.mobileFocusedListState=o)},{eventName:"mobile-focused-list-state-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},roe=async({savedFilteredView:e})=>{await re(t=>{t.mobileFocusedListState.savedFilterView=e},{eventName:"mobile-focused-list-state-saved-filtered-view-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},ioe=async e=>{await re(t=>{t.mobileIsEmptyListState=e},{eventName:"mobile-is-empty-list-state-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},aoe=async e=>{await re(t=>{t.mobileHomeNavBarHeight=e},{eventName:"mobile-nav-bar-height-updated",userInteraction:"unknown",undoable:!1,shouldCreateUserEvent:!1})},ooe=(e,t,n)=>re(r=>{if(!r.persistent.documents)throw new Error("No documents");if(!r.persistent.documents[e])throw new Error("No document with that ID");if(![He.Article,He.Tweet,He.Video].includes(r.persistent.documents[e].category))throw new Error("Unsupported category");r.persistent.documents[e].isExtensionActivated=t},{...n,eventName:"extension-bar-activation-changed"}),soe=(e,t,n)=>re(r=>{if(!r.persistent.documents)throw new Error("No documents");if(!r.persistent.documents[e])throw new Error("No document with that ID");if(![He.Article,He.Tweet,He.Video].includes(r.persistent.documents[e].category))throw new Error("Unsupported category");r.persistent.documents[e].isExtensionBarMinimized=t},{...n,eventName:"extension-bar-minimization-changed"}),loe=e=>{re(t=>{t.filterDirtyState=e},{eventName:"update-filter-dirty-state",userInteraction:"unknown",shouldCreateUserEvent:!1,undoable:!1})},sb=({state:e,feedId:t,title:n})=>{if(!e.persistent.rssFeeds)throw new Error("Feeds do not exist");const r=e.persistent.rssFeeds[t];if(!r)throw new Error("Feed does not exist");r.name=n},uoe=async(e,t,n)=>{const r=await re(i=>{sb({state:i,feedId:e,title:t})},{...n,eventName:"feed-title-updated"});vt({content:"Title updated",category:"success",undoableUserEventId:r.userEvent.id})},lb=({state:e,feedId:t,description:n})=>{if(!e.persistent.rssFeeds)throw new Error("Feeds do not exist");const r=e.persistent.rssFeeds[t];if(!r)throw new Error("Feed does not exist");r.description=n},coe=async(e,t,n)=>{const r=await re(i=>{lb({state:i,feedId:e,description:t})},{...n,eventName:"feed-description-updated"});vt({content:"Description updated",category:"success",undoableUserEventId:r.userEvent.id})},foe=async({feedId:e,title:t,description:n,options:r})=>{const i=await re(a=>{t&&sb({state:a,feedId:e,title:t}),n&&lb({state:a,feedId:e,description:n})},{...r,eventName:"feed-description-updated"});vt({content:"Feed updated",category:"success",undoableUserEventId:i.userEvent.id})},doe=async(e,t,n)=>{await re(r=>{r.client.documents[e]||(r.client.documents[e]={}),r.client.documents[e].ttsSettings||(r.client.documents[e].ttsSettings={});let i=t;i<-1e3&&(i=-1e3),i>1e3&&(i=1e3),r.client.documents[e].ttsSettings.wordTrackingOffset=i},{...n,eventName:"document-tts-word-tracking-offset-updated",undoable:!1})},ub=async()=>{await ote(e=>{e.trackPlayer=void 0})},hoe=e=>{re(t=>{t.isReading=e},{eventName:"update-is-reading",userInteraction:"unknown",shouldCreateUserEvent:!1,undoable:!1})},poe=async()=>{await Yr.clearAllCaches()},goe=e=>re(t=>{t.webEffectiveTheme=e},{eventName:"web-effective-theme-updated",userInteraction:null,undoable:!1}),moe=e=>{re(t=>{t.persistent.dailyDigestProgress||(t.persistent.dailyDigestProgress={currentIndex:e,done:!1}),t.persistent.dailyDigestProgress.currentIndex=e},{eventName:"daily-digest-progress-index-updated",userInteraction:null,undoable:!1})},voe=()=>{re(e=>{!e.persistent.dailyDigestProgress||(e.persistent.dailyDigestProgress.done=!0)},{eventName:"set-daily-digest-progress-done",userInteraction:null,undoable:!1})},yoe=async(e,t,n,r)=>{re(i=>{var a,o;(o=(a=i.client.swipeConfig)==null?void 0:a[e])!=null&&o[t]&&(i.client.swipeConfig[e][t]=n)},{...r,eventName:"swipe-action-updated",shouldCreateUserEvent:!1,undoable:!1})},woe=async(e,t,n)=>re(r=>{if(!r.persistent.documents)throw new Error("Documents do not exist");if(!r.persistent.documents[e])throw new Error("Document does not exist");r.persistent.documents[e].notes=t},{...n,eventName:"document-note-updated",undoable:!0}),boe=async e=>{await re(t=>{if(!t.persistent)return;const n=t.persistent.onboardingStep;(!n||U_.indexOf(e)>=U_.indexOf(n))&&(t.persistent.onboardingStep=e,e===$l.Ready&&(t.persistent.onboardedAt=Date.now()))},{eventName:"onboarding-step-updated",undoable:!1,userInteraction:null})},_oe=async e=>{await re(t=>{if(!t.persistent)return;const n=t.persistent.mobileOnboardingStep;(!n||H_.indexOf(e)>=H_.indexOf(n))&&(t.persistent.mobileOnboardingStep=e,e===$l.Ready&&(t.persistent.onboardedAt=Date.now()))},{eventName:"mobile-onboarding-step-updated",undoable:!1,userInteraction:null})},Soe=async()=>{await re(e=>{const t=e.client.profile;!e.persistent||!t||!t.is_staff||(e.persistent.onboardingStep=$l.Welcome,e.persistent.mobileOnboardingStep=$l.Welcome,e.persistent.onboardedAt=null)},{eventName:"reset-onboarding-state",undoable:!1,userInteraction:null})},IN=async e=>{await re(t=>{t.persistent.mobileNotificationToken!==e&&(t.persistent.mobileNotificationToken=e)},{userInteraction:null,eventName:"mobile-notification-token-updated",undoable:!1})},Eoe=async e=>{await re(t=>{t.persistent.integrations||(t.persistent.integrations={}),t.persistent.integrations[e]={connected:!0}},{eventName:"integration-connected",userInteraction:null,undoable:!1})},xoe=async e=>{await re(t=>{t.persistent.integrations||(t.persistent.integrations={}),t.persistent.integrations[e]&&delete t.persistent.integrations[e]},{eventName:"integration-disconnected",userInteraction:null,undoable:!1})},koe=async(e,t)=>{await re(n=>{n.client.youtube.autoScroll=e},{...t,undoable:!1,eventName:"auto-scroll-set"})},Toe=async e=>{const t=!Ct.getState().client.youtube.autoScroll,n=await re(r=>{r.client.youtube.autoScroll=t},{...e,undoable:!1,eventName:"auto-scroll-toggled"});vt({content:`YouTube Auto-scroll turned ${t?"on":"off"}`,category:"success",undoableUserEventId:n.userEvent.id})},Aoe=e=>{re(t=>{typeof e=="number"&&e<1?t.youtube.seekTo=1:t.youtube.seekTo=e},{eventName:"youtube-seek-to-updated",userInteraction:"unknown",shouldCreateUserEvent:!1,undoable:!1})},Coe=()=>{re(e=>{e.youtube.isPlaying=!e.youtube.isPlaying},{eventName:"youtube-is-playing-toggled",userInteraction:"unknown",undoable:!1})},Roe=e=>{re(t=>{t.youtube.isPlaying=e},{eventName:"youtube-is-playing-updated",userInteraction:"unknown",undoable:!1})},cb=async e=>{await re(t=>{t.client.youtube.playbackRate=e},{eventName:"youtube-seek-to-updated",userInteraction:"unknown",undoable:!1}),vt({content:`Playback rate: ${e}x`,category:"success"})},Noe=async()=>{const e=Ct.getState().client.youtube.playbackRate,t=kf.indexOf(e),n=kf[t+1]||rg;cb(n)},Ooe=async()=>{const e=Ct.getState().client.youtube.playbackRate,t=kf.indexOf(e),n=kf[t-1]||rg;cb(n)},Ioe=async e=>{const t=await re(n=>{Kn?n.client.readerSettings.mobile.direction=e:n.client.readerSettings.desktop.direction=e},{eventName:"text-direction-changed",userInteraction:null,undoable:!1});vt({content:`Text direction changed to ${e.toLocaleUpperCase()}`,category:"success",undoableUserEventId:t.userEvent.id})},Doe=async()=>{const e=Date.now();re(t=>{var n;!((n=t==null?void 0:t.persistent)!=null&&n.documents)||Object.values(t.persistent.documents).forEach(r=>{so(r)&&(r.url===fV||r.url===dV)&&(r.saved_at=e.toString(),r.last_status_update=e)})},{eventName:"bump-help-docs-in-library",userInteraction:"unknown",undoable:!1})},Poe=e=>dN(e,{scrollDepth:0,serializedPosition:null},{eventName:"document-progress-position-updated",force:!0,showToast:!0,undoable:!0,userInteraction:"click"}),Loe=async e=>{await re(t=>{t.persistent.settings.exportClipboardTemplate=e},{userInteraction:"click",eventName:"export-clipboard-template-updated",shouldCreateUserEvent:!0,undoable:!1})},$oe=e=>{re(t=>{t.gptPromptLoading=e},{eventName:"set-gpt-loading-state",shouldCreateUserEvent:!1,userInteraction:"unknown",undoable:!1})},Foe=e=>{re(t=>{t.mobileIsHomeTabActive=e},{eventName:"set-home-tab-active-mobile",shouldCreateUserEvent:!1,userInteraction:"unknown",undoable:!1})},joe=e=>{re(t=>{t.mobileStatusBarHeight=e},{eventName:"set-mobile-status-bar-height",shouldCreateUserEvent:!1,userInteraction:"unknown",undoable:!1})},Moe=e=>{re(t=>{t.client.mobileLastAnnotationSubpanelOpened=e},{eventName:"set-mobile-last-annotation-subpanel-opened",shouldCreateUserEvent:!1,userInteraction:"tap",undoable:!1})},zoe=e=>{re(t=>{t.persistent.keyboardLayout=e,sE(t)},{eventName:"set-keyboard-layout",userInteraction:"click"})},Boe=()=>{re(e=>{sE(e)},{eventName:"reset-keyboard-shortcuts",userInteraction:"click"})},DN=({shortcutId:e})=>{re(t=>{t.persistent.keyboardShortcutsBlackList||(t.persistent.keyboardShortcutsBlackList=[]),t.persistent.keyboardShortcutsBlackList.push(e)},{eventName:"add-shortcut-to-blacklist",userInteraction:"click"})},PN=({shortcutId:e})=>{re(t=>{t.persistent.keyboardShortcutsBlackList||(t.persistent.keyboardShortcutsBlackList=[]),t.persistent.keyboardShortcutsBlackList=t.persistent.keyboardShortcutsBlackList.filter(n=>n!==e)},{eventName:"remove-shortcut-from-blacklist",userInteraction:"click"})},Uoe=async({shortcutId:e,keys:t,showToast:n=!0})=>{const r=await re(i=>{i.persistent.customKeyboardShortcuts||(i.persistent.customKeyboardShortcuts={}),i.persistent.customKeyboardShortcuts[e]||(i.persistent.customKeyboardShortcuts[e]=[]),i.persistent.customKeyboardShortcuts[e].push(t),PN({shortcutId:e})},{eventName:"add-custom-keyboard-shortcut",userInteraction:"click"});n&&vt({content:"Custom keyboard shortcut added",category:"success",undoableUserEventId:r.userEvent.id})},Hoe=async({shortcutId:e,keys:t})=>{const n=await re(r=>{r.persistent.customKeyboardShortcuts||(r.persistent.customKeyboardShortcuts={}),r.persistent.customKeyboardShortcuts[e]||(r.persistent.customKeyboardShortcuts[e]=[]),r.persistent.customKeyboardShortcuts[e].includes(t)?r.persistent.customKeyboardShortcuts[e]=r.persistent.customKeyboardShortcuts[e].filter(i=>i!==t):DN({shortcutId:e})},{eventName:"remove-custom-keyboard-shortcut",userInteraction:"click"});vt({content:"Custom keyboard shortcut removed",category:"success",undoableUserEventId:n.userEvent.id})},qoe=async({shortcutId:e})=>{const t=await re(n=>{n.persistent.customKeyboardShortcuts&&delete n.persistent.customKeyboardShortcuts[e],n.persistent.keyboardShortcutsBlackList&&(n.persistent.keyboardShortcutsBlackList=n.persistent.keyboardShortcutsBlackList.filter(r=>r!==e))},{eventName:"reset-custom-keyboard-shortcut",userInteraction:"click"});vt({content:"Shortcut reset",category:"success",undoableUserEventId:t.userEvent.id})},Woe=async e=>{await re(t=>{t.filterQueryToCreate=e},{userInteraction:"click",undoable:!1,eventName:"set-filter-query"})};async function LN(e){var i;const t=(i=Ct.getState().persistent)==null?void 0:i.documents;if(!t)throw new Error("no documents");const n=e.map(a=>a.parsed_doc_id),r=W1(t,n);await re(a=>{var o,s,l,u;for(const c of e){const f=(o=r[c.parsed_doc_id])!=null?o:[];for(const d of f){const p=(l=(s=a.persistent)==null?void 0:s.documents)==null?void 0:l[d];if(!p)throw new Error("document does not exist");const v={};for(const w of(u=p.links)!=null?u:[])w.loading&&(v[w.url]=w);p.links=c.links.map(w=>w.other_document?w:v[w.url]?v[w.url]:w)}}},{undoable:!1,allowPersistence:!1,eventName:"document-links-updated",userInteraction:null})}async function Voe(e){if(e.length===0)return;const t=n=>n.slice(-4).padStart(n.length,"\u2022");await re(n=>{n.persistent.settings.openai||(n.persistent.settings.openai={apiKey:void 0}),n.persistent.settings.openai.apiKey=t(e)},{eventName:"update-openai-api-key-settings",userInteraction:"unknown"})}async function Goe(){await re(e=>{if(!e.persistent.settings.openai){e.persistent.settings.openai={apiKey:void 0};return}e.persistent.settings.openai.apiKey=void 0},{eventName:"update-openai-api-key-settings",userInteraction:"unknown"})}class Koe extends Ka.exports.EventEmitter2{constructor(){if(super(),this.status=window.navigator.onLine?si.Online:si.Offline,this.isOnline=window.navigator.onLine,jI){this._setStatus(si.Online);return}this._setStatus(this.status),window.navigator.onLine&&this._checkIfReallyOnline().then(t=>{this._setStatus(t?si.Online:si.Offline)}).catch(()=>{}),this._subscribe()}async _checkIfReallyOnline(){return Jt?!0:J6()}_setStatus(t){this.status=t,this.isOnline=t!==si.Offline}_subscribe(){const t=async n=>{this.status!==n&&(this._setStatus(n),this.emit("changed",{isOnline:this.isOnline,status:this.status}),this.emit(n),await yN(n,this.isOnline))};window.addEventListener("offline",()=>t(si.Offline)),window.addEventListener("online",async()=>{!await this._checkIfReallyOnline()||t(si.Online)})}}var $N=new Koe,FN={},Va={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PROMISE_RESOLVED_VOID=Rn.PROMISE_RESOLVED_TRUE=Rn.PROMISE_RESOLVED_FALSE=void 0,Rn.isPromise=Yoe,Rn.microSeconds=nse,Rn.randomInt=ese,Rn.randomToken=tse,Rn.sleep=Zoe;function Yoe(e){return e&&typeof e.then=="function"}var Qoe=Promise.resolve(!1);Rn.PROMISE_RESOLVED_FALSE=Qoe;var Xoe=Promise.resolve(!0);Rn.PROMISE_RESOLVED_TRUE=Xoe;var Joe=Promise.resolve();Rn.PROMISE_RESOLVED_VOID=Joe;function Zoe(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function ese(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function tse(){return Math.random().toString(36).substring(2)}var jN=0,fb=0;function nse(){var e=new Date().getTime();return e===jN?(fb++,e*1e3+fb):(jN=e,fb=0,e*1e3)}var db={},rse={exports:{}};(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(rse);var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.NativeMethod=void 0,br.averageResponseTime=GN,br.canBeUsed=VN,br.close=HN,br.create=UN,br.microSeconds=void 0,br.onMessage=WN,br.postMessage=qN,br.type=void 0;var MN=Rn,zN=MN.microSeconds;br.microSeconds=zN;var BN="native";br.type=BN;function UN(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function HN(e){e.bc.close(),e.subFns=[]}function qN(e,t){try{return e.bc.postMessage(t,!1),MN.PROMISE_RESOLVED_VOID}catch(n){return Promise.reject(n)}}function WN(e,t){e.messagesCallback=t}function VN(){if(typeof window=="undefined")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function GN(){return 150}var ise={create:UN,close:HN,onMessage:WN,postMessage:qN,canBeUsed:VN,type:BN,averageResponseTime:GN,microSeconds:zN};br.NativeMethod=ise;var Gt={},ase=function(){function e(t){this.ttl=t,this.map=new Map,this._to=!1}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.add=function(t){var n=this;this.map.set(t,hb()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,KN(n)},0))},e.prototype.clear=function(){this.map.clear()},e}();function KN(e){for(var t=hb()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=r[0],a=r[1];if(a<t)e.map.delete(i);else return}}function hb(){return new Date().getTime()}var ose=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ObliviousSet:ase,removeTooOldValues:KN,now:hb}),YN=Hb(ose),xc={};Object.defineProperty(xc,"__esModule",{value:!0}),xc.fillOptionsWithDefaults=sse;function sse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport=="undefined"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath=="undefined"&&(t.node.useFastPath=!0),t}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.TRANSACTION_SETTINGS=Gt.IndexedDBMethod=void 0,Gt.averageResponseTime=fO,Gt.canBeUsed=cO,Gt.cleanOldMessages=rO,Gt.close=sO,Gt.commitIndexedDBTransaction=kc,Gt.create=iO,Gt.createDatabase=JN,Gt.getAllMessages=fse,Gt.getIdb=pb,Gt.getMessagesHigherThan=eO,Gt.getOldMessages=nO,Gt.microSeconds=void 0,Gt.onMessage=uO,Gt.postMessage=lO,Gt.removeMessagesById=tO,Gt.type=void 0,Gt.writeMessage=ZN;var Ga=Rn,lse=YN,use=xc,QN=Ga.microSeconds;Gt.microSeconds=QN;var cse="pubkey.broadcast-channel-0-",_i="messages",yl={durability:"relaxed"};Gt.TRANSACTION_SETTINGS=yl;var XN="idb";Gt.type=XN;function pb(){if(typeof indexedDB!="undefined")return indexedDB;if(typeof window!="undefined"){if(typeof window.mozIndexedDB!="undefined")return window.mozIndexedDB;if(typeof window.webkitIndexedDB!="undefined")return window.webkitIndexedDB;if(typeof window.msIndexedDB!="undefined")return window.msIndexedDB}return!1}function kc(e){e.commit&&e.commit()}function JN(e){var t=pb(),n=cse+e,r=t.open(n);return r.onupgradeneeded=function(i){var a=i.target.result;a.createObjectStore(_i,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,a){r.onerror=function(o){return a(o)},r.onsuccess=function(){i(r.result)}})}function ZN(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},a=e.transaction([_i],"readwrite",yl);return new Promise(function(o,s){a.oncomplete=function(){return o()},a.onerror=function(u){return s(u)};var l=a.objectStore(_i);l.add(i),kc(a)})}function fse(e){var t=e.transaction(_i,"readonly",yl),n=t.objectStore(_i),r=[];return new Promise(function(i){n.openCursor().onsuccess=function(a){var o=a.target.result;o?(r.push(o.value),o.continue()):(kc(t),i(r))}})}function eO(e,t){var n=e.transaction(_i,"readonly",yl),r=n.objectStore(_i),i=[],a=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var o=r.getAll(a);return new Promise(function(l,u){o.onerror=function(c){return u(c)},o.onsuccess=function(c){l(c.target.result)}})}function s(){try{return a=IDBKeyRange.bound(t+1,1/0),r.openCursor(a)}catch{return r.openCursor()}}return new Promise(function(l,u){var c=s();c.onerror=function(f){return u(f)},c.onsuccess=function(f){var d=f.target.result;d?d.value.id<t+1?d.continue(t+1):(i.push(d.value),d.continue()):(kc(n),l(i))}})}function tO(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(_i,"readwrite",yl),r=n.objectStore(_i);return Promise.all(t.map(function(i){var a=r.delete(i);return new Promise(function(o){a.onsuccess=function(){return o()}})}))}function nO(e,t){var n=new Date().getTime()-t,r=e.transaction(_i,"readonly",yl),i=r.objectStore(_i),a=[];return new Promise(function(o){i.openCursor().onsuccess=function(s){var l=s.target.result;if(l){var u=l.value;u.time<n?(a.push(u),l.continue()):(kc(r),o(a))}else o(a)}})}function rO(e){return nO(e.db,e.options.idb.ttl).then(function(t){return tO(e,t.map(function(n){return n.id}))})}function iO(e,t){return t=(0,use.fillOptionsWithDefaults)(t),JN(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,Ga.randomToken)(),eMIs:new lse.ObliviousSet(t.idb.ttl*2),writeBlockPromise:Ga.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},aO(r),r})}function aO(e){e.closed||oO(e).then(function(){return(0,Ga.sleep)(e.options.idb.fallbackInterval)}).then(function(){return aO(e)})}function dse(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function oO(e){return e.closed||!e.messagesCallback?Ga.PROMISE_RESOLVED_VOID:eO(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return dse(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Ga.PROMISE_RESOLVED_VOID})}function sO(e){e.closed=!0,e.db.close()}function lO(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return ZN(e.db,e.uuid,t)}).then(function(){(0,Ga.randomInt)(0,10)===0&&rO(e)}),e.writeBlockPromise}function uO(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,oO(e)}function cO(){return!!pb()}function fO(e){return e.idb.fallbackInterval*2}var hse={create:iO,close:sO,onMessage:uO,postMessage:lO,canBeUsed:cO,type:XN,averageResponseTime:fO,microSeconds:QN};Gt.IndexedDBMethod=hse;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.LocalstorageMethod=void 0,Nn.addStorageEventListener=gO,Nn.averageResponseTime=bO,Nn.canBeUsed=vb,Nn.close=yO,Nn.create=vO,Nn.getLocalStorage=gb,Nn.microSeconds=void 0,Nn.onMessage=wO,Nn.postMessage=pO,Nn.removeStorageEventListener=mO,Nn.storageKey=mb,Nn.type=void 0;var pse=YN,gse=xc,Kh=Rn,dO=Kh.microSeconds;Nn.microSeconds=dO;var mse="pubkey.broadcastChannel-",hO="localstorage";Nn.type=hO;function gb(){var e;if(typeof window=="undefined")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function mb(e){return mse+e}function pO(e,t){return new Promise(function(n){(0,Kh.sleep)().then(function(){var r=mb(e.channelName),i={token:(0,Kh.randomToken)(),time:new Date().getTime(),data:t,uuid:e.uuid},a=JSON.stringify(i);gb().setItem(r,a);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=a,window.dispatchEvent(o),n()})})}function gO(e,t){var n=mb(e),r=function(a){a.key===n&&t(JSON.parse(a.newValue))};return window.addEventListener("storage",r),r}function mO(e){window.removeEventListener("storage",e)}function vO(e,t){if(t=(0,gse.fillOptionsWithDefaults)(t),!vb())throw new Error("BroadcastChannel: localstorage cannot be used");var n=(0,Kh.randomToken)(),r=new pse.ObliviousSet(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=gO(e,function(a){!i.messagesCallback||a.uuid!==n&&(!a.token||r.has(a.token)||a.data.time&&a.data.time<i.messagesCallbackTime||(r.add(a.token),i.messagesCallback(a.data)))}),i}function yO(e){mO(e.listener)}function wO(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function vb(){var e=gb();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function bO(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var vse={create:vO,close:yO,onMessage:wO,postMessage:pO,canBeUsed:vb,type:hO,averageResponseTime:bO,microSeconds:dO};Nn.LocalstorageMethod=vse;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.SimulateMethod=void 0,_r.averageResponseTime=CO,_r.canBeUsed=AO,_r.close=xO,_r.create=EO,_r.microSeconds=void 0,_r.onMessage=TO,_r.postMessage=kO,_r.type=void 0;var yse=Rn,_O=yse.microSeconds;_r.microSeconds=_O;var SO="simulate";_r.type=SO;var yb=new Set;function EO(e){var t={name:e,messagesCallback:null};return yb.add(t),t}function xO(e){yb.delete(e)}function kO(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(yb);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function TO(e,t){e.messagesCallback=t}function AO(){return!0}function CO(){return 5}var wse={create:EO,close:xO,onMessage:TO,postMessage:kO,canBeUsed:AO,type:SO,averageResponseTime:CO,microSeconds:_O};_r.SimulateMethod=wse,Object.defineProperty(db,"__esModule",{value:!0}),db.chooseMethod=xse;var bse=br,_se=Gt,Sse=Nn,Ese=_r,RO=[bse.NativeMethod,_se.IndexedDBMethod,Sse.LocalstorageMethod];function xse(e){var t=[].concat(e.methods,RO).filter(Boolean);if(e.type){if(e.type==="simulate")return Ese.SimulateMethod;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(RO.map(function(i){return i.type})))}Object.defineProperty(Va,"__esModule",{value:!0}),Va.OPEN_BROADCAST_CHANNELS=Va.BroadcastChannel=void 0,Va.clearNodeFolder=Tse,Va.enforceOptions=Ase;var Yh=Rn,NO=db,OO=xc,wb=new Set;Va.OPEN_BROADCAST_CHANNELS=wb;var kse=0,bb=function(t,n){this.id=kse++,wb.add(this),this.name=t,_b&&(n=_b),this.options=(0,OO.fillOptionsWithDefaults)(n),this.method=(0,NO.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Cse(this)};Va.BroadcastChannel=bb,bb._pubkey=!0;function Tse(e){e=(0,OO.fillOptionsWithDefaults)(e);var t=(0,NO.chooseMethod)(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):Yh.PROMISE_RESOLVED_FALSE}var _b;function Ase(e){_b=e}bb.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return IO(this,"message",t)},postInternal:function(t){return IO(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};LO(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,PO(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};PO(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});LO(this,t,r)},close:function(){var t=this;if(!this.closed){wb.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Yh.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function IO(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},a=e._prepP?e._prepP:Yh.PROMISE_RESOLVED_VOID;return a.then(function(){var o=e.method.postMessage(e._state,i);return e._uMP.add(o),o.catch().then(function(){return e._uMP.delete(o)}),o})}function Cse(e){var t=e.method.create(e.name,e.options);(0,Yh.isPromise)(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function DO(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function PO(e,t,n){e._addEL[t].push(n),Rse(e)}function LO(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),Nse(e)}function Rse(e){if(!e._iL&&DO(e)){var t=function(i){e._addEL[i.type].forEach(function(a){var o=1e5,s=a.time-o;i.time>=s&&a.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function Nse(e){if(e._iL&&!DO(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var Qh={};function Ose(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function Ise(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var Dse=Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]",Pse=Dse?Ise:Ose,Vo=new Set,$O=!1;function Lse(){$O||($O=!0,Pse(FO))}function $se(e){if(Lse(),typeof e!="function")throw new Error("Listener is no function");Vo.add(e);var t={remove:function(){return Vo.delete(e)},run:function(){return Vo.delete(e),e()}};return t}function FO(){var e=[];return Vo.forEach(function(t){e.push(t()),Vo.delete(t)}),Promise.all(e)}function Fse(){Vo.clear()}function jse(){return Vo.size}var Mse=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",add:$se,runAll:FO,removeAll:Fse,getSize:jse}),zse=Hb(Mse);Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.beLeader=MO,Qh.createLeaderElection=qse;var ia=Rn,Bse=zse,jO=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,ia.randomToken)(),this._aplQ=ia.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(o){o.context==="leader"&&(o.action==="death"&&(r.hasLeader=!1),o.action==="tell"&&(r.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};jO.prototype={applyOnce:function(t){var n=this;if(this.isLeader)return(0,ia.sleep)(0,!0);if(this.isDead)return(0,ia.sleep)(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return ia.PROMISE_RESOLVED_TRUE;var a=!1,o,s=new Promise(function(c){o=function(){a=!0,c()}}),l=function(f){f.context==="leader"&&f.token!=n.token&&(f.action==="apply"&&f.token>n.token&&o(),f.action==="tell"&&(o(),n.hasLeader=!0))};n.broadcastChannel.addEventListener("internal",l);var u=t?n._options.responseTime*4:n._options.responseTime;return wl(n,"apply").then(function(){return Promise.race([(0,ia.sleep)(u),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return wl(n,"apply")}).then(function(){return Promise.race([(0,ia.sleep)(u),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",l),a?!1:MO(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=Use(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,wl(this,"death")}};function Use(e){return e.isLeader?ia.PROMISE_RESOLVED_VOID:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",a),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function o(){return(0,ia.sleep)(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():o()})})};i();var a=function(s){s.context==="leader"&&s.action==="death"&&(e.hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)})}function wl(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function MO(e){e.isLeader=!0,e.hasLeader=!0;var t=(0,Bse.add)(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&wl(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),wl(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),wl(e,"tell")}function Hse(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function qse(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=Hse(t,e);var n=new jO(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BroadcastChannel",{enumerable:!0,get:function(){return t.BroadcastChannel}}),Object.defineProperty(e,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return t.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(e,"beLeader",{enumerable:!0,get:function(){return n.beLeader}}),Object.defineProperty(e,"clearNodeFolder",{enumerable:!0,get:function(){return t.clearNodeFolder}}),Object.defineProperty(e,"createLeaderElection",{enumerable:!0,get:function(){return n.createLeaderElection}}),Object.defineProperty(e,"enforceOptions",{enumerable:!0,get:function(){return t.enforceOptions}});var t=Va,n=Qh})(FN);var Tc=FN,zO={BroadcastChannel:Tc.BroadcastChannel,createLeaderElection:Tc.createLeaderElection,clearNodeFolder:Tc.clearNodeFolder,enforceOptions:Tc.enforceOptions,beLeader:Tc.beLeader};const BO=300;let Ac,Cc;const UO=()=>new Promise(e=>{Cc=new zO.BroadcastChannel("reader",{idb:{onclose:()=>{Ac||(Fe.warn("BroadcastChannel's IDB closed, recreating channel"),Cc.close(),UO().then(e).catch(Fe.error))}}}),zO.createLeaderElection(Cc,{responseTime:BO}).awaitLeadership().then(e).catch(Fe.error)});let HO=!1,Sb;(()=>{HO||(Uc==="web-app"?Sb=Promise.race([UO().then(()=>{Fe.info("This tab's background is now the leader"),Ac=!0}),ai(BO*3)]):(Ac=!0,Sb=Promise.resolve()),HO=!0)})();async function Wse(){return await Sb,Ac||!1}async function Vse(e){!Bc||Ac||Cc.postMessage(e)}async function Gse(e){!Bc||Cc.addEventListener("message",e)}const qO=6,Kse=2e3;class Yse{constructor(t){this.useFullServerSyncOnNextPull=!1,this.serverToForegroundUpdateQueue=[],this.lastStateFetchMeta=null,this.nextNetworkPostRetryAt=null,this.wasNotLeaderTabAt=null,this.consumeServerToForegroundUpdatesUntilTime=0,this.lastServerToForegroundUpdateThisSession=0,this.cachedUpdatesStats={serverUpdates:0,updates:0,patches:0},this.intervalToCatchUpNonLeaderTabs=10*1e3,this.isMergingStateCache=!1,this.isSendingUpdatesToServer=!1,this.isCommittingServerChangesToCache=!1,this.syncingStopped=!0,this.truncateCachedEvents=!1,this._cachePrefix="",this._exception=null,this._cachePrefix=t.cachePrefix||"",this.cache=xr.createInstance({name:`stateSyncing${this._cachePrefix}`}),this.onNewUpdatesForForeground=t.onNewUpdatesForForeground||Fi.onBackgroundStateUpdates,this.getCurrentPersistentState=t.getCurrentPersistentState||Fi.getCurrentPersistentState,this.runStateChecksum=t.runStateChecksum||Fi.runForegroundStateChecksum,this.onNewEventFromForeground=t.onNewEventFromForeground||(()=>{}),this.onLoggedOut=t.onLoggedOut||(()=>{}),this.initUnsafeAppClosingWarnings(),Gse(async n=>{!await this.isLeaderTab()||n.key==="stateSyncing:syncServerStateForNext"&&this.syncServerStateForNext(n.numSeconds)})}isLeaderTab(){return Wse()}isOnline(){return $N.isOnline}initUnsafeAppClosingWarnings(){!Bc||window.addEventListener("beforeunload",t=>{this.safeToInterrupt()||(t.returnValue="We're still saving your changes. If you exit now you risk losing them.")})}async rwfetch(t,n){return oo(t,n)}async setUpInitialState({shouldMinimize:t}={}){const n=i=>{const a={};for(const s of Object.values(i.documents||{}))for(const l of Object.values(s.tags||{})){const u=s.category===He.Highlight,c=l.name.trim().toLowerCase();c in a||(a[c]={name:l.name,count:0,highlightsCount:0,docsCount:0,created:l.created}),a[c].count+=1,u?a[c].highlightsCount+=1:a[c].docsCount+=1,l.created&&l.created>a[c].created&&(a[c].created=l.created)}if(!t)return{allTags:a,persistentState:i};const o={...i,currentlyReadingId:null,documents:null,rssFeeds:null,filteredViews:{},settings:Vl(i.settings,["tts"])};return{allTags:a,persistentState:o}};let r=await this.getPersistentStateFromCache();return r||(r=await this.pullLatestStateFromCloud(),await this.cache.setItem("stateFetchMeta",this.lastStateFetchMeta),this.cache.setItem("persistentStateBlob",r)),this.syncingStopped&&(this.syncingStopped=!1,this.consumeUpdateQueues()),this.syncServerStateForNext(20),n(r)}onSyncingError(t,n,r){var a;if(((a=t==null?void 0:t.response)==null?void 0:a.status)===401){this.syncingStopped=!0,this.onLoggedOut();return}const i={useFullServerSyncOnNextPull:this.useFullServerSyncOnNextPull,serverToForegroundUpdateQueue:this.serverToForegroundUpdateQueue,wasNotLeaderTabAt:this.wasNotLeaderTabAt,consumeServerToForegroundUpdatesUntilTime:this.consumeServerToForegroundUpdatesUntilTime,lastServerToForegroundUpdateThisSession:this.lastServerToForegroundUpdateThisSession,cachedUpdatesStats:this.cachedUpdatesStats,isMergingStateCache:this.isMergingStateCache,isSendingUpdatesToServer:this.isSendingUpdatesToServer,isCommittingServerChangesToCache:this.isCommittingServerChangesToCache};Fe.error(n),Fe.error(t,{extraData:r},{currentSyncingState:i}),ss(t,{extra:{errorMessage:n,...i,...r}}),this._exception=t}async syncServerStateForNext(t){this.consumeServerToForegroundUpdatesUntilTime=Math.max(this.consumeServerToForegroundUpdatesUntilTime,Date.now()+t*1e3),Vse({key:"stateSyncing:syncServerStateForNext",numSeconds:t})}async foregroundToServerUpdatesStillQueued(){return(await this.getQueuedUpdateKeysForServer(!0)).length}async getQueuedUpdateKeysForServer(t=!1){var a;if(!t&&this.cachedUpdatesStats.serverUpdates<=0)return[];const n=await this.cache.keys(),r=bg(n,o=>o.startsWith("update:")&&o.includes("(server=false)")),i=(a=bg(n,o=>o.startsWith("update:01GGQBXRBZVH4DF3S8XJM032KP")))==null?void 0:a[0];return i&&this.cache.removeItem(i),this.cachedUpdatesStats.serverUpdates=r.length,r}async getAllCachedUpdateKeys(){return(await this.cache.keys()).filter(t=>t.startsWith("update:"))}async removeNonSyncingPropertiesFromAllDocuments(t){!t||Object.keys(t).forEach(n=>{Bf(t[n])})}async pullLatestStateFromCloud(t=!1){var a,o,s;const n=new URLSearchParams;if(n.append("schemaVersion",qO.toString()),t){const l=(a=await this.cache.getItem("stateFetchMeta"))==null?void 0:a.time_of_last_fetch;l&&n.append("filter[updated_at][gt]",l.toString())}const r=await this._fetchServerState(n);let i=(o=r.meta)==null?void 0:o.pagination_next_start_id;for(;i!==void 0;){n.set("pagination_start_id",i);const l=await this._fetchServerState(n);Object.assign(r.documents||{},l.documents),i=(s=l.meta)==null?void 0:s.pagination_next_start_id}if(r.meta===void 0)throw new Error("fetch state returned no meta");return this.lastStateFetchMeta=r.meta,delete r.meta,this.removeNonSyncingPropertiesFromAllDocuments(r.documents),r}async consumeServerToForegroundUpdates(){if(this.lastServerToForegroundUpdateThisSession>Date.now()-Kse||Date.now()>this.consumeServerToForegroundUpdatesUntilTime)return;if(await this.foregroundToServerUpdatesStillQueued()){Fe.log("Waiting till next loop before pulling updates from server because we already have updates queued from the client..");return}let t,n;if(this.useFullServerSyncOnNextPull){if(t=await this.getCurrentPersistentState(),!t||!t.documents)return;try{n=await this.pullLatestStateFromCloud()}catch{return}}else{if(n=await this.pullLatestStateFromCloud(!0),t=await this.getCurrentPersistentState(Object.keys(n.documents||{})),!t||!t.documents)return;const a={};Object.keys((n==null?void 0:n.documents)||{}).forEach(o=>{var s,l,u,c;(s=t==null?void 0:t.documents)!=null&&s[o]&&(a[o]=t.documents[o]),((l=n==null?void 0:n.documents)==null?void 0:l[o])&&((c=(u=n==null?void 0:n.documents)==null?void 0:u[o])==null?void 0:c.deleted_at)&&delete n.documents[o]}),t.documents=a}this.lastServerToForegroundUpdateThisSession=Date.now(),this.useFullServerSyncOnNextPull=!1;const r=ms(t,n);if(!r.length)return;const i={patch:r,reverse:ms(n,t),timestamp:Date.now()};Fe.log(`Updates from server on consumeServerToForegroundUpdates: at ${Date.now()} ${this._cachePrefix}`,i),this.serverToForegroundUpdateQueue.push(i),this.applyServerChangesToForeground()}async applyServerChangesToForeground(){var t;if(!!this.serverToForegroundUpdateQueue.length){if(await this.foregroundToServerUpdatesStillQueued()){this.serverToForegroundUpdateQueue.splice(0,this.serverToForegroundUpdateQueue.length),Fe.log("Waiting till next loop before pulling updates from server because we already have updates queued from the client..");return}try{await this.onNewUpdatesForForeground(this.serverToForegroundUpdateQueue)}catch(n){this.onSyncingError(n,"Error applying server -> foreground update. Pulling from server to try again...",{updates:this.serverToForegroundUpdateQueue}),this.serverToForegroundUpdateQueue.splice(0,this.serverToForegroundUpdateQueue.length);return}this.isCommittingServerChangesToCache=!0;for(const n of this.serverToForegroundUpdateQueue){const r=Si().toLowerCase();this.cache.setItem(`update:${r}:(server=true)`,n),this.cachedUpdatesStats.updates++,this.cachedUpdatesStats.patches+=n.patch.length}await this.cache.setItem("stateFetchMeta",this.lastStateFetchMeta),this.isCommittingServerChangesToCache=!1,(t=this.lastStateFetchMeta)!=null&&t.documents_checksum&&(await this.runStateChecksum(this.lastStateFetchMeta.documents_checksum)||(this.useFullServerSyncOnNextPull=!0)),this.serverToForegroundUpdateQueue.splice(0,this.serverToForegroundUpdateQueue.length)}}async queueStateUpdateFromForeground(t){Fe.debug("Queueing foreground update:",t),this.cache.setItem(`update:${t.id}(server=false)`,{patch:t.dataUpdates.forwardPatch,reverse:t.dataUpdates.reversePatch,timestamp:t.timestamp,eventForServer:t}),this.cachedUpdatesStats.serverUpdates++,this.cachedUpdatesStats.updates++,this.cachedUpdatesStats.patches+=t.dataUpdates.forwardPatch.length,this.onNewEventFromForeground(t)}safeToInterrupt(){return!this.isSendingUpdatesToServer&&!this.isMergingStateCache&&!this.isCommittingServerChangesToCache}getNumUpdatesToSendToServerInSingleRequest(t){let r=null,i=0;for(let a=0;a<t.length;a++)if(i+=t[a].patch.length,i>999){r=a+1;break}return r!==null?r:10}onServerUpdateRequestError(t){const n=this.nextNetworkPostRetryAt?10:1;Fe.log(`Error in network request, trying again in ${n}s: `,t),this.nextNetworkPostRetryAt=Date.now()+n*1e3,this.isSendingUpdatesToServer=!1}async consumeBackgroundToServerUpdates(){var i,a;const t=await this.getQueuedUpdateKeysForServer(Bc||Jt);if(!t.length||this.nextNetworkPostRetryAt&&Date.now()<this.nextNetworkPostRetryAt)return;Fe.time("fetchingAllServerUpdatesFromDisk");const n=Object.values(await this.cache.getItems(t)).filter(Boolean);if(Fe.timeEnd("fetchingAllServerUpdatesFromDisk"),n.sort((o,s)=>o.timestamp-s.timestamp),this.truncateCachedEvents)for(const o of n)for(const s of o.reverse)!(s.op==="add"&&s.path.startsWith("/documents/")&&s.path.split("/").length===3)||Bf(s.value);const r=this.getNumUpdatesToSendToServerInSingleRequest(n);n.splice(r,n.length-r),this.isSendingUpdatesToServer=!0;try{Fe.debug("Sending cache updates to server...",n);const o=await this.rwfetch(`${ur()}/reader/api/state/update/`,{...await this._getCommonFetchOptions(),body:JSON.stringify({events:n.map(s=>s.eventForServer),schemaVersion:qO}),method:"POST"});if(o.ok)Xh.emit("backgroundToServerUpdatesConsumed",n.map(({eventForServer:s})=>s.id));else{const s=await o.text();Fe.error("Update network request failed",o.status,{responseBody:s,updates:n}),this.onServerUpdateRequestError(null);return}await Promise.all(MH(n,async s=>{const l=s.eventForServer.id,u=Vl(s,"eventForServer");await this.cache.removeItem(`update:${l}(server=false)`),await this.cache.setItem(`update:${l}(server=true)`,u)})),this.cachedUpdatesStats.serverUpdates-=n.length,this.isSendingUpdatesToServer=!1}catch(o){((i=o.response)==null?void 0:i.status)===401?(Jt||alert("You're not logged in to the correct account! Try signing in at readwise.io before continuing..."),this.onLoggedOut()):((a=o.response)==null?void 0:a.status)===413&&(Jt?(this.syncingStopped=!0,await this.cache.removeItems(await this.cache.keys()),this.onLoggedOut()):this.truncateCachedEvents=!0),this.onServerUpdateRequestError(o);return}this.nextNetworkPostRetryAt=null}applyUpdatesToStateBlob(t,n){let r=null;try{return n.forEach(i=>{i.patch.forEach(a=>{r=xn(a),zg(t,[a])})}),!0}catch(i){return this.onSyncingError(i,"FAILED to apply cached updates to state blob",{currentOperation:r}),!1}}async getPersistentStateFromCache(){Fe.time("getPersistentStateFromCache");const t=await this.cache.getItem("persistentStateBlob");if(!t)return null;const n=await this.getAllCachedUpdateKeys(),r=Object.values(await this.cache.getItems(n)).filter(Boolean);return r.sort((a,o)=>a.timestamp-o.timestamp),this.cachedUpdatesStats.updates=r.length,this.cachedUpdatesStats.patches=Jc(r.map(a=>a.patch)).length,this.applyUpdatesToStateBlob(t,r)?(Fe.timeEnd("getPersistentStateFromCache"),t):(await this.cache.removeItems(n.filter(a=>a.includes("server=true")).concat("persistentStateBlob")),null)}async catchUpNonLeaderTabState(){const t=await this.getCurrentPersistentState();let n;try{n=await this.getPersistentStateFromCache()}catch(i){Fe.warn("Exception getting persistent state from cache to catch up leader... will try again",i);return}if(!n||!t)return;this.removeNonSyncingPropertiesFromAllDocuments(t.documents),this.removeNonSyncingPropertiesFromAllDocuments(n.documents);const r=ms(t,n);if(Fe.log("Applying update to foreground to get non-leader tab up to date:",r),r.length){const i={patch:r,reverse:ms(n,t),timestamp:Date.now()};await this.onNewUpdatesForForeground([i])}}async keepNonLeaderTabUpToDate(){this.wasNotLeaderTabAt===null?this.wasNotLeaderTabAt=Date.now():this.wasNotLeaderTabAt<Date.now()-this.intervalToCatchUpNonLeaderTabs&&(await this.catchUpNonLeaderTabState(),this.wasNotLeaderTabAt=Date.now())}async mergeUpdatesIntoCachedState(){Fe.time("mergeUpdatesIntoCachedState");const t=(await this.getAllCachedUpdateKeys()).filter(a=>a.includes("server=true")),n=Object.values(await this.cache.getItems(t)).filter(Boolean);n.sort((a,o)=>a.timestamp-o.timestamp);const r=await this.cache.getItem("persistentStateBlob");if(!this.applyUpdatesToStateBlob(r,n))throw new Error("Failed to apply changes to cached state in mergeUpdatesIntoCachedState");this.isMergingStateCache=!0,await this.cache.removeItems(t),await this.cache.setItem("persistentStateBlob",r),this.cachedUpdatesStats.updates=0,this.cachedUpdatesStats.patches=0,this.isMergingStateCache=!1,Fe.timeEnd("mergeUpdatesIntoCachedState")}async maybeMergeUpdatesIntoCachedState(){if(!(this.cachedUpdatesStats.updates<100&&this.cachedUpdatesStats.patches<800))try{await this.mergeUpdatesIntoCachedState()}catch(t){(t==null?void 0:t.message)!=="Failed to apply changes to cached state in mergeUpdatesIntoCachedState"&&this.onSyncingError(t,"Error in mergeUpdatesIntoCachedState",{}),this.isMergingStateCache=!0;const n=await this.pullLatestStateFromCloud();await this.cache.setItem("stateFetchMeta",this.lastStateFetchMeta),await this.cache.setItem("persistentStateBlob",n);const r=(await this.getAllCachedUpdateKeys()).filter(i=>i.includes("server=true"));await this.cache.removeItems(r),this.isMergingStateCache=!1}}updateQueueInterval(){return 200}async consumeUpdateQueues(){if(!this.syncingStopped){try{await this.isLeaderTab()?(this.wasNotLeaderTabAt&&(Fe.log("Tab became leader after not being leader!"),await this.catchUpNonLeaderTabState(),this.wasNotLeaderTabAt=null),this.isOnline()&&(await this.consumeBackgroundToServerUpdates(),await this.consumeServerToForegroundUpdates(),await this.maybeMergeUpdatesIntoCachedState())):await this.keepNonLeaderTabUpToDate()}catch(t){this.onSyncingError(t,"Error raised from consumeUpdateQueues loop",{})}this.syncingStopped||setTimeout(this.consumeUpdateQueues.bind(this),this.updateQueueInterval())}}async downloadCacheForDebugging(){const t=await this.cache.getItems(await this.cache.keys()),n=new Blob([JSON.stringify(t)],{type:"text/json"}),r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download="debug.json",document.body.appendChild(r),r.click(),document.body.removeChild(r)}async _getCommonFetchOptions(){return{credentials:"include",headers:{},mode:"cors"}}async _fetchServerState(t){const n=await this.rwfetch(`${ur()}/reader/api/state/?${t}`,{...await this._getCommonFetchOptions(),method:"GET"});if(!n.ok){const r=new Ml(n);throw await r.getReasonFromJson(),r}return n.json()}}var Qse=Pf,Xse=$g,Jse=zf,Zse=Math.ceil,ele=Math.max;function tle(e,t,n){(n?Xse(e,t,n):t===void 0)?t=1:t=ele(Jse(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,o=Array(Zse(r/t));i<r;)o[a++]=Qse(e,i,i+=t);return o}var nle=tle;class Eb extends Ka.exports.EventEmitter2{constructor(t){super(),this._itemCacheKeyPrefix="item__",this._ongoingLoadAllPromise=null,this.hasLoadedAll=!1,this.hasLoadedAny=!1,this._options={...t,endpointPrefix:t.endpointPrefix||t.name},this._identifierProperty=this._options.identifierProperty||"id",this._cache=xr.createInstance({name:`store__${this._options.name}`})}async clearCache(){this._log("Clearing cache..."),await this._cache.clear(),this._log("Cleared cache!")}async get(t){return this._cache.getItem(this._getItemCacheKey({[this._identifierProperty]:t}))}async loadByIds(t,n){const r=t;if(!r.length)throw new Error("No IDs given");this._log("loadByIds",{identifiers:r});let i=r;if(!n){const a=r.map(l=>this._getItemCacheKey({[this._identifierProperty]:l})),o=await this._cache.getItems(a),s=Object.values(o);if(i=a.filter(l=>!(l in o)).map(l=>l.replace(this._itemCacheKeyPrefix,"")),s.length&&this.emit("items-received-by-id",{foundItems:s,missingIds:[]}),!i.length)return}return this._performLoad({identifiers:i,requestStartDatetime:Date.now(),updatedSince:void 0})}async loadAll(){if(this._ongoingLoadAllPromise)return this._ongoingLoadAllPromise;this._log("loadAll");let t;const n=await this._cache.getItem("ongoingFullLoadAll");if(n)await this._performLoad({cursorToStartAt:n.nextCursor,identifiers:[],requestStartDatetime:n.requestStartDatetime}),this._cache.setItem("lastLoadAllDatetime",n.requestStartDatetime),t=n.requestStartDatetime;else{const a=await this._cache.getItem("lastLoadAllDatetime");a&&(t=a)}const r=Date.now(),i=this._performLoad({identifiers:[],requestStartDatetime:r,updatedSince:t});return this._ongoingLoadAllPromise=i.then(()=>{this._ongoingLoadAllPromise=null,this._cache.setItem("lastLoadAllDatetime",r)}).catch(a=>{throw this._ongoingLoadAllPromise=null,a}),i}async getAll(){const n=(await this._cache.keys()).filter(a=>a.startsWith(this._itemCacheKeyPrefix)),r=[];let i=0;for(const a of nle(n,100)){i++,i>1&&await ai(10);const o=await this._cache.getItems(a);r.push(...Object.values(o))}return r}onItemsReceivedFromServer(t){return this.on("items-received-from-server",t)}onItemsReceivedById(t){return this.on("items-received-by-id",t)}_createErrorAndLog(t,n){return this._logError(t,n),new Error(t)}async _fetchPage({cursor:t,identifiers:n=[],updatedSince:r}){const i=new URLSearchParams;n.length&&i.append(`filter[${String(this._identifierProperty)}]`,n.join(",")),r&&i.append("filter[updated_at][gt]",r.toString()),t&&i.append("page[cursor]",t.toString());const a=`${ur()}/reader/api/${this._options.endpointPrefix.replace(/^\/|\/$/g,"")}?${i}`,o=await oo(a,{credentials:"include",method:"GET",mode:"cors"});let s;try{s=await o.json()}catch{}if(!o.ok)throw this._createErrorAndLog(`fetchPage: request failed (${o.status})`,{cursor:t,identifiers:n,response:o,body:s,url:a});if(!s)throw this._createErrorAndLog("fetchPage: failed to parse response body",{cursor:t,identifiers:n,response:o,url:a});return s}_getItemCacheKey(t){return`${this._itemCacheKeyPrefix}${t[this._identifierProperty]}`}_log(...t){Fe.log(`[${this._options.name} store]`,...t)}_logError(...t){Fe.error(`[${this._options.name} store]`,...t)}_logWarn(...t){Fe.warn(`[${this._options.name} store]`,...t)}async _performLoad({cursorToStartAt:t,identifiers:n,requestStartDatetime:r,updatedSince:i}){var l,u,c;if(!$N.isOnline)throw new Error("Offline");let a=t,o=!1;const s=!n.length&&!i;do{const f=await this._fetchPage({cursor:a,identifiers:n,updatedSince:i});(l=f.errors)!=null&&l.length?(this._logWarn("load","received some errors",{cursor:a,identifiers:n,pageResult:f}),o=!0):f.data.length<n.length&&!this._options.couldServerReturnFewerItemsThanRequested&&this._logWarn("load: server returned fewer items than requested (and no errors)",{identifiers:n,nextCursor:a,pageResult:f,updatedSince:i}),await this._upsert(n,f.data),this.hasLoadedAny=!0,a=(c=(u=f.meta)==null?void 0:u.page)==null?void 0:c.next_cursor,s&&(a?await this._cache.setItem("ongoingFullLoadAll",{nextCursor:a,requestStartDatetime:r}):await this._cache.removeItem("ongoingFullLoadAll"))}while(a);!o&&!n.length&&(this.hasLoadedAll=!0)}async _upsert(t,n){for(const r of n)await this._cache.setItem(this._getItemCacheKey(r),r),await ai(Kn?5:1);if(n.length&&this.emit("items-received-from-server",n),t.length){const r=new Set(n.map(a=>a[this._identifierProperty])),i=t.filter(a=>!r.has(a));this.emit("items-received-by-id",{foundItems:n,missingIds:i})}}}var Gn={documentLinks:new Eb({endpointPrefix:"documents/links",name:"documentLinkSet",identifierProperty:"parsed_doc_id"}),documentContent:new Eb({endpointPrefix:"documents/content",name:"documentContent"}),knownRssFeeds:new Eb({couldServerReturnFewerItemsThanRequested:!0,endpointPrefix:"known_rss_feeds",name:"knownRssFeeds",identifierProperty:"domain"})};let ar,WO=!1;const xb=[];let Rc;const VO=async(e={})=>{ar=new Yse(e);const t=Xh;for(const[n,r]of Object.entries(Gn))r.onAny((i,a)=>{t.emit(`stores__${n}__${i}`,a)});Jt||(await ai(),Kn||(await ez(),Gn.documentLinks.onItemsReceivedById(({foundItems:n})=>{Fi.updateDocumentLinks(n)})),await ai(3e3),await Promise.all([QO(),mle(),gle()]))},rle=xr.getItem,ile=xr.setItem,ale=async(e,t,n)=>(await caches.open(e)).put(t,new Response(n)),GO=async()=>{var t,n;const e={credentials:"include",headers:{},method:"GET",mode:"cors"};try{await oo(`${ur()}/reader/api/trigger_cloud_syncs/`,e)}catch(r){if(!((t=r==null?void 0:r.response)!=null&&t.status)||((n=r==null?void 0:r.response)==null?void 0:n.status)!==403)throw r}},ole=async e=>{const t=await oo(`${ur()}/reader/instapaper_csv/`,{credentials:"include",method:"POST",mode:"cors",body:e});if(!t.ok){const n=new Ml(t);throw await n.getReasonFromJson(),n}return t},sle=async e=>{const t=await oo(`${ur()}/reader/api/rss_feed_search?query=${e}`,{credentials:"include",method:"GET"});if(!t.ok){const n=new Ml(t);throw await n.getReasonFromJson(),n}return t.json()},lle=async()=>{const e=await oo(`${ur()}/reader/api/suggested_feeds`,{credentials:"include",method:"GET"});if(!e.ok){const t=new Ml(e);throw await t.getReasonFromJson(),t}return e.json()},KO=async(e=!0)=>{if(ar)for(ar.syncingStopped=!0;!ar.safeToInterrupt();)await ai(100);await Promise.all([xr.clear(),ar&&ar.cache.clear(),...Object.values(Gn).map(t=>t.clearCache())]),!Jt&&window&&window.location&&e&&window.location.reload()},ule=async()=>{ar.downloadCacheForDebugging()};function cle(e){const t=new Set(e),n=Gn.documentLinks.onItemsReceivedFromServer(r=>{const i=r.filter(a=>t.has(a.parsed_doc_id));Fi.updateDocumentLinks(i)});return{unsubscribe:()=>n.off()}}const fle=async(...e)=>Gn.documentLinks.loadByIds(...e),dle=(...e)=>Gn.documentContent.loadByIds(...e),hle=()=>Gn.documentContent.hasLoadedAll,ple=()=>Gn.documentContent.hasLoadedAny;let YO=!1;const QO=async()=>{if(YO||Gn.documentContent.hasLoadedAll)return;YO=!0;const e=async n=>{const r=Fi.getDocumentsByParsedDocId(),i=n.filter(({status:a,id:o})=>{const s=r[o];return a===Ui.Success&&(!s||W2(s))});if(!!i.length)return Fi.setSearchContent(i)};Gn.documentContent.on("items-received-from-server",e);const t=[Fi.initSearchDB()];Kn||t.push(Gn.documentContent.getAll().then(e)),t.push(Gn.documentContent.loadAll()),await Promise.all(t)};async function gle(){if(!Kn)return Gn.documentLinks.loadAll()}const mle=async()=>{WO=!0,xb.length&&Gn.knownRssFeeds.loadByIds(xb),Gn.knownRssFeeds.on("items-received-by-id",({foundItems:e,missingIds:t})=>{Fi.onRSSFeedsLoaded(e,t)})},vle=e=>WO?Gn.knownRssFeeds.loadByIds(e):(xb.push(...e),Promise.reject(new Error("Not allowed yet. Will fetch once allowed."))),kb=async(e,t=!1)=>{t&&GO(),ar&&await ar.syncServerStateForNext(5),e>1&&setTimeout(()=>kb(e-1),1500)},XO=async({shouldMinimize:e}={})=>ar.setUpInitialState({shouldMinimize:e}),yle=async e=>ar.queueStateUpdateFromForeground(e),wle=async()=>{const e=await oo(`${ur()}/reader/api/profile_details/`,{credentials:"include",method:"GET"});if(!e.ok){const t=new Ml(e);throw await t.getReasonFromJson(),t}return Rc=await e.json(),Fi.setProfile(Rc,{userInteraction:null}),zj({id:Rc.profile_id,email:Rc.email}),Rc},ble=e=>{if(!ip)throw new Error("Can only use _testHelper in tests");if(Fe.log(`stateSyncing:${e}`),!ar){Fe.warn("Can't apply syncing test helper since stateSyncer is not initialized yet.");return}e==="stopSyncing"?ar.syncingStopped=!0:e==="resumeSyncing"&&(ar.syncingStopped=!1,ar.consumeUpdateQueues())},JO=async(e,t)=>xr.setItem(`listState-list:${e}`,t),_le=async(e,t)=>xr.setItem(`listState-updated:${Date.now()}`,[e,t]),Sle=async()=>{Fe.time("listState: getDocumentListCacheFromDisk");const e=await xr.keys(),t=xr.getItems(e.filter(a=>a.startsWith("listState-list"))),n=xr.getItems(e.filter(a=>a.startsWith("listState-updated"))),[r,i]=await Promise.all([t,n]);return Fe.timeEnd("listState: getDocumentListCacheFromDisk"),{lists:r,updates:i}},Ele=async()=>{const e=await xr.keys();await xr.removeItems(e.filter(t=>t.startsWith("listState"))),window&&window.location&&window.location.reload()},xle=async(e,t)=>{Fe.time("listState: mergeUpdatesIntoDiskCache");for(const n of Object.values((e==null?void 0:e.lists)||{}))await JO(n.id,n);await xr.removeItems(t),Fe.timeEnd("listState: mergeUpdatesIntoDiskCache")};var kle=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",init:VO,getCacheItem:rle,setCacheItem:ile,putItemInCacheStorage:ale,triggerCloudSyncs:GO,uploadInstapaperCSV:ole,getRssSuggestions:sle,getUserFeedSuggestions:lle,clearAllCaches:KO,downloadSyncerCacheForDebugging:ule,watchLinksReceivedFromServer:cle,loadDocumentLinksByIds:fle,loadDocumentContentByIds:dle,hasLoadedAllDocumentContent:hle,hasLoadedAnyDocumentContent:ple,populateContentSearch:QO,loadRelatedRSSFeedsForDomains:vle,pollLatestStateAndContent:kb,setUpInitialState:XO,queueStateUpdateFromForeground:yle,getAndSetProfileData:wle,_syncingTestHelper:ble,cacheFullDocumentList:JO,cacheUpdatedDocuments:_le,getDocumentListCacheFromDisk:Sle,clearDocumentListCache:Ele,mergeListUpdatesIntoDiskCache:xle});const Tb=Mc(),Xh=Tb?new Zc({getGateName:()=>"Background",localMethods:kle,loggingColor:"gray",loggingPrefix:"\u{1F6E0}",portalName:"background-foreground",sendMessage:async(e,t)=>{if(t==="callResponse"){const i=parseInt(e.data.initiatorGateName.split("-")[1],10);await ct.tabs.sendMessage(i,e);return}if(t==="event"){const r=await Sl({});await Promise.all(r.map(async i=>{!i.id||!Ko(i.url||i.pendingUrl)||await ct.tabs.sendMessage(i.id,e)}));return}const[n]=await Sl({active:!0,currentWindow:!0});!(n!=null&&n.id)||await ct.tabs.sendMessage(n.id,e)},shouldLog:!1}):{};Tb&&Vb(async(...e)=>await Xh.handleIncomingMessage(...e)||void 0);var Fi=Tb?Xh.methods:{};const ZO=e=>new Promise(t=>e.createReader().readEntries(n=>Promise.all(n.filter(r=>r.name[0]!==".").map(r=>r.isDirectory?ZO(r):new Promise(i=>r.file(i)))).then(r=>[].concat(...r)).then(t))),Tle=e=>ZO(e).then(t=>t.map(n=>n.name+n.lastModifiedDate).join()),eI=(e,t)=>{Tle(e).then(n=>{!t||t===n?setTimeout(()=>eI(e,n),1e3):chrome.runtime.reload()})};chrome.management&&chrome.management.getSelf&&chrome.management.getSelf(e=>{e.installType==="development"&&(chrome.runtime.getPackageDirectoryEntry(t=>eI(t)),chrome.tabs.query({active:!0,lastFocusedWindow:!0},t=>{t[0]&&chrome.tabs.reload(t[0].id)}))});class bl{constructor(){bl.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=bl.id}setupOnce(t,n){var r=i=>{var a=n().getIntegration(bl);if(a){try{if(Ale(i,a._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_t.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return a._previousEvent=i}return a._previousEvent=i}return i};r.id=this.name,t(r)}}bl.__initStatic();function Ale(e,t){return t?!!(Cle(e,t)||Rle(e,t)):!1}function Cle(e,t){var n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!nI(e,t)||!tI(e,t))}function Rle(e,t){var n=rI(t),r=rI(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!nI(e,t)||!tI(e,t))}function tI(e,t){let n=iI(e),r=iI(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){var i=r[o],a=n[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function nI(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function rI(e){return e.exception&&e.exception.values&&e.exception.values[0]}function iI(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var Nle=(e,t)=>{if(e.level&&["log","info","warn"].includes(e.level))return!0;const n=e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames||[];let r="^@?[a-z]+-extension://";t&&!t.includes("@")&&(r+=t.replace(/[{}]/g,""));const i=new RegExp(r,"i");return n.some(a=>a.filename&&i.test(a.filename))},Ole=({currentExtensionId:e}={})=>({beforeSend(t){var r,i,a;if(Jt!==Nle(t,e))return null;const n=(a=(i=(r=t.exception)==null?void 0:r.values)==null?void 0:i[0])==null?void 0:a.value;return Jt&&(navigator.userAgent.toLowerCase().includes("android")||typeof n=="string"&&(n.includes("No tab with id:")||n.includes("The browser is shutting down")))||typeof n=="string"&&/Request Failed \(5[0-9]{2}\)/i.test(n)?null:t},environment:Kb,release:`${Uc}@${Yb}`,tracesSampleRate:0});const Ile=(e={})=>({extra:e});var Dle={init:(e,t,n)=>{if(ei){n&&n();return}const r=[new bl];n&&r.push(new c2.GlobalHandlers({onerror:!1,onunhandledrejection:!1}));try{const i=Ole({currentExtensionId:t});s2({autoSessionTracking:!1,beforeSend:i.beforeSend,dsn:"https://1997f80258294537b1adb01cf14fe285@o374023.ingest.sentry.io/5650352",ignoreErrors:["Could not establish connection. Receiving end does not exist.","Extension context invalidated."],integrations:r,release:e})}catch(i){Fe.error(i),n&&n();return}n&&l2(n)},trackError:(e,t)=>{const n=[e,Ile(t)];if(ei){Fe.error(...n);return}try{ss(...n)}catch{Fe.error(...n)}}},Nc=(e=ct.runtime.id)=>e.startsWith("{")||e==="team@readwise.io";async function Ple(){return(await En.get(["hadAccessToReader"])).hadAccessToReader}var Jh=()=>{if(Nc())return!1;const e=navigator.userAgent.toLowerCase();return!e.includes("chrome")&&e.includes("safari")};const Oc=[];let _l=!1;const Lle=async()=>{_l||(await Promise.all(Oc.map(({id:e})=>ct.contextMenus.update(e,{visible:!1}))),_l=!0)},Ab=async(e,t)=>{if(Oc.find(r=>r.context===e))throw new Error(`${e} context menu item already exists`);const n=await ct.contextMenus.create({...t,contexts:[e],visible:!_l&&t.visible});return Oc.push({context:e,id:n,initialVisbility:t.visible||!0}),n},$le=async()=>{!_l||(await Promise.all(Oc.map(({id:e,initialVisbility:t})=>ct.contextMenus.update(e,{visible:t}))),_l=!1)},Fle=async(e,t)=>{const n=Oc.find(i=>i.context===e);if(!n)throw new Error(`${e} context menu item cannot be found`);const r=Object.entries(t).filter(([i])=>!(_l&&i==="visible"));if(!!r.length)return ct.contextMenus.update(n.id,Object.fromEntries(r))};var Ic=new Ka.exports.EventEmitter2({maxListeners:999});const aI=async(e,t={})=>{const n={...t,body:JSON.stringify(t.body),method:(t.method||"get").toUpperCase()};console.log(`[API] (${n.method.toLowerCase()}) ${e}`,n.body);const r=await fetch(e,n);if(r.status>=400){const i=`${r.status} (${n.method}) ${e}`;console.error("[API]",i);const a=new Error(i);throw a.response=r,a}return r},oI=async({apiSegment:e="api",body:t,method:n="get",shouldUseWebAuth:r,versionSegment:i="v2",url:a})=>{const o={"Content-Type":"application/json","X-Requested-By":"Readwise Highlighter browser extension"};if(!r){const s=await Zh();s.startsWith("SessionToken ")?o.Authorization=s:o.Authorization=`Token ${s}`}try{const s=lc([ur(),e,i,a]),l=await aI(s,{body:t,headers:o,method:n});return{data:l.status===204?null:await l.json(),response:l}}catch(s){throw console.error("Failed to send request",s),s}},jle=async()=>{try{return await oI({apiSegment:"/reader/api",method:"get",url:"/auth",versionSegment:""}),!0}catch{return!1}},Zh=async()=>{const{authKey:e}=await En.get(["authKey"]);if(e)return await En.set({connectionStatus:"connected"}),e;try{await En.set({connectionStatus:"connecting"});const{data:t}=await oI({method:"post",shouldUseWebAuth:!0,url:"session_token",versionSegment:"",apiSegment:"/reader/api"});return await En.set({authKey:t.session_token,connectionStatus:"connected"}),Ic.emit("extension-logged-in"),t.session_token}catch(t){throw await En.set({connectionStatus:t.response&&t.response.status===401?"no-auth":void 0,authKey:null}),t}};var sI={checkForAccessToReader:jle,getAuthKey:Zh,sendRequest:aI};const lI=(e,t)=>Array.from(t.querySelectorAll(`head meta[name="${e}"]`),n=>n.getAttribute("content").trim()).filter(Boolean);var Mle=(e=document)=>lI("citation_author",e).join(", ")||lI("author",e).join(", ")||null,zle=async({url:e})=>{const n=await(await sI.sendRequest(e)).text(),i=new DOMParser().parseFromString(n,"text/html"),a={html:n,title:i.title.trim()},o=Mle(i);return o&&(a.author=o),a},uI=async()=>(await Sl({active:!0,windowId:ct.windows.WINDOW_ID_CURRENT})).find(Boolean),Ble=zf,Ule="Expected a function";function Hle(e,t){var n;if(typeof t!="function")throw new TypeError(Ule);return e=Ble(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var qle=Hle,Wle=qle;function Vle(e){return Wle(2,e)}var Gle=Vle;let Jr,ep=!1;const cI=async()=>{if(ep||Jr)return;ep=!0,await VO({onNewEventFromForeground:()=>{},onNewUpdatesForForeground:async t=>{if(!!Jr){for(const n of t)zg(Jr,n.patch);Ic.emit("new-persistent-state-updates-from-server",t)}},getCurrentPersistentState:async t=>{if(!!Jr)return P1(Jr,t)},runStateChecksum:t=>Jr?D1(Jr.documents,t):!1,onLoggedOut:async()=>{En.set({connectionStatus:"no-auth",authKey:null}),Jr=void 0}});const e=(await XO()).persistentState;!ep||Jr||(Jr=e,ep=!1,Fe.log("Set up persistentStateCache as ",Jr))},fI=Gle(async()=>{await cI(),Ic.on("extension-logged-in",cI)}),dI=()=>Jr;class Kle{constructor(t){if(this.documentId=null,this.browserTab=t,!this.browserTab.id)throw new Error("browserTab is undefined");if(!this.browserTab.id)throw new Error("browserTab.id is undefined");this.id=this.browserTab.id,this.init({})}async init({sourceUrlToUse:t}){var r,i;if(this.sourceUrl=t||this.browserTab.url,!((r=this.sourceUrl)!=null&&r.startsWith("http")))return;if(!t)try{this.sourceUrl=Vg(this.sourceUrl)}catch(a){this.log("Source URL normalization failed, exiting tab initialization",a);return}this.log("init",{sourceUrl:this.sourceUrl});const n=dI();if(n!=null&&n.documents){if(!this.sourceUrl)throw new Error("sourceUrl not set");if(this.documentId=this.documentId||((i=H1(n.documents,this.sourceUrl,{additionalFilter:a=>[He.Article,He.Video].includes(a.category)}))==null?void 0:i.id)||null,this.documentId&&n.documents[this.documentId]){this.onSavedDocumentFound(this.documentId,n.documents);return}}await this.message("navigated-to-unsaved-url")}async onSavedDocumentFound(t,n){this.documentId=t;const r=a=>{var s;const o=n[a];return!o||!Af(o)&&o.category!==He.Highlight?[]:(s=o.children)==null?void 0:s.map(l=>{const u=n[l];if(!u)throw new Error("Child not in state");return[u,...r(l)]}).flat()},i=[n[t],...r(t)];await this.message("saved-page-found",{documents:i})}async onPotentialStateUpdates(t){const n=[],r=await this.message("filter-potential-state-updates",t.map(i=>i.patch.map(a=>{const o={path:a.path};return M2(a.value)&&z2(a.value)&&(o.parent=a.value.parent),o})));for(let i=0;i<t.length;i++){const a=t[i],o=G1(a);if(r[i].some(Boolean)){const s={...a,patch:[],reverse:[]};for(let l=0;l<o.patch.length;l++)r[i][l]&&(s.patch.push(o.patch[l]),s.reverse.push(o.reverse[l]));n.push(s)}}this.message("apply-filtered-state-updates",n)}log(...t){console.log(`[Tab#${this.id}]`,...t)}async message(t,n={}){var i;this.log("message",t,"start",n);let r;try{r=await ct.tabs.sendMessage(this.id,{message:t,data:n})}catch(a){if(this.log("message",t,"error",a),!((i=a==null?void 0:a.message)!=null&&i.startsWith("No tab with id")))throw a}return this.log("message",t,"end",r),r}async reset(t,n){const r={};n||(r.sourceUrlToUse=this.sourceUrl),this.browserTab=t,this.documentId=null,await this.init(r)}}const Dc=[],Cb=async e=>{const t=e===void 0?await uI():e;if(Ko(t==null?void 0:t.url)){await $le();return}await Lle()},Rb=e=>Dc.find(t=>t.id===e),Pc=async e=>{if(!(!(e!=null&&e.url)||!e.id))return Rb(e.id)||Nb(e)},hI=async(e=2)=>{try{await kb(e)}catch(t){if(t instanceof Error&&t.message==="Could not establish connection. Receiving end does not exist."){Fe.warn("pollLatestStateAndContent failed",t);return}throw t}},Yle=async()=>{const e=await uI();Cb(e),e&&await Nb(e),ct.tabs.onActivated.addListener(async t=>{var r;if(Cb(),!Rb(t.tabId)){let i;try{i=await ct.tabs.get(t.tabId)}catch(a){if((r=a.message)!=null&&r.includes("No tab with id:")){console.warn(a);return}throw a}await Nb(i)}const n=Rb(t.tabId);n!=null&&n.documentId&&hI()}),ct.tabs.onRemoved.addListener(async t=>{Qle(t)}),ct.tabs.onUpdated.addListener(async(t,n,r)=>{const i=await Pc(r);if(!i){Ko(r.url)&&console.warn("browser.tabs.onUpdated: no tracked tab");return}!Ko(r.url)||(i.reset(r,Boolean(n.url)),Cb(r),n.url&&hI())}),Ic.on("new-persistent-state-updates-from-server",async t=>{if(!t.length)return;const n=Object.values(Dc),r=n.map(o=>o.sourceUrl).filter(j2);if(!r)return;const i={};for(const o of t)for(const s of o.patch)if(s.op==="add"&&/^\/documents\/[^/]+$/.test(s.path)){const l=s.value;i[l.id]=l}const a=$V(i,r,{additionalFilter:o=>[He.Article,He.Video].includes(o.category)});if(!(Object.keys(a).length===0&&n.filter(o=>o.documentId).length===0)){for(const o of n)if(!!o.sourceUrl){if(!o.documentId&&a[o.sourceUrl]){const s=dI();if(!(s!=null&&s.documents))throw new Error("No persistentDocuments");const l=a[o.sourceUrl];o.onSavedDocumentFound(l.id,s.documents);continue}o.documentId&&o.onPotentialStateUpdates(t)}}})},Qle=e=>{const t=Dc.findIndex(({id:n})=>n===e);t&&Dc.splice(t,1)},Nb=async e=>{if(!e)throw new Error("browserTab is undefined");if(!Ko(e.url))return;const t=new Kle(e);return Dc.push(t),t},pI=async e=>{const t=`Save ${Bg(e)} to Reader`;Fe.log("createSaveToReaderContextMenuItem","before",{context:e}),await Ab(e,{onclick:async(n,r)=>{console.log(`"${t}" context menu item clicked`,n);const i=await Pc(r);if(!i)return;if(e==="page"){await i.message("save-page-context-menu-item-clicked");return}if(!n.linkUrl)return;let a=!1;const o=n.linkUrl;let s;try{s={...await zle({url:o}),url:o}}catch{a=!0}await i.message("save-link-context-menu-item-clicked",{documentInfo:s,hasErrored:a})},title:t}),Fe.log("createSaveToReaderContextMenuItem","after",{context:e})};let Ob=!1;const gI=async()=>{Ob||(await pI("link"),await pI("page"),Ob=!0)};var mI=async()=>{if(Ob)return;if((await En.get("hadAccessToReader")).hadAccessToReader){console.log("[integrateReader]","integrating reader because they previously had access"),await gI();return}const{connectionStatus:e}=await En.get(["connectionStatus"]);e!=="connected"||!await sI.checkForAccessToReader()||await Promise.all([En.set({hadAccessToReader:!0}),gI()])};const Ib={};async function Xle({url:e}){if(e in Ib)return Ib[e];const n=await(await fetch(ct.runtime.getURL(e))).text();return Ib[e]=n,n}var Jle=async e=>{const t=e.url||e.pendingUrl;if(!t)return;const n=new URLSearchParams;e.title&&n.append("title",e.title||"Unknown"),n.append("url",t),await ct.tabs.create({url:`https://readwise.io/save?${n}`})},vI=async e=>{const t=await Sl({}),n=ct.runtime.getURL(`extension/source/reload/index.html?reason=${e}`);await Promise.all(t.map(async r=>{if(!(!r.id||!Ko(r.url)))try{await ct.browserAction.setPopup({popup:n,tabId:r.id})}catch(i){console.error(i)}}))},yI=async()=>{console.log("onInitialSetUpDone"),await mI(),console.log("onInitialSetUpDone: after integrateReader"),fI(),console.log("onInitialSetUpDone: after initExtensionState"),await vI("install")},wI=async(e,t)=>{const n=ct.runtime.getURL(`extension/source/${e}`);let r;try{const i=await Sl({url:n.replace(/\?.+$/,"")});console.log("openExtensionPage queryResult",{name:t,queryResult:i,relativeUrl:e}),r=i.find(Boolean)}catch(i){console.error(i)}return r&&(!Jh()||r.url||r.pendingUrl)?(console.log(`${t} tab already exists, activating it...`),await ct.tabs.update(r.id,{active:!0})):(r=await ct.tabs.create({url:n}),console.log(`${t} tab launched`,r)),r},Lc=async()=>{if(typeof ct.runtime.getBrowserInfo=="function"&&(await ct.runtime.getBrowserInfo()).name.toLowerCase()==="firefox"&&!(await En.get(["privacyConsent"])).privacyConsent){wI("privacy/index.html","Privacy");return}const t=await wI(`installed/index.html${ei?"?isDev=true":""}`,"Install");try{await Zh(),await yI()}catch(n){let r,i;const a=async(s,l)=>{const u=Math.round(Math.random()*99999);if(i=u,l.url&&(r=l.url),console.log("openInstallPage:",u,"onInstallTabUpdated",{changeInfo:l,lastKnownUrl:r}),!!("status"in l?l.status==="complete"&&(r==null?void 0:r.startsWith(lc([ur(),"/reader/extension_logged_in"]))):l.title==="Logged in for extension...")){if(i!==u){console.log("openInstallPage:",u,"exiting (1) because this is not the latest call. Latest call ID: ",i);return}try{await Zh()}catch(c){if(i!==u){console.log("openInstallPage:",u,"exiting (2) because this is not the latest call. Latest call ID: ",i);return}console.error("openInstallPage:",u,"They logged in but the request to get their API key failed",n);const f=async()=>{try{await ct.tabs.executeScript(s,{code:`const paragraph = document.createElement('p');
                paragraph.innerText = "Log-in failed. Could not retrieve session token. Try disabling and re-enabling the extension. If this doesn't work, please remove and reinstall the extension. If this issue persists, please contact us.";
                document.querySelector('.container').appendChild(paragraph);`})}catch(w){if(i!==u){console.log("openInstallPage:",u,"exiting (displayFailureMessage) because this is not the latest call. Latest call ID: ",i);return}throw console.error("openInstallPage:",u,"Failed to display failure message"),console.error(w),w}};let d=!1;const p=`____${Math.random()}`,v=async()=>{try{await ct.tabs.executeScript(s,{code:`document.getElementById('${p}')?.remove()`})}catch(w){console.error("openInstallPage:",u,"removeScript failed"),console.error(w)}};try{try{await ct.tabs.executeScript(s,{code:`(async () => {
                let didFail = false;
                let response;
                try {
                  response = await fetch('${lc([ur(),"reader/api/session_token"])}', {
                    method: 'POST'
                  });

                  if (response.status >= 400 && response.status < 600) {
                    throw new Error(response.status + ' when getting session token');
                  }
                } catch (e) {
                  didFail = true;
                  console.error(e);
                }

                const responseData = await response.json();
                const script = document.createElement('script');
                script.id = '${p}';
                script.innerHTML = didFail ? 'failed' : responseData.session_token;
                script.type = 'application/json';
                document.head.appendChild(script);
              })();`})}catch(h){if(i!==u){console.log("openInstallPage:",u,"exiting (4) because this is not the latest call. Latest call ID: ",i);return}throw console.error("openInstallPage:",u,"request exec failed"),console.error(h),h}if(console.log("openInstallPage:",u,"after request code injected"),i!==u){console.log("openInstallPage:",u,"exiting (5) because this is not the latest call. Latest call ID: ",i);return}let w;const A=150;for(let h=0;h<1e4;h+=A){if(await ai(A),i!==u){console.log("openInstallPage:",u,"exiting (6) because this is not the latest call. Latest call ID: ",i);return}console.log("openInstallPage:",u,"for:",{delaySoFar:h});let g;try{g=await ct.tabs.executeScript(s,{code:`document.getElementById('${p}')?.innerHTML`})}catch(b){if(i!==u){console.log("openInstallPage:",u,"exiting (7) because this is not the latest call. Latest call ID: ",i);return}throw console.error("openInstallPage:",u,"for: innerHtml exec failed"),console.error(b),b}if(console.log("openInstallPage:",u,"for: innerHtmlResults",g),g!=null&&g[0]){g[0]!=="failed"&&(w=g[0]);break}}if(i!==u){console.log("openInstallPage:",u,"exiting (8) because this is not the latest call. Latest call ID: ",i);return}w?(console.log("openInstallPage:",u,"got session token",w),await En.set({authKey:w,connectionStatus:"connected"}),Ic.emit("extension-logged-in"),d=!0):(console.log("openInstallPage:",u,"no session token",w),await f()),v()}catch(w){if(console.error("openInstallPage:",u,"inside main catch"),console.error(w),i!==u){console.log("openInstallPage:",u,"exiting (9) because this is not the latest call. Latest call ID: ",i);return}await f(),v()}if(i!==u){console.log("openInstallPage:",u,"exiting (10) because this is not the latest call. Latest call ID: ",i);return}if(console.log("openInstallPage:",u,"shouldProceed",d),!d)throw c}try{ct.tabs.onUpdated.removeListener(o)}catch(c){throw console.error("openInstallPage:",u,"tabs.onUpdated.removeListener failed"),console.error(c),c}try{await ct.tabs.update(s,{active:!0,url:ct.runtime.getURL("extension/source/installed/index.html")})}catch(c){throw console.error("openInstallPage:",u,"tabs.update failed"),console.error(c),c}try{await yI()}catch(c){throw console.error("openInstallPage:",u,"onInitialSetUpDone failed"),console.error(c),c}}},o=async(s,l)=>{s===t.id&&a(s,l)};ct.tabs.onUpdated.addListener(o)}};"global"in window||(window.global=window);try{Dle.init(ct.runtime.getManifest().version,ct.runtime.id)}catch(e){console.log("Failed to set up Sentry",e)}const bI=Mf(async({backgroundColor:e="#376EF2",color:t="#ffffff",text:n,tabId:r})=>{Jh()||await ct.browserAction.setBadgeBackgroundColor({color:e,tabId:r});try{await ct.browserAction.setBadgeTextColor({color:t,tabId:r})}catch{}await ct.browserAction.setBadgeText({tabId:r,text:n})},50,{leading:!0,trailing:!0});(async()=>{ct.runtime.onInstalled.addListener(async i=>{if(console.info("Extension onInstalled fired:",i.reason),!!["install","update"].includes(i.reason)){if(i.reason==="install"){await Promise.all([En.clear(),KO()]),await Lc();return}await vI(i.reason)}}),Vb(async({message:i,data:a},o)=>{var s;if(i==="badge:remove"){if(!o.tab)return;bI({tabId:o.tab.id,text:""});return}if(i==="badge:update-text"){if(!o.tab)return;bI({...a,tabId:o.tab.id,text:a.text.toString()});return}if(i.startsWith("contextMenuItem")){try{await Fle("selection",{visible:i.endsWith("show")})}catch{}return}if(i==="getTabId")return(s=o.tab)==null?void 0:s.id;if(i==="loadText")return Xle(a);i==="extension:open-install-page"&&await Lc()}),Yle(),Jh()||ct.notifications.onClicked.addListener(async i=>{i&&i.startsWith("readwise-")&&await ct.tabs.create({url:lc([ur(),"open",i.replace(/^readwise-/,"")])})}),await Ab("selection",{title:"Highlight and Save to Readwise",visible:!1,onclick:async(i,a)=>{console.log("Highlight section context menu clicked");const{connectionStatus:o}=await En.get(["connectionStatus"]);if(o!=="connected"){await Lc();return}const s=await Pc(a);!s||await s.message("highlight-selection-context-menu-item-clicked")}}),Ab("image",{title:"Highlight Image and Save to Readwise",onclick:async(i,a)=>{console.log("Highlight image context menu clicked",i);const{connectionStatus:o}=await En.get(["connectionStatus"]);if(o!=="connected"){await Lc();return}const s=await Pc(a);!s||await s.message("highlight-image-context-menu-item-clicked")}});const e=async i=>{const{connectionStatus:a}=await En.get(["connectionStatus"]);if(console.log("onBrowserActionClicked",{connectionStatus:a}),a!=="connected"){await Lc();return}const o=await Pc(i);if(!o){console.log("browserAction.onClicked","no tab returned from getTabFromBrowserTab, exiting");return}if((Nc()||Jh())&&await Ple()){const s=i.url||i.pendingUrl;if(q1(s)===He.PDF){await Jle(i);return}}await o.message("browser-action-clicked")};ct.browserAction.onClicked.addListener(e),ct.commands.onCommand.addListener(e);const t=Nc()?Nc:i=>!Nc(i),n=["egfepjgjabnppmaiadpedbgadkcelcbd","{f7619bc3-ed22-44a3-83ad-e79a78416737}"].filter(t);n.forEach(i=>{const a="i-exist";console.log("[extension-communication]","sending message",{request:a,senderId:ct.runtime.id}),ct.runtime.sendMessage(i,a).catch(()=>{})}),ct.runtime.onMessageExternal.addListener((i,a,o)=>{console.log("[extension-communication]","received",{request:i,sender:a}),n.includes(a.id)&&i==="i-exist"&&o(!0)});const{connectionStatus:r}=await En.get(["connectionStatus"]);r==="connected"&&(fI(),await mI())})()})();
