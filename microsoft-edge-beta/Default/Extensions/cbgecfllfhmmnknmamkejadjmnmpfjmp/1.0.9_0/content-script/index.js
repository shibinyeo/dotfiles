"use strict";(()=>{var Ve=Object.create;var ve=Object.defineProperty;var Xe=Object.getOwnPropertyDescriptor;var qe=Object.getOwnPropertyNames;var Ye=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Je=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of qe(t))!ze.call(e,n)&&n!==r&&ve(e,n,{get:()=>t[n],enumerable:!(i=Xe(t,n))||i.enumerable});return e};var re=(e,t,r)=>(r=e!=null?Ve(Ye(e)):{},Je(t||!e||!e.__esModule?ve(r,"default",{value:e,enumerable:!0}):r,e));var Ee=H((Nt,ie)=>{function pe(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(r){return r.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let r=function(i){if(i.nodeType==i.TEXT_NODE)return`${i.nodeName} ("${i.textContent}")`;let n=Array.from(i.attributes||[],function(s){return`${s.name}="${s.value}"`}).join(" ");return`<${i.localName} ${n}>`};this.log=function(){if(typeof dump<"u"){var i=Array.prototype.map.call(arguments,function(n){return n&&n.nodeName?r(n):n}).join(" ");dump("Reader: (Readability) "+i+`
`)}else if(typeof console<"u"){let n=Array.from(arguments,s=>s&&s.nodeType==this.ELEMENT_NODE?r(s):s);n.unshift("Reader: (Readability)"),console.log.apply(console,n)}}}else this.log=function(){}}pe.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var r=e.length-1;r>=0;r--){var i=e[r],n=i.parentNode;n&&(!t||t.call(this,i,r,e))&&n.removeChild(i)}},_replaceNodeTags:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(let r of e)this._setNodeTag(r,t)},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_findNode:function(e,t){return Array.prototype.find.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments),r=t.map(function(i){return e.call(i)});return Array.prototype.concat.apply([],r)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(r){var i=e.getElementsByTagName(r);return Array.isArray(i)?i:Array.from(i)}))},_cleanClasses:function(e){var t=this._classesToPreserve,r=(e.getAttribute("class")||"").split(/\s+/).filter(function(i){return t.indexOf(i)!=-1}).join(" ");for(r?e.setAttribute("class",r):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var t=this._doc.baseURI,r=this._doc.documentURI;function i(a){if(t==r&&a.charAt(0)=="#")return a;try{return new URL(a,t).href}catch{}return a}var n=this._getAllNodesWithTag(e,["a"]);this._forEachNode(n,function(a){var o=a.getAttribute("href");if(o)if(o.indexOf("javascript:")===0)if(a.childNodes.length===1&&a.childNodes[0].nodeType===this.TEXT_NODE){var u=this._doc.createTextNode(a.textContent);a.parentNode.replaceChild(u,a)}else{for(var c=this._doc.createElement("span");a.firstChild;)c.appendChild(a.firstChild);a.parentNode.replaceChild(c,a)}else a.setAttribute("href",i(o))});var s=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(s,function(a){var o=a.getAttribute("src"),u=a.getAttribute("poster"),c=a.getAttribute("srcset");if(o&&a.setAttribute("src",i(o)),u&&a.setAttribute("poster",i(u)),c){var A=c.replace(this.REGEXPS.srcsetUrl,function(p,L,N,C){return i(L)+(N||"")+C});a.setAttribute("srcset",A)}})},_simplifyNestedElements:function(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&!(t.id&&t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}else if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var r=t.children[0],i=0;i<t.attributes.length;i++)r.setAttribute(t.attributes[i].name,t.attributes[i].value);t.parentNode.replaceChild(r,t),t=r;continue}}t=this._getNextNode(t)}},_getArticleTitle:function(){var e=this._doc,t="",r="";try{t=r=e.title.trim(),typeof t!="string"&&(t=r=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var i=!1;function n(A){return A.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t))i=/ [\\\/>»] /.test(t),t=r.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),n(t)<3&&(t=r.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(t.indexOf(": ")!==-1){var s=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),a=t.trim(),o=this._someNode(s,function(A){return A.textContent.trim()===a});o||(t=r.substring(r.lastIndexOf(":")+1),n(t)<3?t=r.substring(r.indexOf(":")+1):n(r.substr(0,r.indexOf(":")))>5&&(t=r))}else if(t.length>150||t.length<15){var u=e.getElementsByTagName("h1");u.length===1&&(t=this._getInnerText(u[0]))}t=t.trim().replace(this.REGEXPS.normalize," ");var c=n(t);return c<=4&&(!i||c!=n(r.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=r),t},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(t){for(var r=t.nextSibling,i=!1;(r=this._nextNode(r))&&r.tagName=="BR";){i=!0;var n=r.nextSibling;r.parentNode.removeChild(r),r=n}if(i){var s=this._doc.createElement("p");for(t.parentNode.replaceChild(s,t),r=s.nextSibling;r;){if(r.tagName=="BR"){var a=this._nextNode(r.nextSibling);if(a&&a.tagName=="BR")break}if(!this._isPhrasingContent(r))break;var o=r.nextSibling;s.appendChild(r),r=o}for(;s.lastChild&&this._isWhitespace(s.lastChild);)s.removeChild(s.lastChild);s.parentNode.tagName==="P"&&this._setNodeTag(s.parentNode,"DIV")}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var r=e.ownerDocument.createElement(t);e.firstChild;)r.appendChild(e.firstChild);e.parentNode.replaceChild(r,e),e.readability&&(r.readability=e.readability);for(var i=0;i<e.attributes.length;i++)try{r.setAttribute(e.attributes[i].name,e.attributes[i].value)}catch{}return r},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(r){this._cleanMatchedNodes(r,function(i,n){return this.REGEXPS.shareElements.test(n)&&i.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(r){var i=r.getElementsByTagName("img").length,n=r.getElementsByTagName("embed").length,s=r.getElementsByTagName("object").length,a=r.getElementsByTagName("iframe").length,o=i+n+s+a;return o===0&&!this._getInnerText(r,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(r){var i=this._nextNode(r.nextSibling);i&&i.tagName=="P"&&r.parentNode.removeChild(r)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(r){var i=this._hasSingleTagInsideElement(r,"TBODY")?r.firstElementChild:r;if(this._hasSingleTagInsideElement(i,"TR")){var n=i.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var s=n.firstElementChild;s=this._setNodeTag(s,this._everyNode(s.childNodes,this._isPhrasingContent)?"P":"DIV"),r.parentNode.replaceChild(s,r)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,t){var r=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),i=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!r.length||!i.length)return 0;var n=i.filter(a=>!r.includes(a)),s=n.join(" ").length/i.join(" ").length;return 1-s},_checkByline:function(e,t){if(this._articleByline)return!1;if(e.getAttribute!==void 0)var r=e.getAttribute("rel"),i=e.getAttribute("itemprop");return(r==="author"||i&&i.indexOf("author")!==-1||this.REGEXPS.byline.test(t))&&this._isValidByline(e.textContent)?(this._articleByline=e.textContent.trim(),!0):!1},_getNodeAncestors:function(e,t){t=t||0;for(var r=0,i=[];e.parentNode&&(i.push(e.parentNode),!(t&&++r===t));)e=e.parentNode;return i},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,r=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var i=e.innerHTML;;){this.log("Starting grabArticle loop");var n=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),s=[],a=this._doc.documentElement;let _e=!0;for(;a;){a.tagName==="HTML"&&(this._articleLang=a.getAttribute("lang"));var o=a.className+" "+a.id;if(!this._isProbablyVisible(a)){this.log("Removing hidden node - "+o),a=this._removeAndGetNext(a);continue}if(this._checkByline(a,o)){a=this._removeAndGetNext(a);continue}if(_e&&this._headerDuplicatesTitle(a)){this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),_e=!1,a=this._removeAndGetNext(a);continue}if(n){if(this.REGEXPS.unlikelyCandidates.test(o)&&!this.REGEXPS.okMaybeItsACandidate.test(o)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&a.tagName!=="BODY"&&a.tagName!=="A"){this.log("Removing unlikely candidate - "+o),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+o),a=this._removeAndGetNext(a);continue}}if((a.tagName==="DIV"||a.tagName==="SECTION"||a.tagName==="HEADER"||a.tagName==="H1"||a.tagName==="H2"||a.tagName==="H3"||a.tagName==="H4"||a.tagName==="H5"||a.tagName==="H6")&&this._isElementWithoutContent(a)){a=this._removeAndGetNext(a);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(a.tagName)!==-1&&s.push(a),a.tagName==="DIV"){for(var u=null,c=a.firstChild;c;){var A=c.nextSibling;if(this._isPhrasingContent(c))u!==null?u.appendChild(c):this._isWhitespace(c)||(u=t.createElement("p"),a.replaceChild(u,c),u.appendChild(c));else if(u!==null){for(;u.lastChild&&this._isWhitespace(u.lastChild);)u.removeChild(u.lastChild);u=null}c=A}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var p=a.children[0];a.parentNode.replaceChild(p,a),a=p,s.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),s.push(a))}a=this._getNextNode(a)}var L=[];this._forEachNode(s,function(M){if(!(!M.parentNode||typeof M.parentNode.tagName>"u")){var B=this._getInnerText(M);if(!(B.length<25)){var ye=this._getNodeAncestors(M,5);if(ye.length!==0){var q=0;q+=1,q+=B.split(",").length,q+=Math.min(Math.floor(B.length/100),3),this._forEachNode(ye,function(U,ee){if(!(!U.tagName||!U.parentNode||typeof U.parentNode.tagName>"u")){if(typeof U.readability>"u"&&(this._initializeNode(U),L.push(U)),ee===0)var te=1;else ee===1?te=2:te=ee*3;U.readability.contentScore+=q/te}})}}}});for(var N=[],C=0,P=L.length;C<P;C+=1){var w=L[C],I=w.readability.contentScore*(1-this._getLinkDensity(w));w.readability.contentScore=I,this.log("Candidate:",w,"with score "+I);for(var D=0;D<this._nbTopCandidates;D++){var k=N[D];if(!k||I>k.readability.contentScore){N.splice(D,0,w),N.length>this._nbTopCandidates&&N.pop();break}}}var l=N[0]||null,h=!1,g;if(l===null||l.tagName==="BODY"){for(l=t.createElement("DIV"),h=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),l.appendChild(e.firstChild);e.appendChild(l),this._initializeNode(l)}else if(l){for(var d=[],_=1;_<N.length;_++)N[_].readability.contentScore/l.readability.contentScore>=.75&&d.push(this._getNodeAncestors(N[_]));var b=3;if(d.length>=b)for(g=l.parentNode;g.tagName!=="BODY";){for(var x=0,m=0;m<d.length&&x<b;m++)x+=Number(d[m].includes(g));if(x>=b){l=g;break}g=g.parentNode}l.readability||this._initializeNode(l),g=l.parentNode;for(var T=l.readability.contentScore,v=T/3;g.tagName!=="BODY";){if(!g.readability){g=g.parentNode;continue}var O=g.readability.contentScore;if(O<v)break;if(O>T){l=g;break}T=g.readability.contentScore,g=g.parentNode}for(g=l.parentNode;g.tagName!="BODY"&&g.children.length==1;)l=g,g=l.parentNode;l.readability||this._initializeNode(l)}var y=t.createElement("DIV");r&&(y.id="readability-content");var R=Math.max(10,l.readability.contentScore*.2);g=l.parentNode;for(var G=g.children,V=0,me=G.length;V<me;V++){var E=G[V],j=!1;if(this.log("Looking at sibling node:",E,E.readability?"with score "+E.readability.contentScore:""),this.log("Sibling has score",E.readability?E.readability.contentScore:"Unknown"),E===l)j=!0;else{var fe=0;if(E.className===l.className&&l.className!==""&&(fe+=l.readability.contentScore*.2),E.readability&&E.readability.contentScore+fe>=R)j=!0;else if(E.nodeName==="P"){var Ae=this._getLinkDensity(E),de=this._getInnerText(E),Z=de.length;(Z>80&&Ae<.25||Z<80&&Z>0&&Ae===0&&de.search(/\.( |$)/)!==-1)&&(j=!0)}}j&&(this.log("Appending node:",E),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(E.nodeName)===-1&&(this.log("Altering sibling:",E,"to div."),E=this._setNodeTag(E,"DIV")),y.appendChild(E),G=g.children,V-=1,me-=1)}if(this._debug&&this.log("Article content pre-prep: "+y.innerHTML),this._prepArticle(y),this._debug&&this.log("Article content post-prep: "+y.innerHTML),h)l.id="readability-page-1",l.className="page";else{var X=t.createElement("DIV");for(X.id="readability-page-1",X.className="page";y.firstChild;)X.appendChild(y.firstChild);y.appendChild(X)}this._debug&&this.log("Article content after paging: "+y.innerHTML);var Q=!0,F=this._getInnerText(y,!0).length;if(F<this._charThreshold)if(Q=!1,e.innerHTML=i,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:y,textLength:F});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:y,textLength:F});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:y,textLength:F});else{if(this._attempts.push({articleContent:y,textLength:F}),this._attempts.sort(function(M,B){return B.textLength-M.textLength}),!this._attempts[0].textLength)return null;y=this._attempts[0].articleContent,Q=!0}if(Q){var We=[g,l].concat(this._getNodeAncestors(g));return this._someNode(We,function(M){if(!M.tagName)return!1;var B=M.getAttribute("dir");return B?(this._articleDir=B,!0):!1}),y}}},_isValidByline:function(e){return typeof e=="string"||e instanceof String?(e=e.trim(),e.length>0&&e.length<100):!1},_unescapeHtmlEntities:function(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(r,i){return t[i]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(r,i,n){var s=parseInt(i||n,i?16:10);return String.fromCharCode(s)})},_getJSONLD:function(e){var t=this._getAllNodesWithTag(e,["script"]),r;return this._forEachNode(t,function(i){if(!r&&i.getAttribute("type")==="application/ld+json")try{var n=i.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),s=JSON.parse(n);if(!s["@context"]||!s["@context"].match(/^https?\:\/\/schema\.org$/)||(!s["@type"]&&Array.isArray(s["@graph"])&&(s=s["@graph"].find(function(c){return(c["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!s||!s["@type"]||!s["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(r={},typeof s.name=="string"&&typeof s.headline=="string"&&s.name!==s.headline){var a=this._getArticleTitle(),o=this._textSimilarity(s.name,a)>.75,u=this._textSimilarity(s.headline,a)>.75;u&&!o?r.title=s.headline:r.title=s.name}else typeof s.name=="string"?r.title=s.name.trim():typeof s.headline=="string"&&(r.title=s.headline.trim());s.author&&(typeof s.author.name=="string"?r.byline=s.author.name.trim():Array.isArray(s.author)&&s.author[0]&&typeof s.author[0].name=="string"&&(r.byline=s.author.filter(function(c){return c&&typeof c.name=="string"}).map(function(c){return c.name.trim()}).join(", "))),typeof s.description=="string"&&(r.excerpt=s.description.trim()),s.publisher&&typeof s.publisher.name=="string"&&(r.siteName=s.publisher.name.trim());return}catch(c){this.log(c.message)}}),r||{}},_getArticleMetadata:function(e){var t={},r={},i=this._doc.getElementsByTagName("meta"),n=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,s=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(i,function(a){var o=a.getAttribute("name"),u=a.getAttribute("property"),c=a.getAttribute("content");if(c){var A=null,p=null;u&&(A=u.match(n),A&&(p=A[0].toLowerCase().replace(/\s/g,""),r[p]=c.trim())),!A&&o&&s.test(o)&&(p=o,c&&(p=p.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),r[p]=c.trim()))}}),t.title=e.title||r["dc:title"]||r["dcterm:title"]||r["og:title"]||r["weibo:article:title"]||r["weibo:webpage:title"]||r.title||r["twitter:title"],t.title||(t.title=this._getArticleTitle()),t.byline=e.byline||r["dc:creator"]||r["dcterm:creator"]||r.author,t.excerpt=e.excerpt||r["dc:description"]||r["dcterm:description"]||r["og:description"]||r["weibo:article:description"]||r["weibo:webpage:description"]||r.description||r["twitter:description"],t.siteName=e.siteName||r["og:site_name"],t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t},_isSingleImage:function(e){return e.tagName==="IMG"?!0:e.children.length!==1||e.textContent.trim()!==""?!1:this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(i){for(var n=0;n<i.attributes.length;n++){var s=i.attributes[n];switch(s.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(s.value))return}i.parentNode.removeChild(i)});var r=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(r,function(i){var n=e.createElement("div");if(n.innerHTML=i.innerHTML,!!this._isSingleImage(n)){var s=i.previousElementSibling;if(s&&this._isSingleImage(s)){var a=s;a.tagName!=="IMG"&&(a=s.getElementsByTagName("img")[0]);for(var o=n.getElementsByTagName("img")[0],u=0;u<a.attributes.length;u++){var c=a.attributes[u];if(c.value!==""&&(c.name==="src"||c.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(c.value))){if(o.getAttribute(c.name)===c.value)continue;var A=c.name;o.hasAttribute(A)&&(A="data-old-"+A),o.setAttribute(A,c.value)}}i.parentNode.replaceChild(n.firstElementChild,s)}}})},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script"]),function(t){return t.nodeValue="",t.removeAttribute("src"),!0}),this._removeNodes(this._getAllNodesWithTag(e,["noscript"]))},_hasSingleTagInsideElement:function(e,t){return e.children.length!=1||e.children[0].tagName!==t?!1:!this._someNode(e.childNodes,function(r){return r.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(r.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&e.textContent.trim().length==0&&(e.children.length==0||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(e.tagName)!==-1||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText:function(e,t){t=typeof t>"u"?!0:t;var r=e.textContent.trim();return t?r.replace(this.REGEXPS.normalize," "):r},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)!==-1&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var r=e.firstElementChild;r!==null;)this._cleanStyles(r),r=r.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(t===0)return 0;var r=0;return this._forEachNode(e.getElementsByTagName("a"),function(i){var n=i.getAttribute("href"),s=n&&this.REGEXPS.hashUrl.test(n)?.3:1;r+=this._getInnerText(i).length*s}),r/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var r=["object","embed","iframe"].indexOf(t)!==-1;this._removeNodes(this._getAllNodesWithTag(e,[t]),function(i){if(r){for(var n=0;n<i.attributes.length;n++)if(this.REGEXPS.videos.test(i.attributes[n].value))return!1;if(i.tagName==="object"&&this.REGEXPS.videos.test(i.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,r,i){r=r||3,t=t.toUpperCase();for(var n=0;e.parentNode;){if(r>0&&n>r)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,n++}return!1},_getRowAndColumnCount:function(e){for(var t=0,r=0,i=e.getElementsByTagName("tr"),n=0;n<i.length;n++){var s=i[n].getAttribute("rowspan")||0;s&&(s=parseInt(s,10)),t+=s||1;for(var a=0,o=i[n].getElementsByTagName("td"),u=0;u<o.length;u++){var c=o[u].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),a+=c||1}r=Math.max(r,a)}return{rows:t,columns:r}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),r=0;r<t.length;r++){var i=t[r],n=i.getAttribute("role");if(n=="presentation"){i._readabilityDataTable=!1;continue}var s=i.getAttribute("datatable");if(s=="0"){i._readabilityDataTable=!1;continue}var a=i.getAttribute("summary");if(a){i._readabilityDataTable=!0;continue}var o=i.getElementsByTagName("caption")[0];if(o&&o.childNodes.length>0){i._readabilityDataTable=!0;continue}var u=["col","colgroup","tfoot","thead","th"],c=function(p){return!!i.getElementsByTagName(p)[0]};if(u.some(c)){this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;continue}if(i.getElementsByTagName("table")[0]){i._readabilityDataTable=!1;continue}var A=this._getRowAndColumnCount(i);if(A.rows>=10||A.columns>4){i._readabilityDataTable=!0;continue}i._readabilityDataTable=A.rows*A.columns>10}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){var r=this.REGEXPS.b64DataUrl.exec(t.src);if(r[1]==="image/svg+xml")return;for(var i=!1,n=0;n<t.attributes.length;n++){var s=t.attributes[n];if(s.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(s.value)){i=!0;break}}if(i){var a=t.src.search(/base64\s*/i)+7,o=t.src.length-a;o<133&&t.removeAttribute("src")}}if(!((t.src||t.srcset&&t.srcset!="null")&&t.className.toLowerCase().indexOf("lazy")===-1)){for(var u=0;u<t.attributes.length;u++)if(s=t.attributes[u],!(s.name==="src"||s.name==="srcset"||s.name==="alt")){var c=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(s.value)?c="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(s.value)&&(c="src"),c){if(t.tagName==="IMG"||t.tagName==="PICTURE")t.setAttribute(c,s.value);else if(t.tagName==="FIGURE"&&!this._getAllNodesWithTag(t,["img","picture"]).length){var A=this._doc.createElement("img");A.setAttribute(c,s.value),t.appendChild(A)}}}}})},_getTextDensity:function(e,t){var r=this._getInnerText(e,!0).length;if(r===0)return 0;var i=0,n=this._getAllNodesWithTag(e,t);return this._forEachNode(n,s=>i+=this._getInnerText(s,!0).length),i/r},_cleanConditionally:function(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),function(r){var i=function(h){return h._readabilityDataTable},n=t==="ul"||t==="ol";if(!n){var s=0,a=this._getAllNodesWithTag(r,["ul","ol"]);this._forEachNode(a,h=>s+=this._getInnerText(h).length),n=s/this._getInnerText(r).length>.9}if(t==="table"&&i(r)||this._hasAncestorTag(r,"table",-1,i)||this._hasAncestorTag(r,"code"))return!1;var o=this._getClassWeight(r);this.log("Cleaning Conditionally",r);var u=0;if(o+u<0)return!0;if(this._getCharCount(r,",")<10){for(var c=r.getElementsByTagName("p").length,A=r.getElementsByTagName("img").length,p=r.getElementsByTagName("li").length-100,L=r.getElementsByTagName("input").length,N=this._getTextDensity(r,["h1","h2","h3","h4","h5","h6"]),C=0,P=this._getAllNodesWithTag(r,["object","embed","iframe"]),w=0;w<P.length;w++){for(var I=0;I<P[w].attributes.length;I++)if(this.REGEXPS.videos.test(P[w].attributes[I].value))return!1;if(P[w].tagName==="object"&&this.REGEXPS.videos.test(P[w].innerHTML))return!1;C++}var D=this._getLinkDensity(r),k=this._getInnerText(r).length,l=A>1&&c/A<.5&&!this._hasAncestorTag(r,"figure")||!n&&p>c||L>Math.floor(c/3)||!n&&N<.9&&k<25&&(A===0||A>2)&&!this._hasAncestorTag(r,"figure")||!n&&o<25&&D>.2||o>=25&&D>.5||C===1&&k<75||C>1;return l}return!1})},_cleanMatchedNodes:function(e,t){for(var r=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=r;)t.call(this,i,i.className+" "+i.id)?i=this._removeAndGetNext(i):i=this._getNextNode(i)},_cleanHeaders:function(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(r){let i=this._getClassWeight(r)<0;return i&&this.log("Removing header with low class weight:",r),i})},_headerDuplicatesTitle:function(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var r=this._getArticleMetadata(t);this._articleTitle=r.title;var i=this._grabArticle();if(!i)return null;if(this.log("Grabbed: "+i.innerHTML),this._postProcessContent(i),!r.excerpt){var n=i.getElementsByTagName("p");n.length>0&&(r.excerpt=n[0].textContent.trim())}var s=i.textContent;return{title:this._articleTitle,byline:r.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(i),textContent:s,length:s.length,excerpt:r.excerpt,siteName:r.siteName||this._articleSiteName}}};typeof ie=="object"&&(ie.exports=pe)});var Ne=H((xt,se)=>{var be={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function Ke(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)}function Ze(e,t={}){typeof t=="function"&&(t={visibilityChecker:t});var r={minScore:20,minContentLength:140,visibilityChecker:Ke};t=Object.assign(r,t);var i=e.querySelectorAll("p, pre, article"),n=e.querySelectorAll("div > br");if(n.length){var s=new Set(i);[].forEach.call(n,function(o){s.add(o.parentNode)}),i=Array.from(s)}var a=0;return[].some.call(i,function(o){if(!t.visibilityChecker(o))return!1;var u=o.className+" "+o.id;if(be.unlikelyCandidates.test(u)&&!be.okMaybeItsACandidate.test(u)||o.matches("li p"))return!1;var c=o.textContent.trim().length;return c<t.minContentLength?!1:(a+=Math.sqrt(c-t.minContentLength),a>t.minScore)})}typeof se=="object"&&(se.exports=Ze)});var Te=H((Tt,xe)=>{var Qe=Ee(),et=Ne();xe.exports={Readability:Qe,isProbablyReaderable:et}});var we=H((ne,Se)=>{(function(e,t){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],t);else if(typeof ne<"u")t(Se);else{var r={exports:{}};t(r),e.browser=r.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ne,function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let t="The message port closed before a response was received.",r=i=>{let n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(n).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(h,g=void 0){super(g),this.createItem=h}get(h){return this.has(h)||this.set(h,this.createItem(h)),super.get(h)}}let a=l=>l&&typeof l=="object"&&typeof l.then=="function",o=(l,h)=>(...g)=>{i.runtime.lastError?l.reject(new Error(i.runtime.lastError.message)):h.singleCallbackArg||g.length<=1&&h.singleCallbackArg!==!1?l.resolve(g[0]):l.resolve(g)},u=l=>l==1?"argument":"arguments",c=(l,h)=>function(d,..._){if(_.length<h.minArgs)throw new Error(`Expected at least ${h.minArgs} ${u(h.minArgs)} for ${l}(), got ${_.length}`);if(_.length>h.maxArgs)throw new Error(`Expected at most ${h.maxArgs} ${u(h.maxArgs)} for ${l}(), got ${_.length}`);return new Promise((b,x)=>{if(h.fallbackToNoCallback)try{d[l](..._,o({resolve:b,reject:x},h))}catch(m){console.warn(`${l} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,m),d[l](..._),h.fallbackToNoCallback=!1,h.noCallback=!0,b()}else h.noCallback?(d[l](..._),b()):d[l](..._,o({resolve:b,reject:x},h))})},A=(l,h,g)=>new Proxy(h,{apply(d,_,b){return g.call(_,l,...b)}}),p=Function.call.bind(Object.prototype.hasOwnProperty),L=(l,h={},g={})=>{let d=Object.create(null),_={has(x,m){return m in l||m in d},get(x,m,T){if(m in d)return d[m];if(!(m in l))return;let v=l[m];if(typeof v=="function")if(typeof h[m]=="function")v=A(l,l[m],h[m]);else if(p(g,m)){let O=c(m,g[m]);v=A(l,l[m],O)}else v=v.bind(l);else if(typeof v=="object"&&v!==null&&(p(h,m)||p(g,m)))v=L(v,h[m],g[m]);else if(p(g,"*"))v=L(v,h[m],g["*"]);else return Object.defineProperty(d,m,{configurable:!0,enumerable:!0,get(){return l[m]},set(O){l[m]=O}}),v;return d[m]=v,v},set(x,m,T,v){return m in d?d[m]=T:l[m]=T,!0},defineProperty(x,m,T){return Reflect.defineProperty(d,m,T)},deleteProperty(x,m){return Reflect.deleteProperty(d,m)}},b=Object.create(l);return new Proxy(b,_)},N=l=>({addListener(h,g,...d){h.addListener(l.get(g),...d)},hasListener(h,g){return h.hasListener(l.get(g))},removeListener(h,g){h.removeListener(l.get(g))}}),C=new s(l=>typeof l!="function"?l:function(g){let d=L(g,{},{getContent:{minArgs:0,maxArgs:0}});l(d)}),P=new s(l=>typeof l!="function"?l:function(g,d,_){let b=!1,x,m=new Promise(y=>{x=function(R){b=!0,y(R)}}),T;try{T=l(g,d,x)}catch(y){T=Promise.reject(y)}let v=T!==!0&&a(T);if(T!==!0&&!v&&!b)return!1;let O=y=>{y.then(R=>{_(R)},R=>{let G;R&&(R instanceof Error||typeof R.message=="string")?G=R.message:G="An unexpected error occurred",_({__mozWebExtensionPolyfillReject__:!0,message:G})}).catch(R=>{console.error("Failed to send onMessage rejected reply",R)})};return O(v?T:m),!0}),w=({reject:l,resolve:h},g)=>{i.runtime.lastError?i.runtime.lastError.message===t?h():l(new Error(i.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?l(new Error(g.message)):h(g)},I=(l,h,g,...d)=>{if(d.length<h.minArgs)throw new Error(`Expected at least ${h.minArgs} ${u(h.minArgs)} for ${l}(), got ${d.length}`);if(d.length>h.maxArgs)throw new Error(`Expected at most ${h.maxArgs} ${u(h.maxArgs)} for ${l}(), got ${d.length}`);return new Promise((_,b)=>{let x=w.bind(null,{resolve:_,reject:b});d.push(x),g.sendMessage(...d)})},D={devtools:{network:{onRequestFinished:N(C)}},runtime:{onMessage:N(P),onMessageExternal:N(P),sendMessage:I.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:I.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},k={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":k},services:{"*":k},websites:{"*":k}},L(i,D,n)};e.exports=r(chrome)}else e.exports=globalThis.browser})});var Ge=H(f=>{"use strict";var W=Symbol.for("react.element"),tt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),at=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ct=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Le=Symbol.iterator;function gt(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var Pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ie=Object.assign,De={};function $(e,t,r){this.props=e,this.context=t,this.refs=De,this.updater=r||Pe}$.prototype.isReactComponent={};$.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ke(){}ke.prototype=$.prototype;function le(e,t,r){this.props=e,this.context=t,this.refs=De,this.updater=r||Pe}var oe=le.prototype=new ke;oe.constructor=le;Ie(oe,$.prototype);oe.isPureReactComponent=!0;var Re=Array.isArray,Oe=Object.prototype.hasOwnProperty,ce={current:null},Me={key:!0,ref:!0,__self:!0,__source:!0};function Be(e,t,r){var i,n={},s=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Oe.call(t,i)&&!Me.hasOwnProperty(i)&&(n[i]=t[i]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];n.children=u}if(e&&e.defaultProps)for(i in o=e.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:W,type:e,key:s,ref:a,props:n,_owner:ce.current}}function ht(e,t){return{$$typeof:W,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ue(e){return typeof e=="object"&&e!==null&&e.$$typeof===W}function mt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ce=/\/+/g;function ae(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mt(""+e.key):t.toString(36)}function z(e,t,r,i,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case W:case tt:a=!0}}if(a)return a=e,n=n(a),e=i===""?"."+ae(a,0):i,Re(n)?(r="",e!=null&&(r=e.replace(Ce,"$&/")+"/"),z(n,t,r,"",function(c){return c})):n!=null&&(ue(n)&&(n=ht(n,r+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(Ce,"$&/")+"/")+e)),t.push(n)),1;if(a=0,i=i===""?".":i+":",Re(e))for(var o=0;o<e.length;o++){s=e[o];var u=i+ae(s,o);a+=z(s,t,r,u,n)}else if(u=gt(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=i+ae(s,o++),a+=z(s,t,r,u,n);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Y(e,t,r){if(e==null)return e;var i=[],n=0;return z(e,i,"","",function(s){return t.call(r,s,n++)}),i}function ft(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var S={current:null},J={transition:null},At={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:J,ReactCurrentOwner:ce};f.Children={map:Y,forEach:function(e,t,r){Y(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Y(e,function(){t++}),t},toArray:function(e){return Y(e,function(t){return t})||[]},only:function(e){if(!ue(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};f.Component=$;f.Fragment=rt;f.Profiler=st;f.PureComponent=le;f.StrictMode=it;f.Suspense=ot;f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=At;f.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ie({},e.props),n=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ce.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Oe.call(t,u)&&!Me.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:W,type:e.type,key:n,ref:s,props:i,_owner:a}};f.createContext=function(e){return e={$$typeof:at,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nt,_context:e},e.Consumer=e};f.createElement=Be;f.createFactory=function(e){var t=Be.bind(null,e);return t.type=e,t};f.createRef=function(){return{current:null}};f.forwardRef=function(e){return{$$typeof:lt,render:e}};f.isValidElement=ue;f.lazy=function(e){return{$$typeof:ut,_payload:{_status:-1,_result:e},_init:ft}};f.memo=function(e,t){return{$$typeof:ct,type:e,compare:t===void 0?null:t}};f.startTransition=function(e){var t=J.transition;J.transition={};try{e()}finally{J.transition=t}};f.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};f.useCallback=function(e,t){return S.current.useCallback(e,t)};f.useContext=function(e){return S.current.useContext(e)};f.useDebugValue=function(){};f.useDeferredValue=function(e){return S.current.useDeferredValue(e)};f.useEffect=function(e,t){return S.current.useEffect(e,t)};f.useId=function(){return S.current.useId()};f.useImperativeHandle=function(e,t,r){return S.current.useImperativeHandle(e,t,r)};f.useInsertionEffect=function(e,t){return S.current.useInsertionEffect(e,t)};f.useLayoutEffect=function(e,t){return S.current.useLayoutEffect(e,t)};f.useMemo=function(e,t){return S.current.useMemo(e,t)};f.useReducer=function(e,t,r){return S.current.useReducer(e,t,r)};f.useRef=function(e){return S.current.useRef(e)};f.useState=function(e){return S.current.useState(e)};f.useSyncExternalStore=function(e,t,r){return S.current.useSyncExternalStore(e,t,r)};f.useTransition=function(){return S.current.useTransition()};f.version="18.2.0"});var He=H((wt,Ue)=>{"use strict";Ue.exports=Ge()});var je=re(Te()),he=re(we());var ge=re(He());function $e(e,t){e.style.position="fixed",e.style.transformOrigin="top left",e.style.transform="translate(0px, 0px)";let r=0,i=0;window.addEventListener("message",n=>{if(n.origin!==t)return;let s=n.data;switch(s.type){case"DRAG_MOUSEMOVE":{r+=s.movementX,i+=s.movementY,e.style.transform=`translate(${r}px, ${i}px)`;break}}},!1)}he.default.runtime.onMessage.addListener(async e=>{if(vt(e))switch(e.type){case"GET_PAGE_INFO":return yt();case"OPEN_POPUP":return Fe();default:console.warn("Unknown message type: ",e.type)}});function dt(e){let t=/^(https?:)?(\/\/)?((www\.|m\.)?youtube(-nocookie)?\.com\/((watch)?\?(feature=\w*&)?vi?=|embed\/|vi?\/|e\/)|youtu.be\/)([\w-]{10,20})/i,r=e.match(t);return r?r[9]:null}async function _t(){var i;let e=dt(window.location.href);if(!e)return;let t=await fetch(`https://www.youtube.com/watch?v=${e}`).then(n=>n.text());if(!t)return;let r=t.match(/ytInitialPlayerResponse\s*=\s*({.+?});/s);if(r)try{let n=JSON.parse(r[1]);if(!n)return;let s=(i=n.captions.playerCaptionsTracklistRenderer.captionTracks)==null?void 0:i[0];return await(await fetch(s.baseUrl)).text()}catch(n){return}}async function yt(){let e=document.cloneNode(!0),t=null;try{t=new je.Readability(e).parse()}catch(i){let n=document.body.querySelector("main")||document.body;console.log("readability error",i),t={title:document.title,dir:document.dir||"rtl",content:n==null?void 0:n.innerHTML,textContent:n.innerText}}let r=await _t().catch(i=>{console.warn("could not get subtitles",i)});return{...t,subtitles:r,url:document.location.href,lang:document.documentElement.lang}}function vt(e){return typeof e=="object"&&e!==null&&"type"in e}var K=null;async function Fe(){var r;K||(K=pt());let e=await K;(r=e.contentWindow)==null||r.postMessage({type:"VISIBILITY_CHANGE",data:e.style.display==="block"},"*"),e.style.display=e.style.display==="block"?"none":"block";let t=window.location.href;setInterval(()=>{t!==window.location.href&&(K=null,document.body.removeChild(e))},500)}async function pt(){let e=he.default.runtime.getURL("popup/index.html"),t=document.createElement("iframe");t.referrerPolicy="unsafe-url",t.style.all="unset",t.style.width="700px",t.style.height="600px",t.style.zIndex="999999999999",t.style.background="white",t.style.borderRadius="8px",t.style.boxSizing="border-box",t.style.boxShadow="0 0 10px 0 rgba(0, 0, 0, 0.2)",t.style.top="10px",t.style.right="10px",t.style.resize="both",t.src=e,t.addEventListener("load",()=>t.focus(),{once:!0});let r=new URL(e).origin;return $e(t,r),window.addEventListener("message",i=>{if(i.origin===r)switch(i.data.type){case"CLOSE_IFRAME":return Fe()}}),await Et(),document.body.appendChild(t),t}function Et(){return new Promise(e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e(void 0)})}})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
