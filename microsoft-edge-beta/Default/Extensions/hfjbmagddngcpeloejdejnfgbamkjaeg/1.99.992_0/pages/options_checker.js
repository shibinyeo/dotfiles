"use strict";__filename="pages/options_checker.js",define(["require","exports","./async_bg","./options_base"],function(n,r,t,e){var u,s,i;Object.defineProperty(r,"__esModule",{value:true}),u=/\s/g,s=function(n,r){for(var t,e=0,u=n.length,s=r;s<u;s++)switch(n[s]){case"{":case"[":e++;break;case"]":case"}":if(--e>0)break;default:if(!(t=('"'===n[s]?/^"([^"\\]|\\[^])*"/:e>0?/^(?:[$a-zA-Z_][$\w]*|\d[\d.eE+-]|\s+)/:/^\S+/).exec(n.slice(s)))&&!e&&/\s/.test(n[s]))return s;s+=t?t[0].length-1:0}return e>0?r+((t=/^\S*/.exec(n.slice(r)))?t[0].length:0):s},e.r.n.keyMappings.Q=i={i:0,c:null,H:function(){function n(n,r,t){var e,u,s,i,c,o="";if(t.length>2&&":"===t[t.length-2]&&(o=t.slice(-2),t=t.slice(0,-2)),r=r.toLowerCase(),e=t.length>1,u=r.includes("s-"),s=t.toUpperCase(),!e){if(!r)return n;if(u&&r.length<3)return o?"<".concat(s).concat(o,">"):s}return r.includes("v-")?"<v-".concat(t,">"):(i=t.toLowerCase(),r=(c=r).length<4?c:c.slice(0,-1).split("-").sort().join("-")+"-",t!==i&&!u&&(r+="s-"),r||e||o?"<".concat(r).concat(i).concat(o,">"):t)}this.c=function(r){return r.replace(/<(?!<)((?:[ACMSVacmsv]-){0,4})(.[^>]*)>/g,n)},this.H=null},l:function(n,r){return r?"\\u00"+r:"\\\\"},d:function(n){var r,t,e,s,c=n.slice(1),o="",a="";c.startsWith('"')&&c.endsWith('"')?(o=(o=c.slice(1,-1)).replace(/\\(?:x([\da-z]{2})|\\)/gi,i.l),c='"'.concat(o,'"')):c&&"{[".includes(c[0])&&(c=c.replace(/([{,](?: |\x7f\d*\x80)*)(\w+):|"(?:[^"\\]|\\[^])*"/g,function(n,r,t){return r?"".concat(r,'"').concat(t,'":'):n}),a=c),t=(r=c.includes("\x7f"))&&!o?(/^(?:\x7f\d*\x80)+/.exec(c)||[""])[0]:"",e=!r||o?"":(/(?:\x7f\d*\x80)+$/.exec(c.slice(t.length+1))||[""])[0];try{if("string"!=typeof(s=JSON.parse(r?c.replace(/\x7f\d*\x80/g,""):c))&&!/\s/.test(c))return true===s?"":a?"="+a:n;c=r?JSON.parse(c.slice(t.length,e?-e.length:void 0)):s}catch(n){c=r?o||c.slice(t.length,e?-e.length:void 0):o||c}return"="+t+(c=(c=c&&"string"==typeof c?c.replace(/\\(\\|s)/g,function(n,r){return"s"===r?" ":n}):c)&&JSON.stringify(c).replace(u,i.$))+e},$:function(n){return"\\u"+(n.charCodeAt(0)+1048576).toString(16).slice(2)},nn:function(n,r,t,e,u){var s,c,o,a,f,l=i.c(e);return l!==e&&(console.log("KeyMappings Checker:",e,"is corrected into",l),e=l),"mapkey"===t.toLowerCase()?(o=(c=(s=/^\S+/.exec(u.trimLeft()))&&s[0])&&i.c(c))!==c&&(console.log("KeyMappings Checker:",c,"is corrected into",o),u=u.replace(c,o)):t.startsWith("unmap")||(a=u.trimLeft().split(/\s/,1)[0])&&(f=u.indexOf(a)+a.length,e+=u.slice(0,f),u=u.slice(f)),i.rn("",r,e,u)},tn:function(n,r,t){return r.replace("map","mapKey")+(3===t.length?t[1]:t)},rn:function(n,r,t,e){var c,o,a,f,l;if(/\s(createTab|openUrl)/.test(t)&&!/\surls?=/i.test(e)&&(e=i.en(e)),!e)return r+t;for(c=0,o=-1,a="";o<e.length&&(o=e.indexOf("=",o+1),a+=e.slice(c,o>=0?o:void 0),!(o<0));)(f=o+1)<e.length&&'"[{'.includes(e[f])?f=s(e,f):(u.lastIndex=o,f=(l=u.exec(e))?l.index:e.length),a+=i.d(e.slice(o,f)),c=o=f;return r+t+a},en:function(n){var r,t=[];return(n=(n+" ").replace(/\s+(\w+:[^=\s]+|[^\s=]+:\/\/\S+)(?=\s|$)/g,function(n,r){return t.push(r),""}).trimRight())+((r=t.length)>1?" urls=":r?" url=":"")+(r?JSON.stringify(r>1?t:t[0]):"")},U:function(n){return n?(this.H&&this.H(),n=(n=(n=(n=(n=(n=n.replace(/\\(?:\n|\\\n[^\S\n]*)/g,function(n){return"\n"===n[1]?"\x7f\x80":"\x7f".concat(n.length-3,"\x80")})).replace(/^([ \t]*(?:#\s?)?map\s+(?:<(?!<)(?:.-){0,4}.[\w:]*?>|\S)\s+)(<(?!<)(?:[ACMSVacmsv]-){0,4}.\w*?>|\S)(?=\s|$)/gm,this.tn)).replace(/^([ \t]*(?:#\s?)?(map(?:[kK]ey|!)?|run!?|unmap!?)\s+)(\S+)([^\n]*)/gm,this.nn)).replace(/^([ \t]*(?:#\s?)?(?:command|shortcut)\s+)(\S+)([^\n]*)/gm,this.rn)).replace(/\x7f(\d*)\x80/g,function(n,r){return""===r?"\\\n":"\\\\\n"+" ".repeat(+r)})).replace(/\\(?:\n|\\\n\s*)$/,"").trim()):n}},e.r.n.searchUrl.Q={i:0,U:function(n){return t.O(14,n).then(function(n){var r,t,u=e.r.n.searchUrl;return null==n?u.q():(r=n[1],n[0]?(u.un(""),r):(t=e.t("nonPlainURL",[r]),console.log("searchUrl checker:",t),u.un(t),u.q()))})}},e.r.n.newTabUrl.Q={i:0,U:function(n){return t.O(13,/^\/?pages\/[a-z]+.html\b/i.test(n)?t.sn.runtime.getURL(n):n.toLowerCase()).then(function(r){var t=r[0],u=r[1];return t=t.split("?",1)[0].split("#",1)[0],n.startsWith("http")||1!==u&&!/^(?!http|s?ftp)[a-z\-]+:\/?\/?newtab\b\/?/i.test(n)?n:e.u.S.newTabUrl})}},e.r.n.vimSync.W=function(){var n,r,t,u;if(!this.K&&true===this.Y()){for(t in r=0,n=e.r.n)n[t].K||++r;if(u=r>1,setTimeout(alert,100,e.t(u?"changedBeforeSync":"warningForSync")),u)return false}return true},e.r.n.keyboard.Q={i:0,U:function(n){return null==n||n.length<2||!(n[0]>0&&n[0]<4e3)||!(n[1]>0&&n[1]<1e3)?e.u.S.keyboard:[+n[0],+n[1]].concat(n.slice(2))}}});